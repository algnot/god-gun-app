/*! For license information please see main.97d5c911.js.LICENSE.txt */
!function(){var e={7228:function(e){e.exports=function(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r},e.exports.__esModule=!0,e.exports.default=e.exports},2858:function(e){e.exports=function(e){if(Array.isArray(e))return e},e.exports.__esModule=!0,e.exports.default=e.exports},3646:function(e,t,n){var r=n(7228);e.exports=function(e){if(Array.isArray(e))return r(e)},e.exports.__esModule=!0,e.exports.default=e.exports},3269:function(e,t,n){var r=n(379);e.exports=function(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=r(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var i=0,a=function(){};return{s:a,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,u=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return u=e.done,e},e:function(e){s=!0,o=e},f:function(){try{u||null==n.return||n.return()}finally{if(s)throw o}}}},e.exports.__esModule=!0,e.exports.default=e.exports},9713:function(e){e.exports=function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e},e.exports.__esModule=!0,e.exports.default=e.exports},6860:function(e){e.exports=function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)},e.exports.__esModule=!0,e.exports.default=e.exports},3884:function(e){e.exports=function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a=[],o=!0,u=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);o=!0);}catch(s){u=!0,i=s}finally{try{o||null==n.return||n.return()}finally{if(u)throw i}}return a}},e.exports.__esModule=!0,e.exports.default=e.exports},521:function(e){e.exports=function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},e.exports.__esModule=!0,e.exports.default=e.exports},8206:function(e){e.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},e.exports.__esModule=!0,e.exports.default=e.exports},3038:function(e,t,n){var r=n(2858),i=n(3884),a=n(379),o=n(521);e.exports=function(e,t){return r(e)||i(e,t)||a(e,t)||o()},e.exports.__esModule=!0,e.exports.default=e.exports},319:function(e,t,n){var r=n(3646),i=n(6860),a=n(379),o=n(8206);e.exports=function(e){return r(e)||i(e)||a(e)||o()},e.exports.__esModule=!0,e.exports.default=e.exports},379:function(e,t,n){var r=n(7228);e.exports=function(e,t){if(e){if("string"===typeof e)return r(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(e,t):void 0}},e.exports.__esModule=!0,e.exports.default=e.exports},7757:function(e,t,n){e.exports=n(9727)},4569:function(e,t,n){e.exports=n(8036)},3381:function(e,t,n){"use strict";var r=n(3589),i=n(7297),a=n(9301),o=n(9774),u=n(1804),s=n(9145),c=n(5411),l=n(6467),f=n(221),h=n(9346);e.exports=function(e){return new Promise((function(t,n){var d,p=e.data,v=e.headers,y=e.responseType;function m(){e.cancelToken&&e.cancelToken.unsubscribe(d),e.signal&&e.signal.removeEventListener("abort",d)}r.isFormData(p)&&delete v["Content-Type"];var g=new XMLHttpRequest;if(e.auth){var k=e.auth.username||"",w=e.auth.password?unescape(encodeURIComponent(e.auth.password)):"";v.Authorization="Basic "+btoa(k+":"+w)}var b=u(e.baseURL,e.url);function x(){if(g){var r="getAllResponseHeaders"in g?s(g.getAllResponseHeaders()):null,a={data:y&&"text"!==y&&"json"!==y?g.response:g.responseText,status:g.status,statusText:g.statusText,headers:r,config:e,request:g};i((function(e){t(e),m()}),(function(e){n(e),m()}),a),g=null}}if(g.open(e.method.toUpperCase(),o(b,e.params,e.paramsSerializer),!0),g.timeout=e.timeout,"onloadend"in g?g.onloadend=x:g.onreadystatechange=function(){g&&4===g.readyState&&(0!==g.status||g.responseURL&&0===g.responseURL.indexOf("file:"))&&setTimeout(x)},g.onabort=function(){g&&(n(l("Request aborted",e,"ECONNABORTED",g)),g=null)},g.onerror=function(){n(l("Network Error",e,null,g)),g=null},g.ontimeout=function(){var t=e.timeout?"timeout of "+e.timeout+"ms exceeded":"timeout exceeded",r=e.transitional||f.transitional;e.timeoutErrorMessage&&(t=e.timeoutErrorMessage),n(l(t,e,r.clarifyTimeoutError?"ETIMEDOUT":"ECONNABORTED",g)),g=null},r.isStandardBrowserEnv()){var E=(e.withCredentials||c(b))&&e.xsrfCookieName?a.read(e.xsrfCookieName):void 0;E&&(v[e.xsrfHeaderName]=E)}"setRequestHeader"in g&&r.forEach(v,(function(e,t){"undefined"===typeof p&&"content-type"===t.toLowerCase()?delete v[t]:g.setRequestHeader(t,e)})),r.isUndefined(e.withCredentials)||(g.withCredentials=!!e.withCredentials),y&&"json"!==y&&(g.responseType=e.responseType),"function"===typeof e.onDownloadProgress&&g.addEventListener("progress",e.onDownloadProgress),"function"===typeof e.onUploadProgress&&g.upload&&g.upload.addEventListener("progress",e.onUploadProgress),(e.cancelToken||e.signal)&&(d=function(e){g&&(n(!e||e&&e.type?new h("canceled"):e),g.abort(),g=null)},e.cancelToken&&e.cancelToken.subscribe(d),e.signal&&(e.signal.aborted?d():e.signal.addEventListener("abort",d))),p||(p=null),g.send(p)}))}},8036:function(e,t,n){"use strict";var r=n(3589),i=n(4049),a=n(3773),o=n(777);var u=function e(t){var n=new a(t),u=i(a.prototype.request,n);return r.extend(u,a.prototype,n),r.extend(u,n),u.create=function(n){return e(o(t,n))},u}(n(221));u.Axios=a,u.Cancel=n(9346),u.CancelToken=n(6857),u.isCancel=n(5517),u.VERSION=n(7600).version,u.all=function(e){return Promise.all(e)},u.spread=n(8089),u.isAxiosError=n(9580),e.exports=u,e.exports.default=u},9346:function(e){"use strict";function t(e){this.message=e}t.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},t.prototype.__CANCEL__=!0,e.exports=t},6857:function(e,t,n){"use strict";var r=n(9346);function i(e){if("function"!==typeof e)throw new TypeError("executor must be a function.");var t;this.promise=new Promise((function(e){t=e}));var n=this;this.promise.then((function(e){if(n._listeners){var t,r=n._listeners.length;for(t=0;t<r;t++)n._listeners[t](e);n._listeners=null}})),this.promise.then=function(e){var t,r=new Promise((function(e){n.subscribe(e),t=e})).then(e);return r.cancel=function(){n.unsubscribe(t)},r},e((function(e){n.reason||(n.reason=new r(e),t(n.reason))}))}i.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},i.prototype.subscribe=function(e){this.reason?e(this.reason):this._listeners?this._listeners.push(e):this._listeners=[e]},i.prototype.unsubscribe=function(e){if(this._listeners){var t=this._listeners.indexOf(e);-1!==t&&this._listeners.splice(t,1)}},i.source=function(){var e;return{token:new i((function(t){e=t})),cancel:e}},e.exports=i},5517:function(e){"use strict";e.exports=function(e){return!(!e||!e.__CANCEL__)}},3773:function(e,t,n){"use strict";var r=n(3589),i=n(9774),a=n(7470),o=n(2733),u=n(777),s=n(7835),c=s.validators;function l(e){this.defaults=e,this.interceptors={request:new a,response:new a}}l.prototype.request=function(e,t){"string"===typeof e?(t=t||{}).url=e:t=e||{},(t=u(this.defaults,t)).method?t.method=t.method.toLowerCase():this.defaults.method?t.method=this.defaults.method.toLowerCase():t.method="get";var n=t.transitional;void 0!==n&&s.assertOptions(n,{silentJSONParsing:c.transitional(c.boolean),forcedJSONParsing:c.transitional(c.boolean),clarifyTimeoutError:c.transitional(c.boolean)},!1);var r=[],i=!0;this.interceptors.request.forEach((function(e){"function"===typeof e.runWhen&&!1===e.runWhen(t)||(i=i&&e.synchronous,r.unshift(e.fulfilled,e.rejected))}));var a,l=[];if(this.interceptors.response.forEach((function(e){l.push(e.fulfilled,e.rejected)})),!i){var f=[o,void 0];for(Array.prototype.unshift.apply(f,r),f=f.concat(l),a=Promise.resolve(t);f.length;)a=a.then(f.shift(),f.shift());return a}for(var h=t;r.length;){var d=r.shift(),p=r.shift();try{h=d(h)}catch(v){p(v);break}}try{a=o(h)}catch(v){return Promise.reject(v)}for(;l.length;)a=a.then(l.shift(),l.shift());return a},l.prototype.getUri=function(e){return e=u(this.defaults,e),i(e.url,e.params,e.paramsSerializer).replace(/^\?/,"")},r.forEach(["delete","get","head","options"],(function(e){l.prototype[e]=function(t,n){return this.request(u(n||{},{method:e,url:t,data:(n||{}).data}))}})),r.forEach(["post","put","patch"],(function(e){l.prototype[e]=function(t,n,r){return this.request(u(r||{},{method:e,url:t,data:n}))}})),e.exports=l},7470:function(e,t,n){"use strict";var r=n(3589);function i(){this.handlers=[]}i.prototype.use=function(e,t,n){return this.handlers.push({fulfilled:e,rejected:t,synchronous:!!n&&n.synchronous,runWhen:n?n.runWhen:null}),this.handlers.length-1},i.prototype.eject=function(e){this.handlers[e]&&(this.handlers[e]=null)},i.prototype.forEach=function(e){r.forEach(this.handlers,(function(t){null!==t&&e(t)}))},e.exports=i},1804:function(e,t,n){"use strict";var r=n(4044),i=n(9549);e.exports=function(e,t){return e&&!r(t)?i(e,t):t}},6467:function(e,t,n){"use strict";var r=n(6460);e.exports=function(e,t,n,i,a){var o=new Error(e);return r(o,t,n,i,a)}},2733:function(e,t,n){"use strict";var r=n(3589),i=n(2693),a=n(5517),o=n(221),u=n(9346);function s(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new u("canceled")}e.exports=function(e){return s(e),e.headers=e.headers||{},e.data=i.call(e,e.data,e.headers,e.transformRequest),e.headers=r.merge(e.headers.common||{},e.headers[e.method]||{},e.headers),r.forEach(["delete","get","head","post","put","patch","common"],(function(t){delete e.headers[t]})),(e.adapter||o.adapter)(e).then((function(t){return s(e),t.data=i.call(e,t.data,t.headers,e.transformResponse),t}),(function(t){return a(t)||(s(e),t&&t.response&&(t.response.data=i.call(e,t.response.data,t.response.headers,e.transformResponse))),Promise.reject(t)}))}},6460:function(e){"use strict";e.exports=function(e,t,n,r,i){return e.config=t,n&&(e.code=n),e.request=r,e.response=i,e.isAxiosError=!0,e.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code,status:this.response&&this.response.status?this.response.status:null}},e}},777:function(e,t,n){"use strict";var r=n(3589);e.exports=function(e,t){t=t||{};var n={};function i(e,t){return r.isPlainObject(e)&&r.isPlainObject(t)?r.merge(e,t):r.isPlainObject(t)?r.merge({},t):r.isArray(t)?t.slice():t}function a(n){return r.isUndefined(t[n])?r.isUndefined(e[n])?void 0:i(void 0,e[n]):i(e[n],t[n])}function o(e){if(!r.isUndefined(t[e]))return i(void 0,t[e])}function u(n){return r.isUndefined(t[n])?r.isUndefined(e[n])?void 0:i(void 0,e[n]):i(void 0,t[n])}function s(n){return n in t?i(e[n],t[n]):n in e?i(void 0,e[n]):void 0}var c={url:o,method:o,data:o,baseURL:u,transformRequest:u,transformResponse:u,paramsSerializer:u,timeout:u,timeoutMessage:u,withCredentials:u,adapter:u,responseType:u,xsrfCookieName:u,xsrfHeaderName:u,onUploadProgress:u,onDownloadProgress:u,decompress:u,maxContentLength:u,maxBodyLength:u,transport:u,httpAgent:u,httpsAgent:u,cancelToken:u,socketPath:u,responseEncoding:u,validateStatus:s};return r.forEach(Object.keys(e).concat(Object.keys(t)),(function(e){var t=c[e]||a,i=t(e);r.isUndefined(i)&&t!==s||(n[e]=i)})),n}},7297:function(e,t,n){"use strict";var r=n(6467);e.exports=function(e,t,n){var i=n.config.validateStatus;n.status&&i&&!i(n.status)?t(r("Request failed with status code "+n.status,n.config,null,n.request,n)):e(n)}},2693:function(e,t,n){"use strict";var r=n(3589),i=n(221);e.exports=function(e,t,n){var a=this||i;return r.forEach(n,(function(n){e=n.call(a,e,t)})),e}},221:function(e,t,n){"use strict";var r=n(3589),i=n(4341),a=n(6460),o={"Content-Type":"application/x-www-form-urlencoded"};function u(e,t){!r.isUndefined(e)&&r.isUndefined(e["Content-Type"])&&(e["Content-Type"]=t)}var s={transitional:{silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},adapter:function(){var e;return("undefined"!==typeof XMLHttpRequest||"undefined"!==typeof process&&"[object process]"===Object.prototype.toString.call(process))&&(e=n(3381)),e}(),transformRequest:[function(e,t){return i(t,"Accept"),i(t,"Content-Type"),r.isFormData(e)||r.isArrayBuffer(e)||r.isBuffer(e)||r.isStream(e)||r.isFile(e)||r.isBlob(e)?e:r.isArrayBufferView(e)?e.buffer:r.isURLSearchParams(e)?(u(t,"application/x-www-form-urlencoded;charset=utf-8"),e.toString()):r.isObject(e)||t&&"application/json"===t["Content-Type"]?(u(t,"application/json"),function(e,t,n){if(r.isString(e))try{return(t||JSON.parse)(e),r.trim(e)}catch(i){if("SyntaxError"!==i.name)throw i}return(n||JSON.stringify)(e)}(e)):e}],transformResponse:[function(e){var t=this.transitional||s.transitional,n=t&&t.silentJSONParsing,i=t&&t.forcedJSONParsing,o=!n&&"json"===this.responseType;if(o||i&&r.isString(e)&&e.length)try{return JSON.parse(e)}catch(u){if(o){if("SyntaxError"===u.name)throw a(u,this,"E_JSON_PARSE");throw u}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};r.forEach(["delete","get","head"],(function(e){s.headers[e]={}})),r.forEach(["post","put","patch"],(function(e){s.headers[e]=r.merge(o)})),e.exports=s},7600:function(e){e.exports={version:"0.26.0"}},4049:function(e){"use strict";e.exports=function(e,t){return function(){for(var n=new Array(arguments.length),r=0;r<n.length;r++)n[r]=arguments[r];return e.apply(t,n)}}},9774:function(e,t,n){"use strict";var r=n(3589);function i(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}e.exports=function(e,t,n){if(!t)return e;var a;if(n)a=n(t);else if(r.isURLSearchParams(t))a=t.toString();else{var o=[];r.forEach(t,(function(e,t){null!==e&&"undefined"!==typeof e&&(r.isArray(e)?t+="[]":e=[e],r.forEach(e,(function(e){r.isDate(e)?e=e.toISOString():r.isObject(e)&&(e=JSON.stringify(e)),o.push(i(t)+"="+i(e))})))})),a=o.join("&")}if(a){var u=e.indexOf("#");-1!==u&&(e=e.slice(0,u)),e+=(-1===e.indexOf("?")?"?":"&")+a}return e}},9549:function(e){"use strict";e.exports=function(e,t){return t?e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):e}},9301:function(e,t,n){"use strict";var r=n(3589);e.exports=r.isStandardBrowserEnv()?{write:function(e,t,n,i,a,o){var u=[];u.push(e+"="+encodeURIComponent(t)),r.isNumber(n)&&u.push("expires="+new Date(n).toGMTString()),r.isString(i)&&u.push("path="+i),r.isString(a)&&u.push("domain="+a),!0===o&&u.push("secure"),document.cookie=u.join("; ")},read:function(e){var t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove:function(e){this.write(e,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}}},4044:function(e){"use strict";e.exports=function(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}},9580:function(e,t,n){"use strict";var r=n(3589);e.exports=function(e){return r.isObject(e)&&!0===e.isAxiosError}},5411:function(e,t,n){"use strict";var r=n(3589);e.exports=r.isStandardBrowserEnv()?function(){var e,t=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a");function i(e){var r=e;return t&&(n.setAttribute("href",r),r=n.href),n.setAttribute("href",r),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:"/"===n.pathname.charAt(0)?n.pathname:"/"+n.pathname}}return e=i(window.location.href),function(t){var n=r.isString(t)?i(t):t;return n.protocol===e.protocol&&n.host===e.host}}():function(){return!0}},4341:function(e,t,n){"use strict";var r=n(3589);e.exports=function(e,t){r.forEach(e,(function(n,r){r!==t&&r.toUpperCase()===t.toUpperCase()&&(e[t]=n,delete e[r])}))}},9145:function(e,t,n){"use strict";var r=n(3589),i=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];e.exports=function(e){var t,n,a,o={};return e?(r.forEach(e.split("\n"),(function(e){if(a=e.indexOf(":"),t=r.trim(e.substr(0,a)).toLowerCase(),n=r.trim(e.substr(a+1)),t){if(o[t]&&i.indexOf(t)>=0)return;o[t]="set-cookie"===t?(o[t]?o[t]:[]).concat([n]):o[t]?o[t]+", "+n:n}})),o):o}},8089:function(e){"use strict";e.exports=function(e){return function(t){return e.apply(null,t)}}},7835:function(e,t,n){"use strict";var r=n(7600).version,i={};["object","boolean","number","function","string","symbol"].forEach((function(e,t){i[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}}));var a={};i.transitional=function(e,t,n){function i(e,t){return"[Axios v"+r+"] Transitional option '"+e+"'"+t+(n?". "+n:"")}return function(n,r,o){if(!1===e)throw new Error(i(r," has been removed"+(t?" in "+t:"")));return t&&!a[r]&&(a[r]=!0,console.warn(i(r," has been deprecated since v"+t+" and will be removed in the near future"))),!e||e(n,r,o)}},e.exports={assertOptions:function(e,t,n){if("object"!==typeof e)throw new TypeError("options must be an object");for(var r=Object.keys(e),i=r.length;i-- >0;){var a=r[i],o=t[a];if(o){var u=e[a],s=void 0===u||o(u,a,e);if(!0!==s)throw new TypeError("option "+a+" must be "+s)}else if(!0!==n)throw Error("Unknown option "+a)}},validators:i}},3589:function(e,t,n){"use strict";var r=n(4049),i=Object.prototype.toString;function a(e){return Array.isArray(e)}function o(e){return"undefined"===typeof e}function u(e){return"[object ArrayBuffer]"===i.call(e)}function s(e){return null!==e&&"object"===typeof e}function c(e){if("[object Object]"!==i.call(e))return!1;var t=Object.getPrototypeOf(e);return null===t||t===Object.prototype}function l(e){return"[object Function]"===i.call(e)}function f(e,t){if(null!==e&&"undefined"!==typeof e)if("object"!==typeof e&&(e=[e]),a(e))for(var n=0,r=e.length;n<r;n++)t.call(null,e[n],n,e);else for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.call(null,e[i],i,e)}e.exports={isArray:a,isArrayBuffer:u,isBuffer:function(e){return null!==e&&!o(e)&&null!==e.constructor&&!o(e.constructor)&&"function"===typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)},isFormData:function(e){return"[object FormData]"===i.call(e)},isArrayBufferView:function(e){return"undefined"!==typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&u(e.buffer)},isString:function(e){return"string"===typeof e},isNumber:function(e){return"number"===typeof e},isObject:s,isPlainObject:c,isUndefined:o,isDate:function(e){return"[object Date]"===i.call(e)},isFile:function(e){return"[object File]"===i.call(e)},isBlob:function(e){return"[object Blob]"===i.call(e)},isFunction:l,isStream:function(e){return s(e)&&l(e.pipe)},isURLSearchParams:function(e){return"[object URLSearchParams]"===i.call(e)},isStandardBrowserEnv:function(){return("undefined"===typeof navigator||"ReactNative"!==navigator.product&&"NativeScript"!==navigator.product&&"NS"!==navigator.product)&&("undefined"!==typeof window&&"undefined"!==typeof document)},forEach:f,merge:function e(){var t={};function n(n,r){c(t[r])&&c(n)?t[r]=e(t[r],n):c(n)?t[r]=e({},n):a(n)?t[r]=n.slice():t[r]=n}for(var r=0,i=arguments.length;r<i;r++)f(arguments[r],n);return t},extend:function(e,t,n){return f(t,(function(t,i){e[i]=n&&"function"===typeof t?r(t,n):t})),e},trim:function(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")},stripBOM:function(e){return 65279===e.charCodeAt(0)&&(e=e.slice(1)),e}}},9412:function(e){"use strict";var t="%[a-f0-9]{2}",n=new RegExp(t,"gi"),r=new RegExp("("+t+")+","gi");function i(e,t){try{return decodeURIComponent(e.join(""))}catch(a){}if(1===e.length)return e;t=t||1;var n=e.slice(0,t),r=e.slice(t);return Array.prototype.concat.call([],i(n),i(r))}function a(e){try{return decodeURIComponent(e)}catch(a){for(var t=e.match(n),r=1;r<t.length;r++)t=(e=i(t,r).join("")).match(n);return e}}e.exports=function(e){if("string"!==typeof e)throw new TypeError("Expected `encodedURI` to be of type `string`, got `"+typeof e+"`");try{return e=e.replace(/\+/g," "),decodeURIComponent(e)}catch(t){return function(e){for(var n={"%FE%FF":"\ufffd\ufffd","%FF%FE":"\ufffd\ufffd"},i=r.exec(e);i;){try{n[i[0]]=decodeURIComponent(i[0])}catch(t){var o=a(i[0]);o!==i[0]&&(n[i[0]]=o)}i=r.exec(e)}n["%C2"]="\ufffd";for(var u=Object.keys(n),s=0;s<u.length;s++){var c=u[s];e=e.replace(new RegExp(c,"g"),n[c])}return e}(e)}}},2683:function(e){"use strict";e.exports=function(e,t){for(var n={},r=Object.keys(e),i=Array.isArray(t),a=0;a<r.length;a++){var o=r[a],u=e[o];(i?-1!==t.indexOf(o):t(o,u,e))&&(n[o]=u)}return n}},1725:function(e){"use strict";var t=Object.getOwnPropertySymbols,n=Object.prototype.hasOwnProperty,r=Object.prototype.propertyIsEnumerable;function i(e){if(null===e||void 0===e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map((function(e){return t[e]})).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach((function(e){r[e]=e})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(i){return!1}}()?Object.assign:function(e,a){for(var o,u,s=i(e),c=1;c<arguments.length;c++){for(var l in o=Object(arguments[c]))n.call(o,l)&&(s[l]=o[l]);if(t){u=t(o);for(var f=0;f<u.length;f++)r.call(o,u[f])&&(s[u[f]]=o[u[f]])}}return s}},4245:function(e,t,n){"use strict";var r=n(9713).default,i=n(3038).default,a=n(3269).default,o=n(319).default,u=n(499),s=n(9412),c=n(845),l=n(2683),f=Symbol("encodeFragmentIdentifier");function h(e){if("string"!==typeof e||1!==e.length)throw new TypeError("arrayFormatSeparator must be single character string")}function d(e,t){return t.encode?t.strict?u(e):encodeURIComponent(e):e}function p(e,t){return t.decode?s(e):e}function v(e){return Array.isArray(e)?e.sort():"object"===typeof e?v(Object.keys(e)).sort((function(e,t){return Number(e)-Number(t)})).map((function(t){return e[t]})):e}function y(e){var t=e.indexOf("#");return-1!==t&&(e=e.slice(0,t)),e}function m(e){var t=(e=y(e)).indexOf("?");return-1===t?"":e.slice(t+1)}function g(e,t){return t.parseNumbers&&!Number.isNaN(Number(e))&&"string"===typeof e&&""!==e.trim()?e=Number(e):!t.parseBooleans||null===e||"true"!==e.toLowerCase()&&"false"!==e.toLowerCase()||(e="true"===e.toLowerCase()),e}function k(e,t){h((t=Object.assign({decode:!0,sort:!0,arrayFormat:"none",arrayFormatSeparator:",",parseNumbers:!1,parseBooleans:!1},t)).arrayFormatSeparator);var n=function(e){var t;switch(e.arrayFormat){case"index":return function(e,n,r){t=/\[(\d*)\]$/.exec(e),e=e.replace(/\[\d*\]$/,""),t?(void 0===r[e]&&(r[e]={}),r[e][t[1]]=n):r[e]=n};case"bracket":return function(e,n,r){t=/(\[\])$/.exec(e),e=e.replace(/\[\]$/,""),t?void 0!==r[e]?r[e]=[].concat(r[e],n):r[e]=[n]:r[e]=n};case"colon-list-separator":return function(e,n,r){t=/(:list)$/.exec(e),e=e.replace(/:list$/,""),t?void 0!==r[e]?r[e]=[].concat(r[e],n):r[e]=[n]:r[e]=n};case"comma":case"separator":return function(t,n,r){var i="string"===typeof n&&n.includes(e.arrayFormatSeparator),a="string"===typeof n&&!i&&p(n,e).includes(e.arrayFormatSeparator);n=a?p(n,e):n;var o=i||a?n.split(e.arrayFormatSeparator).map((function(t){return p(t,e)})):null===n?n:p(n,e);r[t]=o};case"bracket-separator":return function(t,n,r){var i=/(\[\])$/.test(t);if(t=t.replace(/\[\]$/,""),i){var a=null===n?[]:n.split(e.arrayFormatSeparator).map((function(t){return p(t,e)}));void 0!==r[t]?r[t]=[].concat(r[t],a):r[t]=a}else r[t]=n?p(n,e):n};default:return function(e,t,n){void 0!==n[e]?n[e]=[].concat(n[e],t):n[e]=t}}}(t),r=Object.create(null);if("string"!==typeof e)return r;if(!(e=e.trim().replace(/^[?#&]/,"")))return r;var o,u=a(e.split("&"));try{for(u.s();!(o=u.n()).done;){var s=o.value;if(""!==s){var l=c(t.decode?s.replace(/\+/g," "):s,"="),f=i(l,2),d=f[0],y=f[1];y=void 0===y?null:["comma","separator","bracket-separator"].includes(t.arrayFormat)?y:p(y,t),n(p(d,t),y,r)}}}catch(I){u.e(I)}finally{u.f()}for(var m=0,k=Object.keys(r);m<k.length;m++){var w=k[m],b=r[w];if("object"===typeof b&&null!==b)for(var x=0,E=Object.keys(b);x<E.length;x++){var S=E[x];b[S]=g(b[S],t)}else r[w]=g(b,t)}return!1===t.sort?r:(!0===t.sort?Object.keys(r).sort():Object.keys(r).sort(t.sort)).reduce((function(e,t){var n=r[t];return Boolean(n)&&"object"===typeof n&&!Array.isArray(n)?e[t]=v(n):e[t]=n,e}),Object.create(null))}t.extract=m,t.parse=k,t.stringify=function(e,t){if(!e)return"";h((t=Object.assign({encode:!0,strict:!0,arrayFormat:"none",arrayFormatSeparator:","},t)).arrayFormatSeparator);for(var n=function(n){return t.skipNull&&(null===(r=e[n])||void 0===r)||t.skipEmptyString&&""===e[n];var r},r=function(e){switch(e.arrayFormat){case"index":return function(t){return function(n,r){var i=n.length;return void 0===r||e.skipNull&&null===r||e.skipEmptyString&&""===r?n:[].concat(o(n),null===r?[[d(t,e),"[",i,"]"].join("")]:[[d(t,e),"[",d(i,e),"]=",d(r,e)].join("")])}};case"bracket":return function(t){return function(n,r){return void 0===r||e.skipNull&&null===r||e.skipEmptyString&&""===r?n:[].concat(o(n),null===r?[[d(t,e),"[]"].join("")]:[[d(t,e),"[]=",d(r,e)].join("")])}};case"colon-list-separator":return function(t){return function(n,r){return void 0===r||e.skipNull&&null===r||e.skipEmptyString&&""===r?n:[].concat(o(n),null===r?[[d(t,e),":list="].join("")]:[[d(t,e),":list=",d(r,e)].join("")])}};case"comma":case"separator":case"bracket-separator":var t="bracket-separator"===e.arrayFormat?"[]=":"=";return function(n){return function(r,i){return void 0===i||e.skipNull&&null===i||e.skipEmptyString&&""===i?r:(i=null===i?"":i,0===r.length?[[d(n,e),t,d(i,e)].join("")]:[[r,d(i,e)].join(e.arrayFormatSeparator)])}};default:return function(t){return function(n,r){return void 0===r||e.skipNull&&null===r||e.skipEmptyString&&""===r?n:[].concat(o(n),null===r?[d(t,e)]:[[d(t,e),"=",d(r,e)].join("")])}}}}(t),i={},a=0,u=Object.keys(e);a<u.length;a++){var s=u[a];n(s)||(i[s]=e[s])}var c=Object.keys(i);return!1!==t.sort&&c.sort(t.sort),c.map((function(n){var i=e[n];return void 0===i?"":null===i?d(n,t):Array.isArray(i)?0===i.length&&"bracket-separator"===t.arrayFormat?d(n,t)+"[]":i.reduce(r(n),[]).join("&"):d(n,t)+"="+d(i,t)})).filter((function(e){return e.length>0})).join("&")},t.parseUrl=function(e,t){t=Object.assign({decode:!0},t);var n=c(e,"#"),r=i(n,2),a=r[0],o=r[1];return Object.assign({url:a.split("?")[0]||"",query:k(m(e),t)},t&&t.parseFragmentIdentifier&&o?{fragmentIdentifier:p(o,t)}:{})},t.stringifyUrl=function(e,n){n=Object.assign(r({encode:!0,strict:!0},f,!0),n);var i=y(e.url).split("?")[0]||"",a=t.extract(e.url),o=t.parse(a,{sort:!1}),u=Object.assign(o,e.query),s=t.stringify(u,n);s&&(s="?".concat(s));var c=function(e){var t="",n=e.indexOf("#");return-1!==n&&(t=e.slice(n)),t}(e.url);return e.fragmentIdentifier&&(c="#".concat(n[f]?d(e.fragmentIdentifier,n):e.fragmentIdentifier)),"".concat(i).concat(s).concat(c)},t.pick=function(e,n,i){i=Object.assign(r({parseFragmentIdentifier:!0},f,!1),i);var a=t.parseUrl(e,i),o=a.url,u=a.query,s=a.fragmentIdentifier;return t.stringifyUrl({url:o,query:l(u,n),fragmentIdentifier:s},i)},t.exclude=function(e,n,r){var i=Array.isArray(n)?function(e){return!n.includes(e)}:function(e,t){return!n(e,t)};return t.pick(e,i,r)}},4463:function(e,t,n){"use strict";var r=n(2791),i=n(1725),a=n(5296);function o(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}if(!r)throw Error(o(227));var u=new Set,s={};function c(e,t){l(e,t),l(e+"Capture",t)}function l(e,t){for(s[e]=t,e=0;e<t.length;e++)u.add(t[e])}var f=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,d=Object.prototype.hasOwnProperty,p={},v={};function y(e,t,n,r,i,a,o){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=o}var m={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){m[e]=new y(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];m[t]=new y(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){m[e]=new y(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){m[e]=new y(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){m[e]=new y(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){m[e]=new y(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){m[e]=new y(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){m[e]=new y(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){m[e]=new y(e,5,!1,e.toLowerCase(),null,!1,!1)}));var g=/[\-:]([a-z])/g;function k(e){return e[1].toUpperCase()}function w(e,t,n,r){var i=m.hasOwnProperty(t)?m[t]:null;(null!==i?0===i.type:!r&&(2<t.length&&("o"===t[0]||"O"===t[0])&&("n"===t[1]||"N"===t[1])))||(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!d.call(v,e)||!d.call(p,e)&&(h.test(e)?v[e]=!0:(p[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(g,k);m[t]=new y(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(g,k);m[t]=new y(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(g,k);m[t]=new y(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){m[e]=new y(e,1,!1,e.toLowerCase(),null,!1,!1)})),m.xlinkHref=new y("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){m[e]=new y(e,1,!1,e.toLowerCase(),null,!0,!0)}));var b=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,x=60103,E=60106,S=60107,I=60108,T=60114,C=60109,_=60110,A=60112,N=60113,O=60120,D=60115,P=60116,L=60121,R=60128,M=60129,F=60130,j=60131;if("function"===typeof Symbol&&Symbol.for){var B=Symbol.for;x=B("react.element"),E=B("react.portal"),S=B("react.fragment"),I=B("react.strict_mode"),T=B("react.profiler"),C=B("react.provider"),_=B("react.context"),A=B("react.forward_ref"),N=B("react.suspense"),O=B("react.suspense_list"),D=B("react.memo"),P=B("react.lazy"),L=B("react.block"),B("react.scope"),R=B("react.opaque.id"),M=B("react.debug_trace_mode"),F=B("react.offscreen"),j=B("react.legacy_hidden")}var U,V="function"===typeof Symbol&&Symbol.iterator;function q(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=V&&e[V]||e["@@iterator"])?e:null}function z(e){if(void 0===U)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);U=t&&t[1]||""}return"\n"+U+e}var K=!1;function G(e,t){if(!e||K)return"";K=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(s){var r=s}Reflect.construct(e,[],t)}else{try{t.call()}catch(s){r=s}e.call(t.prototype)}else{try{throw Error()}catch(s){r=s}e()}}catch(s){if(s&&r&&"string"===typeof s.stack){for(var i=s.stack.split("\n"),a=r.stack.split("\n"),o=i.length-1,u=a.length-1;1<=o&&0<=u&&i[o]!==a[u];)u--;for(;1<=o&&0<=u;o--,u--)if(i[o]!==a[u]){if(1!==o||1!==u)do{if(o--,0>--u||i[o]!==a[u])return"\n"+i[o].replace(" at new "," at ")}while(1<=o&&0<=u);break}}}finally{K=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?z(e):""}function Q(e){switch(e.tag){case 5:return z(e.type);case 16:return z("Lazy");case 13:return z("Suspense");case 19:return z("SuspenseList");case 0:case 2:case 15:return e=G(e.type,!1);case 11:return e=G(e.type.render,!1);case 22:return e=G(e.type._render,!1);case 1:return e=G(e.type,!0);default:return""}}function H(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case S:return"Fragment";case E:return"Portal";case T:return"Profiler";case I:return"StrictMode";case N:return"Suspense";case O:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case _:return(e.displayName||"Context")+".Consumer";case C:return(e._context.displayName||"Context")+".Provider";case A:var t=e.render;return t=t.displayName||t.name||"",e.displayName||(""!==t?"ForwardRef("+t+")":"ForwardRef");case D:return H(e.type);case L:return H(e._render);case P:t=e._payload,e=e._init;try{return H(e(t))}catch(n){}}return null}function W(e){switch(typeof e){case"boolean":case"number":case"object":case"string":case"undefined":return e;default:return""}}function Y(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function X(e){e._valueTracker||(e._valueTracker=function(e){var t=Y(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,a.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function J(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=Y(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function $(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function Z(e,t){var n=t.checked;return i({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function ee(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=W(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function te(e,t){null!=(t=t.checked)&&w(e,"checked",t,!1)}function ne(e,t){te(e,t);var n=W(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ie(e,t.type,n):t.hasOwnProperty("defaultValue")&&ie(e,t.type,W(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function re(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ie(e,t,n){"number"===t&&$(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}function ae(e,t){return e=i({children:void 0},t),(t=function(e){var t="";return r.Children.forEach(e,(function(e){null!=e&&(t+=e)})),t}(t.children))&&(e.children=t),e}function oe(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+W(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function ue(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(o(91));return i({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function se(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(o(92));if(Array.isArray(n)){if(!(1>=n.length))throw Error(o(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:W(n)}}function ce(e,t){var n=W(t.value),r=W(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function le(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}var fe="http://www.w3.org/1999/xhtml",he="http://www.w3.org/2000/svg";function de(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function pe(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?de(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ve,ye,me=(ye=function(e,t){if(e.namespaceURI!==he||"innerHTML"in e)e.innerHTML=t;else{for((ve=ve||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ve.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return ye(e,t)}))}:ye);function ge(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var ke={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},we=["Webkit","ms","Moz","O"];function be(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||ke.hasOwnProperty(e)&&ke[e]?(""+t).trim():t+"px"}function xe(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=be(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(ke).forEach((function(e){we.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),ke[t]=ke[e]}))}));var Ee=i({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Se(e,t){if(t){if(Ee[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(o(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(o(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(o(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(o(62))}}function Ie(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}function Te(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Ce=null,_e=null,Ae=null;function Ne(e){if(e=ri(e)){if("function"!==typeof Ce)throw Error(o(280));var t=e.stateNode;t&&(t=ai(t),Ce(e.stateNode,e.type,t))}}function Oe(e){_e?Ae?Ae.push(e):Ae=[e]:_e=e}function De(){if(_e){var e=_e,t=Ae;if(Ae=_e=null,Ne(e),t)for(e=0;e<t.length;e++)Ne(t[e])}}function Pe(e,t){return e(t)}function Le(e,t,n,r,i){return e(t,n,r,i)}function Re(){}var Me=Pe,Fe=!1,je=!1;function Be(){null===_e&&null===Ae||(Re(),De())}function Ue(e,t){var n=e.stateNode;if(null===n)return null;var r=ai(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(o(231,t,typeof n));return n}var Ve=!1;if(f)try{var qe={};Object.defineProperty(qe,"passive",{get:function(){Ve=!0}}),window.addEventListener("test",qe,qe),window.removeEventListener("test",qe,qe)}catch(ye){Ve=!1}function ze(e,t,n,r,i,a,o,u,s){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(l){this.onError(l)}}var Ke=!1,Ge=null,Qe=!1,He=null,We={onError:function(e){Ke=!0,Ge=e}};function Ye(e,t,n,r,i,a,o,u,s){Ke=!1,Ge=null,ze.apply(We,arguments)}function Xe(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(1026&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function Je(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function $e(e){if(Xe(e)!==e)throw Error(o(188))}function Ze(e){if(e=function(e){var t=e.alternate;if(!t){if(null===(t=Xe(e)))throw Error(o(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var a=i.alternate;if(null===a){if(null!==(r=i.return)){n=r;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===n)return $e(i),e;if(a===r)return $e(i),t;a=a.sibling}throw Error(o(188))}if(n.return!==r.return)n=i,r=a;else{for(var u=!1,s=i.child;s;){if(s===n){u=!0,n=i,r=a;break}if(s===r){u=!0,r=i,n=a;break}s=s.sibling}if(!u){for(s=a.child;s;){if(s===n){u=!0,n=a,r=i;break}if(s===r){u=!0,r=a,n=i;break}s=s.sibling}if(!u)throw Error(o(189))}}if(n.alternate!==r)throw Error(o(190))}if(3!==n.tag)throw Error(o(188));return n.stateNode.current===n?e:t}(e),!e)return null;for(var t=e;;){if(5===t.tag||6===t.tag)return t;if(t.child)t.child.return=t,t=t.child;else{if(t===e)break;for(;!t.sibling;){if(!t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}}return null}function et(e,t){for(var n=e.alternate;null!==t;){if(t===e||t===n)return!0;t=t.return}return!1}var tt,nt,rt,it,at=!1,ot=[],ut=null,st=null,ct=null,lt=new Map,ft=new Map,ht=[],dt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function pt(e,t,n,r,i){return{blockedOn:e,domEventName:t,eventSystemFlags:16|n,nativeEvent:i,targetContainers:[r]}}function vt(e,t){switch(e){case"focusin":case"focusout":ut=null;break;case"dragenter":case"dragleave":st=null;break;case"mouseover":case"mouseout":ct=null;break;case"pointerover":case"pointerout":lt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":ft.delete(t.pointerId)}}function yt(e,t,n,r,i,a){return null===e||e.nativeEvent!==a?(e=pt(t,n,r,i,a),null!==t&&(null!==(t=ri(t))&&nt(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function mt(e){var t=ni(e.target);if(null!==t){var n=Xe(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=Je(n)))return e.blockedOn=t,void it(e.lanePriority,(function(){a.unstable_runWithPriority(e.priority,(function(){rt(n)}))}))}else if(3===t&&n.stateNode.hydrate)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function gt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Zt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=ri(n))&&nt(t),e.blockedOn=n,!1;t.shift()}return!0}function kt(e,t,n){gt(e)&&n.delete(t)}function wt(){for(at=!1;0<ot.length;){var e=ot[0];if(null!==e.blockedOn){null!==(e=ri(e.blockedOn))&&tt(e);break}for(var t=e.targetContainers;0<t.length;){var n=Zt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n){e.blockedOn=n;break}t.shift()}null===e.blockedOn&&ot.shift()}null!==ut&&gt(ut)&&(ut=null),null!==st&&gt(st)&&(st=null),null!==ct&&gt(ct)&&(ct=null),lt.forEach(kt),ft.forEach(kt)}function bt(e,t){e.blockedOn===t&&(e.blockedOn=null,at||(at=!0,a.unstable_scheduleCallback(a.unstable_NormalPriority,wt)))}function xt(e){function t(t){return bt(t,e)}if(0<ot.length){bt(ot[0],e);for(var n=1;n<ot.length;n++){var r=ot[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==ut&&bt(ut,e),null!==st&&bt(st,e),null!==ct&&bt(ct,e),lt.forEach(t),ft.forEach(t),n=0;n<ht.length;n++)(r=ht[n]).blockedOn===e&&(r.blockedOn=null);for(;0<ht.length&&null===(n=ht[0]).blockedOn;)mt(n),null===n.blockedOn&&ht.shift()}function Et(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var St={animationend:Et("Animation","AnimationEnd"),animationiteration:Et("Animation","AnimationIteration"),animationstart:Et("Animation","AnimationStart"),transitionend:Et("Transition","TransitionEnd")},It={},Tt={};function Ct(e){if(It[e])return It[e];if(!St[e])return e;var t,n=St[e];for(t in n)if(n.hasOwnProperty(t)&&t in Tt)return It[e]=n[t];return e}f&&(Tt=document.createElement("div").style,"AnimationEvent"in window||(delete St.animationend.animation,delete St.animationiteration.animation,delete St.animationstart.animation),"TransitionEvent"in window||delete St.transitionend.transition);var _t=Ct("animationend"),At=Ct("animationiteration"),Nt=Ct("animationstart"),Ot=Ct("transitionend"),Dt=new Map,Pt=new Map,Lt=["abort","abort",_t,"animationEnd",At,"animationIteration",Nt,"animationStart","canplay","canPlay","canplaythrough","canPlayThrough","durationchange","durationChange","emptied","emptied","encrypted","encrypted","ended","ended","error","error","gotpointercapture","gotPointerCapture","load","load","loadeddata","loadedData","loadedmetadata","loadedMetadata","loadstart","loadStart","lostpointercapture","lostPointerCapture","playing","playing","progress","progress","seeking","seeking","stalled","stalled","suspend","suspend","timeupdate","timeUpdate",Ot,"transitionEnd","waiting","waiting"];function Rt(e,t){for(var n=0;n<e.length;n+=2){var r=e[n],i=e[n+1];i="on"+(i[0].toUpperCase()+i.slice(1)),Pt.set(r,t),Dt.set(r,i),c(i,[r])}}(0,a.unstable_now)();var Mt=8;function Ft(e){if(0!==(1&e))return Mt=15,1;if(0!==(2&e))return Mt=14,2;if(0!==(4&e))return Mt=13,4;var t=24&e;return 0!==t?(Mt=12,t):0!==(32&e)?(Mt=11,32):0!==(t=192&e)?(Mt=10,t):0!==(256&e)?(Mt=9,256):0!==(t=3584&e)?(Mt=8,t):0!==(4096&e)?(Mt=7,4096):0!==(t=4186112&e)?(Mt=6,t):0!==(t=62914560&e)?(Mt=5,t):67108864&e?(Mt=4,67108864):0!==(134217728&e)?(Mt=3,134217728):0!==(t=805306368&e)?(Mt=2,t):0!==(1073741824&e)?(Mt=1,1073741824):(Mt=8,e)}function jt(e,t){var n=e.pendingLanes;if(0===n)return Mt=0;var r=0,i=0,a=e.expiredLanes,o=e.suspendedLanes,u=e.pingedLanes;if(0!==a)r=a,i=Mt=15;else if(0!==(a=134217727&n)){var s=a&~o;0!==s?(r=Ft(s),i=Mt):0!==(u&=a)&&(r=Ft(u),i=Mt)}else 0!==(a=n&~o)?(r=Ft(a),i=Mt):0!==u&&(r=Ft(u),i=Mt);if(0===r)return 0;if(r=n&((0>(r=31-Kt(r))?0:1<<r)<<1)-1,0!==t&&t!==r&&0===(t&o)){if(Ft(t),i<=Mt)return t;Mt=i}if(0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-Kt(t)),r|=e[n],t&=~i;return r}function Bt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function Ut(e,t){switch(e){case 15:return 1;case 14:return 2;case 12:return 0===(e=Vt(24&~t))?Ut(10,t):e;case 10:return 0===(e=Vt(192&~t))?Ut(8,t):e;case 8:return 0===(e=Vt(3584&~t))&&(0===(e=Vt(4186112&~t))&&(e=512)),e;case 2:return 0===(t=Vt(805306368&~t))&&(t=268435456),t}throw Error(o(358,e))}function Vt(e){return e&-e}function qt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function zt(e,t,n){e.pendingLanes|=t;var r=t-1;e.suspendedLanes&=r,e.pingedLanes&=r,(e=e.eventTimes)[t=31-Kt(t)]=n}var Kt=Math.clz32?Math.clz32:function(e){return 0===e?32:31-(Gt(e)/Qt|0)|0},Gt=Math.log,Qt=Math.LN2;var Ht=a.unstable_UserBlockingPriority,Wt=a.unstable_runWithPriority,Yt=!0;function Xt(e,t,n,r){Fe||Re();var i=$t,a=Fe;Fe=!0;try{Le(i,e,t,n,r)}finally{(Fe=a)||Be()}}function Jt(e,t,n,r){Wt(Ht,$t.bind(null,e,t,n,r))}function $t(e,t,n,r){var i;if(Yt)if((i=0===(4&t))&&0<ot.length&&-1<dt.indexOf(e))e=pt(null,e,t,n,r),ot.push(e);else{var a=Zt(e,t,n,r);if(null===a)i&&vt(e,r);else{if(i){if(-1<dt.indexOf(e))return e=pt(a,e,t,n,r),void ot.push(e);if(function(e,t,n,r,i){switch(t){case"focusin":return ut=yt(ut,e,t,n,r,i),!0;case"dragenter":return st=yt(st,e,t,n,r,i),!0;case"mouseover":return ct=yt(ct,e,t,n,r,i),!0;case"pointerover":var a=i.pointerId;return lt.set(a,yt(lt.get(a)||null,e,t,n,r,i)),!0;case"gotpointercapture":return a=i.pointerId,ft.set(a,yt(ft.get(a)||null,e,t,n,r,i)),!0}return!1}(a,e,t,n,r))return;vt(e,r)}Rr(e,t,r,null,n)}}}function Zt(e,t,n,r){var i=Te(r);if(null!==(i=ni(i))){var a=Xe(i);if(null===a)i=null;else{var o=a.tag;if(13===o){if(null!==(i=Je(a)))return i;i=null}else if(3===o){if(a.stateNode.hydrate)return 3===a.tag?a.stateNode.containerInfo:null;i=null}else a!==i&&(i=null)}}return Rr(e,t,r,i,n),null}var en=null,tn=null,nn=null;function rn(){if(nn)return nn;var e,t,n=tn,r=n.length,i="value"in en?en.value:en.textContent,a=i.length;for(e=0;e<r&&n[e]===i[e];e++);var o=r-e;for(t=1;t<=o&&n[r-t]===i[a-t];t++);return nn=i.slice(e,1<t?1-t:void 0)}function an(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function on(){return!0}function un(){return!1}function sn(e){function t(t,n,r,i,a){for(var o in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=a,this.currentTarget=null,e)e.hasOwnProperty(o)&&(t=e[o],this[o]=t?t(i):i[o]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?on:un,this.isPropagationStopped=un,this}return i(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=on)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=on)},persist:function(){},isPersistent:on}),t}var cn,ln,fn,hn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},dn=sn(hn),pn=i({},hn,{view:0,detail:0}),vn=sn(pn),yn=i({},pn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:_n,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==fn&&(fn&&"mousemove"===e.type?(cn=e.screenX-fn.screenX,ln=e.screenY-fn.screenY):ln=cn=0,fn=e),cn)},movementY:function(e){return"movementY"in e?e.movementY:ln}}),mn=sn(yn),gn=sn(i({},yn,{dataTransfer:0})),kn=sn(i({},pn,{relatedTarget:0})),wn=sn(i({},hn,{animationName:0,elapsedTime:0,pseudoElement:0})),bn=i({},hn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),xn=sn(bn),En=sn(i({},hn,{data:0})),Sn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},In={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Tn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Cn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=Tn[e])&&!!t[e]}function _n(){return Cn}var An=i({},pn,{key:function(e){if(e.key){var t=Sn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=an(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?In[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:_n,charCode:function(e){return"keypress"===e.type?an(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?an(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Nn=sn(An),On=sn(i({},yn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Dn=sn(i({},pn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:_n})),Pn=sn(i({},hn,{propertyName:0,elapsedTime:0,pseudoElement:0})),Ln=i({},yn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Rn=sn(Ln),Mn=[9,13,27,32],Fn=f&&"CompositionEvent"in window,jn=null;f&&"documentMode"in document&&(jn=document.documentMode);var Bn=f&&"TextEvent"in window&&!jn,Un=f&&(!Fn||jn&&8<jn&&11>=jn),Vn=String.fromCharCode(32),qn=!1;function zn(e,t){switch(e){case"keyup":return-1!==Mn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Kn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Gn=!1;var Qn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Hn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Qn[e.type]:"textarea"===t}function Wn(e,t,n,r){Oe(r),0<(t=Fr(t,"onChange")).length&&(n=new dn("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Yn=null,Xn=null;function Jn(e){Ar(e,0)}function $n(e){if(J(ii(e)))return e}function Zn(e,t){if("change"===e)return t}var er=!1;if(f){var tr;if(f){var nr="oninput"in document;if(!nr){var rr=document.createElement("div");rr.setAttribute("oninput","return;"),nr="function"===typeof rr.oninput}tr=nr}else tr=!1;er=tr&&(!document.documentMode||9<document.documentMode)}function ir(){Yn&&(Yn.detachEvent("onpropertychange",ar),Xn=Yn=null)}function ar(e){if("value"===e.propertyName&&$n(Xn)){var t=[];if(Wn(t,Xn,e,Te(e)),e=Jn,Fe)e(t);else{Fe=!0;try{Pe(e,t)}finally{Fe=!1,Be()}}}}function or(e,t,n){"focusin"===e?(ir(),Xn=n,(Yn=t).attachEvent("onpropertychange",ar)):"focusout"===e&&ir()}function ur(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return $n(Xn)}function sr(e,t){if("click"===e)return $n(t)}function cr(e,t){if("input"===e||"change"===e)return $n(t)}var lr="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},fr=Object.prototype.hasOwnProperty;function hr(e,t){if(lr(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++)if(!fr.call(t,n[r])||!lr(e[n[r]],t[n[r]]))return!1;return!0}function dr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function pr(e,t){var n,r=dr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=dr(r)}}function vr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?vr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function yr(){for(var e=window,t=$();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=$((e=t.contentWindow).document)}return t}function mr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}var gr=f&&"documentMode"in document&&11>=document.documentMode,kr=null,wr=null,br=null,xr=!1;function Er(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;xr||null==kr||kr!==$(r)||("selectionStart"in(r=kr)&&mr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},br&&hr(br,r)||(br=r,0<(r=Fr(wr,"onSelect")).length&&(t=new dn("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=kr)))}Rt("cancel cancel click click close close contextmenu contextMenu copy copy cut cut auxclick auxClick dblclick doubleClick dragend dragEnd dragstart dragStart drop drop focusin focus focusout blur input input invalid invalid keydown keyDown keypress keyPress keyup keyUp mousedown mouseDown mouseup mouseUp paste paste pause pause play play pointercancel pointerCancel pointerdown pointerDown pointerup pointerUp ratechange rateChange reset reset seeked seeked submit submit touchcancel touchCancel touchend touchEnd touchstart touchStart volumechange volumeChange".split(" "),0),Rt("drag drag dragenter dragEnter dragexit dragExit dragleave dragLeave dragover dragOver mousemove mouseMove mouseout mouseOut mouseover mouseOver pointermove pointerMove pointerout pointerOut pointerover pointerOver scroll scroll toggle toggle touchmove touchMove wheel wheel".split(" "),1),Rt(Lt,2);for(var Sr="change selectionchange textInput compositionstart compositionend compositionupdate".split(" "),Ir=0;Ir<Sr.length;Ir++)Pt.set(Sr[Ir],0);l("onMouseEnter",["mouseout","mouseover"]),l("onMouseLeave",["mouseout","mouseover"]),l("onPointerEnter",["pointerout","pointerover"]),l("onPointerLeave",["pointerout","pointerover"]),c("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),c("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),c("onBeforeInput",["compositionend","keypress","textInput","paste"]),c("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Tr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Cr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Tr));function _r(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,a,u,s,c){if(Ye.apply(this,arguments),Ke){if(!Ke)throw Error(o(198));var l=Ge;Ke=!1,Ge=null,Qe||(Qe=!0,He=l)}}(r,t,void 0,e),e.currentTarget=null}function Ar(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var a=void 0;if(t)for(var o=r.length-1;0<=o;o--){var u=r[o],s=u.instance,c=u.currentTarget;if(u=u.listener,s!==a&&i.isPropagationStopped())break e;_r(i,u,c),a=s}else for(o=0;o<r.length;o++){if(s=(u=r[o]).instance,c=u.currentTarget,u=u.listener,s!==a&&i.isPropagationStopped())break e;_r(i,u,c),a=s}}}if(Qe)throw e=He,Qe=!1,He=null,e}function Nr(e,t){var n=oi(t),r=e+"__bubble";n.has(r)||(Lr(t,e,2,!1),n.add(r))}var Or="_reactListening"+Math.random().toString(36).slice(2);function Dr(e){e[Or]||(e[Or]=!0,u.forEach((function(t){Cr.has(t)||Pr(t,!1,e,null),Pr(t,!0,e,null)})))}function Pr(e,t,n,r){var i=4<arguments.length&&void 0!==arguments[4]?arguments[4]:0,a=n;if("selectionchange"===e&&9!==n.nodeType&&(a=n.ownerDocument),null!==r&&!t&&Cr.has(e)){if("scroll"!==e)return;i|=2,a=r}var o=oi(a),u=e+"__"+(t?"capture":"bubble");o.has(u)||(t&&(i|=4),Lr(a,e,i,t),o.add(u))}function Lr(e,t,n,r){var i=Pt.get(t);switch(void 0===i?2:i){case 0:i=Xt;break;case 1:i=Jt;break;default:i=$t}n=i.bind(null,t,n,e),i=void 0,!Ve||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Rr(e,t,n,r,i){var a=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var o=r.tag;if(3===o||4===o){var u=r.stateNode.containerInfo;if(u===i||8===u.nodeType&&u.parentNode===i)break;if(4===o)for(o=r.return;null!==o;){var s=o.tag;if((3===s||4===s)&&((s=o.stateNode.containerInfo)===i||8===s.nodeType&&s.parentNode===i))return;o=o.return}for(;null!==u;){if(null===(o=ni(u)))return;if(5===(s=o.tag)||6===s){r=a=o;continue e}u=u.parentNode}}r=r.return}!function(e,t,n){if(je)return e(t,n);je=!0;try{Me(e,t,n)}finally{je=!1,Be()}}((function(){var r=a,i=Te(n),o=[];e:{var u=Dt.get(e);if(void 0!==u){var s=dn,c=e;switch(e){case"keypress":if(0===an(n))break e;case"keydown":case"keyup":s=Nn;break;case"focusin":c="focus",s=kn;break;case"focusout":c="blur",s=kn;break;case"beforeblur":case"afterblur":s=kn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":s=mn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":s=gn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":s=Dn;break;case _t:case At:case Nt:s=wn;break;case Ot:s=Pn;break;case"scroll":s=vn;break;case"wheel":s=Rn;break;case"copy":case"cut":case"paste":s=xn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":s=On}var l=0!==(4&t),f=!l&&"scroll"===e,h=l?null!==u?u+"Capture":null:u;l=[];for(var d,p=r;null!==p;){var v=(d=p).stateNode;if(5===d.tag&&null!==v&&(d=v,null!==h&&(null!=(v=Ue(p,h))&&l.push(Mr(p,v,d)))),f)break;p=p.return}0<l.length&&(u=new s(u,c,null,n,i),o.push({event:u,listeners:l}))}}if(0===(7&t)){if(s="mouseout"===e||"pointerout"===e,(!(u="mouseover"===e||"pointerover"===e)||0!==(16&t)||!(c=n.relatedTarget||n.fromElement)||!ni(c)&&!c[ei])&&(s||u)&&(u=i.window===i?i:(u=i.ownerDocument)?u.defaultView||u.parentWindow:window,s?(s=r,null!==(c=(c=n.relatedTarget||n.toElement)?ni(c):null)&&(c!==(f=Xe(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(s=null,c=r),s!==c)){if(l=mn,v="onMouseLeave",h="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(l=On,v="onPointerLeave",h="onPointerEnter",p="pointer"),f=null==s?u:ii(s),d=null==c?u:ii(c),(u=new l(v,p+"leave",s,n,i)).target=f,u.relatedTarget=d,v=null,ni(i)===r&&((l=new l(h,p+"enter",c,n,i)).target=d,l.relatedTarget=f,v=l),f=v,s&&c)e:{for(h=c,p=0,d=l=s;d;d=jr(d))p++;for(d=0,v=h;v;v=jr(v))d++;for(;0<p-d;)l=jr(l),p--;for(;0<d-p;)h=jr(h),d--;for(;p--;){if(l===h||null!==h&&l===h.alternate)break e;l=jr(l),h=jr(h)}l=null}else l=null;null!==s&&Br(o,u,s,l,!1),null!==c&&null!==f&&Br(o,f,c,l,!0)}if("select"===(s=(u=r?ii(r):window).nodeName&&u.nodeName.toLowerCase())||"input"===s&&"file"===u.type)var y=Zn;else if(Hn(u))if(er)y=cr;else{y=ur;var m=or}else(s=u.nodeName)&&"input"===s.toLowerCase()&&("checkbox"===u.type||"radio"===u.type)&&(y=sr);switch(y&&(y=y(e,r))?Wn(o,y,n,i):(m&&m(e,u,r),"focusout"===e&&(m=u._wrapperState)&&m.controlled&&"number"===u.type&&ie(u,"number",u.value)),m=r?ii(r):window,e){case"focusin":(Hn(m)||"true"===m.contentEditable)&&(kr=m,wr=r,br=null);break;case"focusout":br=wr=kr=null;break;case"mousedown":xr=!0;break;case"contextmenu":case"mouseup":case"dragend":xr=!1,Er(o,n,i);break;case"selectionchange":if(gr)break;case"keydown":case"keyup":Er(o,n,i)}var g;if(Fn)e:{switch(e){case"compositionstart":var k="onCompositionStart";break e;case"compositionend":k="onCompositionEnd";break e;case"compositionupdate":k="onCompositionUpdate";break e}k=void 0}else Gn?zn(e,n)&&(k="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(k="onCompositionStart");k&&(Un&&"ko"!==n.locale&&(Gn||"onCompositionStart"!==k?"onCompositionEnd"===k&&Gn&&(g=rn()):(tn="value"in(en=i)?en.value:en.textContent,Gn=!0)),0<(m=Fr(r,k)).length&&(k=new En(k,e,null,n,i),o.push({event:k,listeners:m}),g?k.data=g:null!==(g=Kn(n))&&(k.data=g))),(g=Bn?function(e,t){switch(e){case"compositionend":return Kn(t);case"keypress":return 32!==t.which?null:(qn=!0,Vn);case"textInput":return(e=t.data)===Vn&&qn?null:e;default:return null}}(e,n):function(e,t){if(Gn)return"compositionend"===e||!Fn&&zn(e,t)?(e=rn(),nn=tn=en=null,Gn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Un&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Fr(r,"onBeforeInput")).length&&(i=new En("onBeforeInput","beforeinput",null,n,i),o.push({event:i,listeners:r}),i.data=g))}Ar(o,t)}))}function Mr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Fr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,a=i.stateNode;5===i.tag&&null!==a&&(i=a,null!=(a=Ue(e,n))&&r.unshift(Mr(e,a,i)),null!=(a=Ue(e,t))&&r.push(Mr(e,a,i))),e=e.return}return r}function jr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Br(e,t,n,r,i){for(var a=t._reactName,o=[];null!==n&&n!==r;){var u=n,s=u.alternate,c=u.stateNode;if(null!==s&&s===r)break;5===u.tag&&null!==c&&(u=c,i?null!=(s=Ue(n,a))&&o.unshift(Mr(n,s,u)):i||null!=(s=Ue(n,a))&&o.push(Mr(n,s,u))),n=n.return}0!==o.length&&e.push({event:t,listeners:o})}function Ur(){}var Vr=null,qr=null;function zr(e,t){switch(e){case"button":case"input":case"select":case"textarea":return!!t.autoFocus}return!1}function Kr(e,t){return"textarea"===e||"option"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var Gr="function"===typeof setTimeout?setTimeout:void 0,Qr="function"===typeof clearTimeout?clearTimeout:void 0;function Hr(e){1===e.nodeType?e.textContent="":9===e.nodeType&&(null!=(e=e.body)&&(e.textContent=""))}function Wr(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break}return e}function Yr(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var Xr=0;var Jr=Math.random().toString(36).slice(2),$r="__reactFiber$"+Jr,Zr="__reactProps$"+Jr,ei="__reactContainer$"+Jr,ti="__reactEvents$"+Jr;function ni(e){var t=e[$r];if(t)return t;for(var n=e.parentNode;n;){if(t=n[ei]||n[$r]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=Yr(e);null!==e;){if(n=e[$r])return n;e=Yr(e)}return t}n=(e=n).parentNode}return null}function ri(e){return!(e=e[$r]||e[ei])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function ii(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(o(33))}function ai(e){return e[Zr]||null}function oi(e){var t=e[ti];return void 0===t&&(t=e[ti]=new Set),t}var ui=[],si=-1;function ci(e){return{current:e}}function li(e){0>si||(e.current=ui[si],ui[si]=null,si--)}function fi(e,t){si++,ui[si]=e.current,e.current=t}var hi={},di=ci(hi),pi=ci(!1),vi=hi;function yi(e,t){var n=e.type.contextTypes;if(!n)return hi;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,a={};for(i in n)a[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function mi(e){return null!==(e=e.childContextTypes)&&void 0!==e}function gi(){li(pi),li(di)}function ki(e,t,n){if(di.current!==hi)throw Error(o(168));fi(di,t),fi(pi,n)}function wi(e,t,n){var r=e.stateNode;if(e=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var a in r=r.getChildContext())if(!(a in e))throw Error(o(108,H(t)||"Unknown",a));return i({},n,r)}function bi(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||hi,vi=di.current,fi(di,e),fi(pi,pi.current),!0}function xi(e,t,n){var r=e.stateNode;if(!r)throw Error(o(169));n?(e=wi(e,t,vi),r.__reactInternalMemoizedMergedChildContext=e,li(pi),li(di),fi(di,e)):li(pi),fi(pi,n)}var Ei=null,Si=null,Ii=a.unstable_runWithPriority,Ti=a.unstable_scheduleCallback,Ci=a.unstable_cancelCallback,_i=a.unstable_shouldYield,Ai=a.unstable_requestPaint,Ni=a.unstable_now,Oi=a.unstable_getCurrentPriorityLevel,Di=a.unstable_ImmediatePriority,Pi=a.unstable_UserBlockingPriority,Li=a.unstable_NormalPriority,Ri=a.unstable_LowPriority,Mi=a.unstable_IdlePriority,Fi={},ji=void 0!==Ai?Ai:function(){},Bi=null,Ui=null,Vi=!1,qi=Ni(),zi=1e4>qi?Ni:function(){return Ni()-qi};function Ki(){switch(Oi()){case Di:return 99;case Pi:return 98;case Li:return 97;case Ri:return 96;case Mi:return 95;default:throw Error(o(332))}}function Gi(e){switch(e){case 99:return Di;case 98:return Pi;case 97:return Li;case 96:return Ri;case 95:return Mi;default:throw Error(o(332))}}function Qi(e,t){return e=Gi(e),Ii(e,t)}function Hi(e,t,n){return e=Gi(e),Ti(e,t,n)}function Wi(){if(null!==Ui){var e=Ui;Ui=null,Ci(e)}Yi()}function Yi(){if(!Vi&&null!==Bi){Vi=!0;var e=0;try{var t=Bi;Qi(99,(function(){for(;e<t.length;e++){var n=t[e];do{n=n(!0)}while(null!==n)}})),Bi=null}catch(n){throw null!==Bi&&(Bi=Bi.slice(e+1)),Ti(Di,Wi),n}finally{Vi=!1}}}var Xi=b.ReactCurrentBatchConfig;function Ji(e,t){if(e&&e.defaultProps){for(var n in t=i({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var $i=ci(null),Zi=null,ea=null,ta=null;function na(){ta=ea=Zi=null}function ra(e){var t=$i.current;li($i),e.type._context._currentValue=t}function ia(e,t){for(;null!==e;){var n=e.alternate;if((e.childLanes&t)===t){if(null===n||(n.childLanes&t)===t)break;n.childLanes|=t}else e.childLanes|=t,null!==n&&(n.childLanes|=t);e=e.return}}function aa(e,t){Zi=e,ta=ea=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(Fo=!0),e.firstContext=null)}function oa(e,t){if(ta!==e&&!1!==t&&0!==t)if("number"===typeof t&&1073741823!==t||(ta=e,t=1073741823),t={context:e,observedBits:t,next:null},null===ea){if(null===Zi)throw Error(o(308));ea=t,Zi.dependencies={lanes:0,firstContext:t,responders:null}}else ea=ea.next=t;return e._currentValue}var ua=!1;function sa(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null},effects:null}}function ca(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function la(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function fa(e,t){if(null!==(e=e.updateQueue)){var n=(e=e.shared).pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}}function ha(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,a=null;if(null!==(n=n.firstBaseUpdate)){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===a?i=a=o:a=a.next=o,n=n.next}while(null!==n);null===a?i=a=t:a=a.next=t}else i=a=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function da(e,t,n,r){var a=e.updateQueue;ua=!1;var o=a.firstBaseUpdate,u=a.lastBaseUpdate,s=a.shared.pending;if(null!==s){a.shared.pending=null;var c=s,l=c.next;c.next=null,null===u?o=l:u.next=l,u=c;var f=e.alternate;if(null!==f){var h=(f=f.updateQueue).lastBaseUpdate;h!==u&&(null===h?f.firstBaseUpdate=l:h.next=l,f.lastBaseUpdate=c)}}if(null!==o){for(h=a.baseState,u=0,f=l=c=null;;){s=o.lane;var d=o.eventTime;if((r&s)===s){null!==f&&(f=f.next={eventTime:d,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var p=e,v=o;switch(s=t,d=n,v.tag){case 1:if("function"===typeof(p=v.payload)){h=p.call(d,h,s);break e}h=p;break e;case 3:p.flags=-4097&p.flags|64;case 0:if(null===(s="function"===typeof(p=v.payload)?p.call(d,h,s):p)||void 0===s)break e;h=i({},h,s);break e;case 2:ua=!0}}null!==o.callback&&(e.flags|=32,null===(s=a.effects)?a.effects=[o]:s.push(o))}else d={eventTime:d,lane:s,tag:o.tag,payload:o.payload,callback:o.callback,next:null},null===f?(l=f=d,c=h):f=f.next=d,u|=s;if(null===(o=o.next)){if(null===(s=a.shared.pending))break;o=s.next,s.next=null,a.lastBaseUpdate=s,a.shared.pending=null}}null===f&&(c=h),a.baseState=c,a.firstBaseUpdate=l,a.lastBaseUpdate=f,Vu|=u,e.lanes=u,e.memoizedState=h}}function pa(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(o(191,i));i.call(r)}}}var va=(new r.Component).refs;function ya(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:i({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var ma={isMounted:function(e){return!!(e=e._reactInternals)&&Xe(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=hs(),i=ds(e),a=la(r,i);a.payload=t,void 0!==n&&null!==n&&(a.callback=n),fa(e,a),ps(e,i,r)},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=hs(),i=ds(e),a=la(r,i);a.tag=1,a.payload=t,void 0!==n&&null!==n&&(a.callback=n),fa(e,a),ps(e,i,r)},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=hs(),r=ds(e),i=la(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),fa(e,i),ps(e,r,n)}};function ga(e,t,n,r,i,a,o){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,a,o):!t.prototype||!t.prototype.isPureReactComponent||(!hr(n,r)||!hr(i,a))}function ka(e,t,n){var r=!1,i=hi,a=t.contextType;return"object"===typeof a&&null!==a?a=oa(a):(i=mi(t)?vi:di.current,a=(r=null!==(r=t.contextTypes)&&void 0!==r)?yi(e,i):hi),t=new t(n,a),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=ma,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=a),t}function wa(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&ma.enqueueReplaceState(t,t.state,null)}function ba(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=va,sa(e);var a=t.contextType;"object"===typeof a&&null!==a?i.context=oa(a):(a=mi(t)?vi:di.current,i.context=yi(e,a)),da(e,n,i,r),i.state=e.memoizedState,"function"===typeof(a=t.getDerivedStateFromProps)&&(ya(e,t,a,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&ma.enqueueReplaceState(i,i.state,null),da(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4)}var xa=Array.isArray;function Ea(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(o(309));var r=n.stateNode}if(!r)throw Error(o(147,e));var i=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===i?t.ref:(t=function(e){var t=r.refs;t===va&&(t=r.refs={}),null===e?delete t[i]:t[i]=e},t._stringRef=i,t)}if("string"!==typeof e)throw Error(o(284));if(!n._owner)throw Error(o(290,e))}return e}function Sa(e,t){if("textarea"!==e.type)throw Error(o(31,"[object Object]"===Object.prototype.toString.call(t)?"object with keys {"+Object.keys(t).join(", ")+"}":t))}function Ia(e){function t(t,n){if(e){var r=t.lastEffect;null!==r?(r.nextEffect=n,t.lastEffect=n):t.firstEffect=t.lastEffect=n,n.nextEffect=null,n.flags=8}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Qs(e,t)).index=0,e.sibling=null,e}function a(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags=2,n):r:(t.flags=2,n):n}function u(t){return e&&null===t.alternate&&(t.flags=2),t}function s(e,t,n,r){return null===t||6!==t.tag?((t=Xs(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function c(e,t,n,r){return null!==t&&t.elementType===n.type?((r=i(t,n.props)).ref=Ea(e,t,n),r.return=e,r):((r=Hs(n.type,n.key,n.props,null,e.mode,r)).ref=Ea(e,t,n),r.return=e,r)}function l(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Js(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function f(e,t,n,r,a){return null===t||7!==t.tag?((t=Ws(n,e.mode,r,a)).return=e,t):((t=i(t,n)).return=e,t)}function h(e,t,n){if("string"===typeof t||"number"===typeof t)return(t=Xs(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case x:return(n=Hs(t.type,t.key,t.props,null,e.mode,n)).ref=Ea(e,null,t),n.return=e,n;case E:return(t=Js(t,e.mode,n)).return=e,t}if(xa(t)||q(t))return(t=Ws(t,e.mode,n,null)).return=e,t;Sa(e,t)}return null}function d(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n||"number"===typeof n)return null!==i?null:s(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case x:return n.key===i?n.type===S?f(e,t,n.props.children,r,i):c(e,t,n,r):null;case E:return n.key===i?l(e,t,n,r):null}if(xa(n)||q(n))return null!==i?null:f(e,t,n,r,null);Sa(e,n)}return null}function p(e,t,n,r,i){if("string"===typeof r||"number"===typeof r)return s(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case x:return e=e.get(null===r.key?n:r.key)||null,r.type===S?f(t,e,r.props.children,i,r.key):c(t,e,r,i);case E:return l(t,e=e.get(null===r.key?n:r.key)||null,r,i)}if(xa(r)||q(r))return f(t,e=e.get(n)||null,r,i,null);Sa(t,r)}return null}function v(i,o,u,s){for(var c=null,l=null,f=o,v=o=0,y=null;null!==f&&v<u.length;v++){f.index>v?(y=f,f=null):y=f.sibling;var m=d(i,f,u[v],s);if(null===m){null===f&&(f=y);break}e&&f&&null===m.alternate&&t(i,f),o=a(m,o,v),null===l?c=m:l.sibling=m,l=m,f=y}if(v===u.length)return n(i,f),c;if(null===f){for(;v<u.length;v++)null!==(f=h(i,u[v],s))&&(o=a(f,o,v),null===l?c=f:l.sibling=f,l=f);return c}for(f=r(i,f);v<u.length;v++)null!==(y=p(f,i,v,u[v],s))&&(e&&null!==y.alternate&&f.delete(null===y.key?v:y.key),o=a(y,o,v),null===l?c=y:l.sibling=y,l=y);return e&&f.forEach((function(e){return t(i,e)})),c}function y(i,u,s,c){var l=q(s);if("function"!==typeof l)throw Error(o(150));if(null==(s=l.call(s)))throw Error(o(151));for(var f=l=null,v=u,y=u=0,m=null,g=s.next();null!==v&&!g.done;y++,g=s.next()){v.index>y?(m=v,v=null):m=v.sibling;var k=d(i,v,g.value,c);if(null===k){null===v&&(v=m);break}e&&v&&null===k.alternate&&t(i,v),u=a(k,u,y),null===f?l=k:f.sibling=k,f=k,v=m}if(g.done)return n(i,v),l;if(null===v){for(;!g.done;y++,g=s.next())null!==(g=h(i,g.value,c))&&(u=a(g,u,y),null===f?l=g:f.sibling=g,f=g);return l}for(v=r(i,v);!g.done;y++,g=s.next())null!==(g=p(v,i,y,g.value,c))&&(e&&null!==g.alternate&&v.delete(null===g.key?y:g.key),u=a(g,u,y),null===f?l=g:f.sibling=g,f=g);return e&&v.forEach((function(e){return t(i,e)})),l}return function(e,r,a,s){var c="object"===typeof a&&null!==a&&a.type===S&&null===a.key;c&&(a=a.props.children);var l="object"===typeof a&&null!==a;if(l)switch(a.$$typeof){case x:e:{for(l=a.key,c=r;null!==c;){if(c.key===l){if(7===c.tag){if(a.type===S){n(e,c.sibling),(r=i(c,a.props.children)).return=e,e=r;break e}}else if(c.elementType===a.type){n(e,c.sibling),(r=i(c,a.props)).ref=Ea(e,c,a),r.return=e,e=r;break e}n(e,c);break}t(e,c),c=c.sibling}a.type===S?((r=Ws(a.props.children,e.mode,s,a.key)).return=e,e=r):((s=Hs(a.type,a.key,a.props,null,e.mode,s)).ref=Ea(e,r,a),s.return=e,e=s)}return u(e);case E:e:{for(c=a.key;null!==r;){if(r.key===c){if(4===r.tag&&r.stateNode.containerInfo===a.containerInfo&&r.stateNode.implementation===a.implementation){n(e,r.sibling),(r=i(r,a.children||[])).return=e,e=r;break e}n(e,r);break}t(e,r),r=r.sibling}(r=Js(a,e.mode,s)).return=e,e=r}return u(e)}if("string"===typeof a||"number"===typeof a)return a=""+a,null!==r&&6===r.tag?(n(e,r.sibling),(r=i(r,a)).return=e,e=r):(n(e,r),(r=Xs(a,e.mode,s)).return=e,e=r),u(e);if(xa(a))return v(e,r,a,s);if(q(a))return y(e,r,a,s);if(l&&Sa(e,a),"undefined"===typeof a&&!c)switch(e.tag){case 1:case 22:case 0:case 11:case 15:throw Error(o(152,H(e.type)||"Component"))}return n(e,r)}}var Ta=Ia(!0),Ca=Ia(!1),_a={},Aa=ci(_a),Na=ci(_a),Oa=ci(_a);function Da(e){if(e===_a)throw Error(o(174));return e}function Pa(e,t){switch(fi(Oa,t),fi(Na,e),fi(Aa,_a),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:pe(null,"");break;default:t=pe(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}li(Aa),fi(Aa,t)}function La(){li(Aa),li(Na),li(Oa)}function Ra(e){Da(Oa.current);var t=Da(Aa.current),n=pe(t,e.type);t!==n&&(fi(Na,e),fi(Aa,n))}function Ma(e){Na.current===e&&(li(Aa),li(Na))}var Fa=ci(0);function ja(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(64&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Ba=null,Ua=null,Va=!1;function qa(e,t){var n=Ks(5,null,null,0);n.elementType="DELETED",n.type="DELETED",n.stateNode=t,n.return=e,n.flags=8,null!==e.lastEffect?(e.lastEffect.nextEffect=n,e.lastEffect=n):e.firstEffect=e.lastEffect=n}function za(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,!0);default:return!1}}function Ka(e){if(Va){var t=Ua;if(t){var n=t;if(!za(e,t)){if(!(t=Wr(n.nextSibling))||!za(e,t))return e.flags=-1025&e.flags|2,Va=!1,void(Ba=e);qa(Ba,n)}Ba=e,Ua=Wr(t.firstChild)}else e.flags=-1025&e.flags|2,Va=!1,Ba=e}}function Ga(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;Ba=e}function Qa(e){if(e!==Ba)return!1;if(!Va)return Ga(e),Va=!0,!1;var t=e.type;if(5!==e.tag||"head"!==t&&"body"!==t&&!Kr(t,e.memoizedProps))for(t=Ua;t;)qa(e,t),t=Wr(t.nextSibling);if(Ga(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(o(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){Ua=Wr(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}Ua=null}}else Ua=Ba?Wr(e.stateNode.nextSibling):null;return!0}function Ha(){Ua=Ba=null,Va=!1}var Wa=[];function Ya(){for(var e=0;e<Wa.length;e++)Wa[e]._workInProgressVersionPrimary=null;Wa.length=0}var Xa=b.ReactCurrentDispatcher,Ja=b.ReactCurrentBatchConfig,$a=0,Za=null,eo=null,to=null,no=!1,ro=!1;function io(){throw Error(o(321))}function ao(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!lr(e[n],t[n]))return!1;return!0}function oo(e,t,n,r,i,a){if($a=a,Za=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Xa.current=null===e||null===e.memoizedState?Po:Lo,e=n(r,i),ro){a=0;do{if(ro=!1,!(25>a))throw Error(o(301));a+=1,to=eo=null,t.updateQueue=null,Xa.current=Ro,e=n(r,i)}while(ro)}if(Xa.current=Do,t=null!==eo&&null!==eo.next,$a=0,to=eo=Za=null,no=!1,t)throw Error(o(300));return e}function uo(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===to?Za.memoizedState=to=e:to=to.next=e,to}function so(){if(null===eo){var e=Za.alternate;e=null!==e?e.memoizedState:null}else e=eo.next;var t=null===to?Za.memoizedState:to.next;if(null!==t)to=t,eo=e;else{if(null===e)throw Error(o(310));e={memoizedState:(eo=e).memoizedState,baseState:eo.baseState,baseQueue:eo.baseQueue,queue:eo.queue,next:null},null===to?Za.memoizedState=to=e:to=to.next=e}return to}function co(e,t){return"function"===typeof t?t(e):t}function lo(e){var t=so(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=eo,i=r.baseQueue,a=n.pending;if(null!==a){if(null!==i){var u=i.next;i.next=a.next,a.next=u}r.baseQueue=i=a,n.pending=null}if(null!==i){i=i.next,r=r.baseState;var s=u=a=null,c=i;do{var l=c.lane;if(($a&l)===l)null!==s&&(s=s.next={lane:0,action:c.action,eagerReducer:c.eagerReducer,eagerState:c.eagerState,next:null}),r=c.eagerReducer===e?c.eagerState:e(r,c.action);else{var f={lane:l,action:c.action,eagerReducer:c.eagerReducer,eagerState:c.eagerState,next:null};null===s?(u=s=f,a=r):s=s.next=f,Za.lanes|=l,Vu|=l}c=c.next}while(null!==c&&c!==i);null===s?a=r:s.next=u,lr(r,t.memoizedState)||(Fo=!0),t.memoizedState=r,t.baseState=a,t.baseQueue=s,n.lastRenderedState=r}return[t.memoizedState,n.dispatch]}function fo(e){var t=so(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,a=t.memoizedState;if(null!==i){n.pending=null;var u=i=i.next;do{a=e(a,u.action),u=u.next}while(u!==i);lr(a,t.memoizedState)||(Fo=!0),t.memoizedState=a,null===t.baseQueue&&(t.baseState=a),n.lastRenderedState=a}return[a,r]}function ho(e,t,n){var r=t._getVersion;r=r(t._source);var i=t._workInProgressVersionPrimary;if(null!==i?e=i===r:(e=e.mutableReadLanes,(e=($a&e)===e)&&(t._workInProgressVersionPrimary=r,Wa.push(t))),e)return n(t._source);throw Wa.push(t),Error(o(350))}function po(e,t,n,r){var i=Pu;if(null===i)throw Error(o(349));var a=t._getVersion,u=a(t._source),s=Xa.current,c=s.useState((function(){return ho(i,t,n)})),l=c[1],f=c[0];c=to;var h=e.memoizedState,d=h.refs,p=d.getSnapshot,v=h.source;h=h.subscribe;var y=Za;return e.memoizedState={refs:d,source:t,subscribe:r},s.useEffect((function(){d.getSnapshot=n,d.setSnapshot=l;var e=a(t._source);if(!lr(u,e)){e=n(t._source),lr(f,e)||(l(e),e=ds(y),i.mutableReadLanes|=e&i.pendingLanes),e=i.mutableReadLanes,i.entangledLanes|=e;for(var r=i.entanglements,o=e;0<o;){var s=31-Kt(o),c=1<<s;r[s]|=e,o&=~c}}}),[n,t,r]),s.useEffect((function(){return r(t._source,(function(){var e=d.getSnapshot,n=d.setSnapshot;try{n(e(t._source));var r=ds(y);i.mutableReadLanes|=r&i.pendingLanes}catch(a){n((function(){throw a}))}}))}),[t,r]),lr(p,n)&&lr(v,t)&&lr(h,r)||((e={pending:null,dispatch:null,lastRenderedReducer:co,lastRenderedState:f}).dispatch=l=Oo.bind(null,Za,e),c.queue=e,c.baseQueue=null,f=ho(i,t,n),c.memoizedState=c.baseState=f),f}function vo(e,t,n){return po(so(),e,t,n)}function yo(e){var t=uo();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e=(e=t.queue={pending:null,dispatch:null,lastRenderedReducer:co,lastRenderedState:e}).dispatch=Oo.bind(null,Za,e),[t.memoizedState,e]}function mo(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=Za.updateQueue)?(t={lastEffect:null},Za.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function go(e){return e={current:e},uo().memoizedState=e}function ko(){return so().memoizedState}function wo(e,t,n,r){var i=uo();Za.flags|=e,i.memoizedState=mo(1|t,n,void 0,void 0===r?null:r)}function bo(e,t,n,r){var i=so();r=void 0===r?null:r;var a=void 0;if(null!==eo){var o=eo.memoizedState;if(a=o.destroy,null!==r&&ao(r,o.deps))return void mo(t,n,a,r)}Za.flags|=e,i.memoizedState=mo(1|t,n,a,r)}function xo(e,t){return wo(516,4,e,t)}function Eo(e,t){return bo(516,4,e,t)}function So(e,t){return bo(4,2,e,t)}function Io(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function To(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,bo(4,2,Io.bind(null,t,e),n)}function Co(){}function _o(e,t){var n=so();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&ao(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Ao(e,t){var n=so();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&ao(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function No(e,t){var n=Ki();Qi(98>n?98:n,(function(){e(!0)})),Qi(97<n?97:n,(function(){var n=Ja.transition;Ja.transition=1;try{e(!1),t()}finally{Ja.transition=n}}))}function Oo(e,t,n){var r=hs(),i=ds(e),a={lane:i,action:n,eagerReducer:null,eagerState:null,next:null},o=t.pending;if(null===o?a.next=a:(a.next=o.next,o.next=a),t.pending=a,o=e.alternate,e===Za||null!==o&&o===Za)ro=no=!0;else{if(0===e.lanes&&(null===o||0===o.lanes)&&null!==(o=t.lastRenderedReducer))try{var u=t.lastRenderedState,s=o(u,n);if(a.eagerReducer=o,a.eagerState=s,lr(s,u))return}catch(c){}ps(e,i,r)}}var Do={readContext:oa,useCallback:io,useContext:io,useEffect:io,useImperativeHandle:io,useLayoutEffect:io,useMemo:io,useReducer:io,useRef:io,useState:io,useDebugValue:io,useDeferredValue:io,useTransition:io,useMutableSource:io,useOpaqueIdentifier:io,unstable_isNewReconciler:!1},Po={readContext:oa,useCallback:function(e,t){return uo().memoizedState=[e,void 0===t?null:t],e},useContext:oa,useEffect:xo,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,wo(4,2,Io.bind(null,t,e),n)},useLayoutEffect:function(e,t){return wo(4,2,e,t)},useMemo:function(e,t){var n=uo();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=uo();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e=(e=r.queue={pending:null,dispatch:null,lastRenderedReducer:e,lastRenderedState:t}).dispatch=Oo.bind(null,Za,e),[r.memoizedState,e]},useRef:go,useState:yo,useDebugValue:Co,useDeferredValue:function(e){var t=yo(e),n=t[0],r=t[1];return xo((function(){var t=Ja.transition;Ja.transition=1;try{r(e)}finally{Ja.transition=t}}),[e]),n},useTransition:function(){var e=yo(!1),t=e[0];return go(e=No.bind(null,e[1])),[e,t]},useMutableSource:function(e,t,n){var r=uo();return r.memoizedState={refs:{getSnapshot:t,setSnapshot:null},source:e,subscribe:n},po(r,e,t,n)},useOpaqueIdentifier:function(){if(Va){var e=!1,t=function(e){return{$$typeof:R,toString:e,valueOf:e}}((function(){throw e||(e=!0,n("r:"+(Xr++).toString(36))),Error(o(355))})),n=yo(t)[1];return 0===(2&Za.mode)&&(Za.flags|=516,mo(5,(function(){n("r:"+(Xr++).toString(36))}),void 0,null)),t}return yo(t="r:"+(Xr++).toString(36)),t},unstable_isNewReconciler:!1},Lo={readContext:oa,useCallback:_o,useContext:oa,useEffect:Eo,useImperativeHandle:To,useLayoutEffect:So,useMemo:Ao,useReducer:lo,useRef:ko,useState:function(){return lo(co)},useDebugValue:Co,useDeferredValue:function(e){var t=lo(co),n=t[0],r=t[1];return Eo((function(){var t=Ja.transition;Ja.transition=1;try{r(e)}finally{Ja.transition=t}}),[e]),n},useTransition:function(){var e=lo(co)[0];return[ko().current,e]},useMutableSource:vo,useOpaqueIdentifier:function(){return lo(co)[0]},unstable_isNewReconciler:!1},Ro={readContext:oa,useCallback:_o,useContext:oa,useEffect:Eo,useImperativeHandle:To,useLayoutEffect:So,useMemo:Ao,useReducer:fo,useRef:ko,useState:function(){return fo(co)},useDebugValue:Co,useDeferredValue:function(e){var t=fo(co),n=t[0],r=t[1];return Eo((function(){var t=Ja.transition;Ja.transition=1;try{r(e)}finally{Ja.transition=t}}),[e]),n},useTransition:function(){var e=fo(co)[0];return[ko().current,e]},useMutableSource:vo,useOpaqueIdentifier:function(){return fo(co)[0]},unstable_isNewReconciler:!1},Mo=b.ReactCurrentOwner,Fo=!1;function jo(e,t,n,r){t.child=null===e?Ca(t,null,n,r):Ta(t,e.child,n,r)}function Bo(e,t,n,r,i){n=n.render;var a=t.ref;return aa(t,i),r=oo(e,t,n,r,a,i),null===e||Fo?(t.flags|=1,jo(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-517,e.lanes&=~i,au(e,t,i))}function Uo(e,t,n,r,i,a){if(null===e){var o=n.type;return"function"!==typeof o||Gs(o)||void 0!==o.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Hs(n.type,null,r,t,t.mode,a)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=o,Vo(e,t,o,r,i,a))}return o=e.child,0===(i&a)&&(i=o.memoizedProps,(n=null!==(n=n.compare)?n:hr)(i,r)&&e.ref===t.ref)?au(e,t,a):(t.flags|=1,(e=Qs(o,r)).ref=t.ref,e.return=t,t.child=e)}function Vo(e,t,n,r,i,a){if(null!==e&&hr(e.memoizedProps,r)&&e.ref===t.ref){if(Fo=!1,0===(a&i))return t.lanes=e.lanes,au(e,t,a);0!==(16384&e.flags)&&(Fo=!0)}return Ko(e,t,n,r,a)}function qo(e,t,n){var r=t.pendingProps,i=r.children,a=null!==e?e.memoizedState:null;if("hidden"===r.mode||"unstable-defer-without-hiding"===r.mode)if(0===(4&t.mode))t.memoizedState={baseLanes:0},xs(t,n);else{if(0===(1073741824&n))return e=null!==a?a.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e},xs(t,e),null;t.memoizedState={baseLanes:0},xs(t,null!==a?a.baseLanes:n)}else null!==a?(r=a.baseLanes|n,t.memoizedState=null):r=n,xs(t,r);return jo(e,t,i,n),t.child}function zo(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=128)}function Ko(e,t,n,r,i){var a=mi(n)?vi:di.current;return a=yi(t,a),aa(t,i),n=oo(e,t,n,r,a,i),null===e||Fo?(t.flags|=1,jo(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-517,e.lanes&=~i,au(e,t,i))}function Go(e,t,n,r,i){if(mi(n)){var a=!0;bi(t)}else a=!1;if(aa(t,i),null===t.stateNode)null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),ka(t,n,r),ba(t,n,r,i),r=!0;else if(null===e){var o=t.stateNode,u=t.memoizedProps;o.props=u;var s=o.context,c=n.contextType;"object"===typeof c&&null!==c?c=oa(c):c=yi(t,c=mi(n)?vi:di.current);var l=n.getDerivedStateFromProps,f="function"===typeof l||"function"===typeof o.getSnapshotBeforeUpdate;f||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(u!==r||s!==c)&&wa(t,o,r,c),ua=!1;var h=t.memoizedState;o.state=h,da(t,r,o,i),s=t.memoizedState,u!==r||h!==s||pi.current||ua?("function"===typeof l&&(ya(t,n,l,r),s=t.memoizedState),(u=ua||ga(t,n,u,r,h,s,c))?(f||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||("function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"===typeof o.componentDidMount&&(t.flags|=4)):("function"===typeof o.componentDidMount&&(t.flags|=4),t.memoizedProps=r,t.memoizedState=s),o.props=r,o.state=s,o.context=c,r=u):("function"===typeof o.componentDidMount&&(t.flags|=4),r=!1)}else{o=t.stateNode,ca(e,t),u=t.memoizedProps,c=t.type===t.elementType?u:Ji(t.type,u),o.props=c,f=t.pendingProps,h=o.context,"object"===typeof(s=n.contextType)&&null!==s?s=oa(s):s=yi(t,s=mi(n)?vi:di.current);var d=n.getDerivedStateFromProps;(l="function"===typeof d||"function"===typeof o.getSnapshotBeforeUpdate)||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(u!==f||h!==s)&&wa(t,o,r,s),ua=!1,h=t.memoizedState,o.state=h,da(t,r,o,i);var p=t.memoizedState;u!==f||h!==p||pi.current||ua?("function"===typeof d&&(ya(t,n,d,r),p=t.memoizedState),(c=ua||ga(t,n,c,r,h,p,s))?(l||"function"!==typeof o.UNSAFE_componentWillUpdate&&"function"!==typeof o.componentWillUpdate||("function"===typeof o.componentWillUpdate&&o.componentWillUpdate(r,p,s),"function"===typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(r,p,s)),"function"===typeof o.componentDidUpdate&&(t.flags|=4),"function"===typeof o.getSnapshotBeforeUpdate&&(t.flags|=256)):("function"!==typeof o.componentDidUpdate||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=256),t.memoizedProps=r,t.memoizedState=p),o.props=r,o.state=p,o.context=s,r=c):("function"!==typeof o.componentDidUpdate||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=256),r=!1)}return Qo(e,t,n,r,a,i)}function Qo(e,t,n,r,i,a){zo(e,t);var o=0!==(64&t.flags);if(!r&&!o)return i&&xi(t,n,!1),au(e,t,a);r=t.stateNode,Mo.current=t;var u=o&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&o?(t.child=Ta(t,e.child,null,a),t.child=Ta(t,null,u,a)):jo(e,t,u,a),t.memoizedState=r.state,i&&xi(t,n,!0),t.child}function Ho(e){var t=e.stateNode;t.pendingContext?ki(0,t.pendingContext,t.pendingContext!==t.context):t.context&&ki(0,t.context,!1),Pa(e,t.containerInfo)}var Wo,Yo,Xo,Jo={dehydrated:null,retryLane:0};function $o(e,t,n){var r,i=t.pendingProps,a=Fa.current,o=!1;return(r=0!==(64&t.flags))||(r=(null===e||null!==e.memoizedState)&&0!==(2&a)),r?(o=!0,t.flags&=-65):null!==e&&null===e.memoizedState||void 0===i.fallback||!0===i.unstable_avoidThisFallback||(a|=1),fi(Fa,1&a),null===e?(void 0!==i.fallback&&Ka(t),e=i.children,a=i.fallback,o?(e=Zo(t,e,a,n),t.child.memoizedState={baseLanes:n},t.memoizedState=Jo,e):"number"===typeof i.unstable_expectedLoadTime?(e=Zo(t,e,a,n),t.child.memoizedState={baseLanes:n},t.memoizedState=Jo,t.lanes=33554432,e):((n=Ys({mode:"visible",children:e},t.mode,n,null)).return=t,t.child=n)):(e.memoizedState,o?(i=tu(e,t,i.children,i.fallback,n),o=t.child,a=e.child.memoizedState,o.memoizedState=null===a?{baseLanes:n}:{baseLanes:a.baseLanes|n},o.childLanes=e.childLanes&~n,t.memoizedState=Jo,i):(n=eu(e,t,i.children,n),t.memoizedState=null,n))}function Zo(e,t,n,r){var i=e.mode,a=e.child;return t={mode:"hidden",children:t},0===(2&i)&&null!==a?(a.childLanes=0,a.pendingProps=t):a=Ys(t,i,0,null),n=Ws(n,i,r,null),a.return=e,n.return=e,a.sibling=n,e.child=a,n}function eu(e,t,n,r){var i=e.child;return e=i.sibling,n=Qs(i,{mode:"visible",children:n}),0===(2&t.mode)&&(n.lanes=r),n.return=t,n.sibling=null,null!==e&&(e.nextEffect=null,e.flags=8,t.firstEffect=t.lastEffect=e),t.child=n}function tu(e,t,n,r,i){var a=t.mode,o=e.child;e=o.sibling;var u={mode:"hidden",children:n};return 0===(2&a)&&t.child!==o?((n=t.child).childLanes=0,n.pendingProps=u,null!==(o=n.lastEffect)?(t.firstEffect=n.firstEffect,t.lastEffect=o,o.nextEffect=null):t.firstEffect=t.lastEffect=null):n=Qs(o,u),null!==e?r=Qs(e,r):(r=Ws(r,a,i,null)).flags|=2,r.return=t,n.return=t,n.sibling=r,t.child=n,r}function nu(e,t){e.lanes|=t;var n=e.alternate;null!==n&&(n.lanes|=t),ia(e.return,t)}function ru(e,t,n,r,i,a){var o=e.memoizedState;null===o?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i,lastEffect:a}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i,o.lastEffect=a)}function iu(e,t,n){var r=t.pendingProps,i=r.revealOrder,a=r.tail;if(jo(e,t,r.children,n),0!==(2&(r=Fa.current)))r=1&r|2,t.flags|=64;else{if(null!==e&&0!==(64&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&nu(e,n);else if(19===e.tag)nu(e,n);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(fi(Fa,r),0===(2&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===ja(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),ru(t,!1,i,n,a,t.lastEffect);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===ja(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}ru(t,!0,n,null,a,t.lastEffect);break;case"together":ru(t,!1,null,null,void 0,t.lastEffect);break;default:t.memoizedState=null}return t.child}function au(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Vu|=t.lanes,0!==(n&t.childLanes)){if(null!==e&&t.child!==e.child)throw Error(o(153));if(null!==t.child){for(n=Qs(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Qs(e,e.pendingProps)).return=t;n.sibling=null}return t.child}return null}function ou(e,t){if(!Va)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function uu(e,t,n){var r=t.pendingProps;switch(t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;case 1:case 17:return mi(t.type)&&gi(),null;case 3:return La(),li(pi),li(di),Ya(),(r=t.stateNode).pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(Qa(t)?t.flags|=4:r.hydrate||(t.flags|=256)),null;case 5:Ma(t);var a=Da(Oa.current);if(n=t.type,null!==e&&null!=t.stateNode)Yo(e,t,n,r),e.ref!==t.ref&&(t.flags|=128);else{if(!r){if(null===t.stateNode)throw Error(o(166));return null}if(e=Da(Aa.current),Qa(t)){r=t.stateNode,n=t.type;var u=t.memoizedProps;switch(r[$r]=t,r[Zr]=u,n){case"dialog":Nr("cancel",r),Nr("close",r);break;case"iframe":case"object":case"embed":Nr("load",r);break;case"video":case"audio":for(e=0;e<Tr.length;e++)Nr(Tr[e],r);break;case"source":Nr("error",r);break;case"img":case"image":case"link":Nr("error",r),Nr("load",r);break;case"details":Nr("toggle",r);break;case"input":ee(r,u),Nr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!u.multiple},Nr("invalid",r);break;case"textarea":se(r,u),Nr("invalid",r)}for(var c in Se(n,u),e=null,u)u.hasOwnProperty(c)&&(a=u[c],"children"===c?"string"===typeof a?r.textContent!==a&&(e=["children",a]):"number"===typeof a&&r.textContent!==""+a&&(e=["children",""+a]):s.hasOwnProperty(c)&&null!=a&&"onScroll"===c&&Nr("scroll",r));switch(n){case"input":X(r),re(r,u,!0);break;case"textarea":X(r),le(r);break;case"select":case"option":break;default:"function"===typeof u.onClick&&(r.onclick=Ur)}r=e,t.updateQueue=r,null!==r&&(t.flags|=4)}else{switch(c=9===a.nodeType?a:a.ownerDocument,e===fe&&(e=de(n)),e===fe?"script"===n?((e=c.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=c.createElement(n,{is:r.is}):(e=c.createElement(n),"select"===n&&(c=e,r.multiple?c.multiple=!0:r.size&&(c.size=r.size))):e=c.createElementNS(e,n),e[$r]=t,e[Zr]=r,Wo(e,t),t.stateNode=e,c=Ie(n,r),n){case"dialog":Nr("cancel",e),Nr("close",e),a=r;break;case"iframe":case"object":case"embed":Nr("load",e),a=r;break;case"video":case"audio":for(a=0;a<Tr.length;a++)Nr(Tr[a],e);a=r;break;case"source":Nr("error",e),a=r;break;case"img":case"image":case"link":Nr("error",e),Nr("load",e),a=r;break;case"details":Nr("toggle",e),a=r;break;case"input":ee(e,r),a=Z(e,r),Nr("invalid",e);break;case"option":a=ae(e,r);break;case"select":e._wrapperState={wasMultiple:!!r.multiple},a=i({},r,{value:void 0}),Nr("invalid",e);break;case"textarea":se(e,r),a=ue(e,r),Nr("invalid",e);break;default:a=r}Se(n,a);var l=a;for(u in l)if(l.hasOwnProperty(u)){var f=l[u];"style"===u?xe(e,f):"dangerouslySetInnerHTML"===u?null!=(f=f?f.__html:void 0)&&me(e,f):"children"===u?"string"===typeof f?("textarea"!==n||""!==f)&&ge(e,f):"number"===typeof f&&ge(e,""+f):"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&"autoFocus"!==u&&(s.hasOwnProperty(u)?null!=f&&"onScroll"===u&&Nr("scroll",e):null!=f&&w(e,u,f,c))}switch(n){case"input":X(e),re(e,r,!1);break;case"textarea":X(e),le(e);break;case"option":null!=r.value&&e.setAttribute("value",""+W(r.value));break;case"select":e.multiple=!!r.multiple,null!=(u=r.value)?oe(e,!!r.multiple,u,!1):null!=r.defaultValue&&oe(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof a.onClick&&(e.onclick=Ur)}zr(n,r)&&(t.flags|=4)}null!==t.ref&&(t.flags|=128)}return null;case 6:if(e&&null!=t.stateNode)Xo(0,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(o(166));n=Da(Oa.current),Da(Aa.current),Qa(t)?(r=t.stateNode,n=t.memoizedProps,r[$r]=t,r.nodeValue!==n&&(t.flags|=4)):((r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[$r]=t,t.stateNode=r)}return null;case 13:return li(Fa),r=t.memoizedState,0!==(64&t.flags)?(t.lanes=n,t):(r=null!==r,n=!1,null===e?void 0!==t.memoizedProps.fallback&&Qa(t):n=null!==e.memoizedState,r&&!n&&0!==(2&t.mode)&&(null===e&&!0!==t.memoizedProps.unstable_avoidThisFallback||0!==(1&Fa.current)?0===ju&&(ju=3):(0!==ju&&3!==ju||(ju=4),null===Pu||0===(134217727&Vu)&&0===(134217727&qu)||gs(Pu,Ru))),(r||n)&&(t.flags|=4),null);case 4:return La(),null===e&&Dr(t.stateNode.containerInfo),null;case 10:return ra(t),null;case 19:if(li(Fa),null===(r=t.memoizedState))return null;if(u=0!==(64&t.flags),null===(c=r.rendering))if(u)ou(r,!1);else{if(0!==ju||null!==e&&0!==(64&e.flags))for(e=t.child;null!==e;){if(null!==(c=ja(e))){for(t.flags|=64,ou(r,!1),null!==(u=c.updateQueue)&&(t.updateQueue=u,t.flags|=4),null===r.lastEffect&&(t.firstEffect=null),t.lastEffect=r.lastEffect,r=n,n=t.child;null!==n;)e=r,(u=n).flags&=2,u.nextEffect=null,u.firstEffect=null,u.lastEffect=null,null===(c=u.alternate)?(u.childLanes=0,u.lanes=e,u.child=null,u.memoizedProps=null,u.memoizedState=null,u.updateQueue=null,u.dependencies=null,u.stateNode=null):(u.childLanes=c.childLanes,u.lanes=c.lanes,u.child=c.child,u.memoizedProps=c.memoizedProps,u.memoizedState=c.memoizedState,u.updateQueue=c.updateQueue,u.type=c.type,e=c.dependencies,u.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return fi(Fa,1&Fa.current|2),t.child}e=e.sibling}null!==r.tail&&zi()>Qu&&(t.flags|=64,u=!0,ou(r,!1),t.lanes=33554432)}else{if(!u)if(null!==(e=ja(c))){if(t.flags|=64,u=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),ou(r,!0),null===r.tail&&"hidden"===r.tailMode&&!c.alternate&&!Va)return null!==(t=t.lastEffect=r.lastEffect)&&(t.nextEffect=null),null}else 2*zi()-r.renderingStartTime>Qu&&1073741824!==n&&(t.flags|=64,u=!0,ou(r,!1),t.lanes=33554432);r.isBackwards?(c.sibling=t.child,t.child=c):(null!==(n=r.last)?n.sibling=c:t.child=c,r.last=c)}return null!==r.tail?(n=r.tail,r.rendering=n,r.tail=n.sibling,r.lastEffect=t.lastEffect,r.renderingStartTime=zi(),n.sibling=null,t=Fa.current,fi(Fa,u?1&t|2:1&t),n):null;case 23:case 24:return Es(),null!==e&&null!==e.memoizedState!==(null!==t.memoizedState)&&"unstable-defer-without-hiding"!==r.mode&&(t.flags|=4),null}throw Error(o(156,t.tag))}function su(e){switch(e.tag){case 1:mi(e.type)&&gi();var t=e.flags;return 4096&t?(e.flags=-4097&t|64,e):null;case 3:if(La(),li(pi),li(di),Ya(),0!==(64&(t=e.flags)))throw Error(o(285));return e.flags=-4097&t|64,e;case 5:return Ma(e),null;case 13:return li(Fa),4096&(t=e.flags)?(e.flags=-4097&t|64,e):null;case 19:return li(Fa),null;case 4:return La(),null;case 10:return ra(e),null;case 23:case 24:return Es(),null;default:return null}}function cu(e,t){try{var n="",r=t;do{n+=Q(r),r=r.return}while(r);var i=n}catch(a){i="\nError generating stack: "+a.message+"\n"+a.stack}return{value:e,source:t,stack:i}}function lu(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}Wo=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Yo=function(e,t,n,r){var a=e.memoizedProps;if(a!==r){e=t.stateNode,Da(Aa.current);var o,u=null;switch(n){case"input":a=Z(e,a),r=Z(e,r),u=[];break;case"option":a=ae(e,a),r=ae(e,r),u=[];break;case"select":a=i({},a,{value:void 0}),r=i({},r,{value:void 0}),u=[];break;case"textarea":a=ue(e,a),r=ue(e,r),u=[];break;default:"function"!==typeof a.onClick&&"function"===typeof r.onClick&&(e.onclick=Ur)}for(f in Se(n,r),n=null,a)if(!r.hasOwnProperty(f)&&a.hasOwnProperty(f)&&null!=a[f])if("style"===f){var c=a[f];for(o in c)c.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else"dangerouslySetInnerHTML"!==f&&"children"!==f&&"suppressContentEditableWarning"!==f&&"suppressHydrationWarning"!==f&&"autoFocus"!==f&&(s.hasOwnProperty(f)?u||(u=[]):(u=u||[]).push(f,null));for(f in r){var l=r[f];if(c=null!=a?a[f]:void 0,r.hasOwnProperty(f)&&l!==c&&(null!=l||null!=c))if("style"===f)if(c){for(o in c)!c.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&c[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(u||(u=[]),u.push(f,n)),n=l;else"dangerouslySetInnerHTML"===f?(l=l?l.__html:void 0,c=c?c.__html:void 0,null!=l&&c!==l&&(u=u||[]).push(f,l)):"children"===f?"string"!==typeof l&&"number"!==typeof l||(u=u||[]).push(f,""+l):"suppressContentEditableWarning"!==f&&"suppressHydrationWarning"!==f&&(s.hasOwnProperty(f)?(null!=l&&"onScroll"===f&&Nr("scroll",e),u||c===l||(u=[])):"object"===typeof l&&null!==l&&l.$$typeof===R?l.toString():(u=u||[]).push(f,l))}n&&(u=u||[]).push("style",n);var f=u;(t.updateQueue=f)&&(t.flags|=4)}},Xo=function(e,t,n,r){n!==r&&(t.flags|=4)};var fu="function"===typeof WeakMap?WeakMap:Map;function hu(e,t,n){(n=la(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Xu||(Xu=!0,Ju=r),lu(0,t)},n}function du(e,t,n){(n=la(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return lu(0,t),r(i)}}var a=e.stateNode;return null!==a&&"function"===typeof a.componentDidCatch&&(n.callback=function(){"function"!==typeof r&&(null===$u?$u=new Set([this]):$u.add(this),lu(0,t));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}var pu="function"===typeof WeakSet?WeakSet:Set;function vu(e){var t=e.ref;if(null!==t)if("function"===typeof t)try{t(null)}catch(n){Us(e,n)}else t.current=null}function yu(e,t){switch(t.tag){case 0:case 11:case 15:case 22:case 5:case 6:case 4:case 17:return;case 1:if(256&t.flags&&null!==e){var n=e.memoizedProps,r=e.memoizedState;t=(e=t.stateNode).getSnapshotBeforeUpdate(t.elementType===t.type?n:Ji(t.type,n),r),e.__reactInternalSnapshotBeforeUpdate=t}return;case 3:return void(256&t.flags&&Hr(t.stateNode.containerInfo))}throw Error(o(163))}function mu(e,t,n){switch(n.tag){case 0:case 11:case 15:case 22:if(null!==(t=null!==(t=n.updateQueue)?t.lastEffect:null)){e=t=t.next;do{if(3===(3&e.tag)){var r=e.create;e.destroy=r()}e=e.next}while(e!==t)}if(null!==(t=null!==(t=n.updateQueue)?t.lastEffect:null)){e=t=t.next;do{var i=e;r=i.next,0!==(4&(i=i.tag))&&0!==(1&i)&&(Fs(n,e),Ms(n,e)),e=r}while(e!==t)}return;case 1:return e=n.stateNode,4&n.flags&&(null===t?e.componentDidMount():(r=n.elementType===n.type?t.memoizedProps:Ji(n.type,t.memoizedProps),e.componentDidUpdate(r,t.memoizedState,e.__reactInternalSnapshotBeforeUpdate))),void(null!==(t=n.updateQueue)&&pa(n,t,e));case 3:if(null!==(t=n.updateQueue)){if(e=null,null!==n.child)switch(n.child.tag){case 5:case 1:e=n.child.stateNode}pa(n,t,e)}return;case 5:return e=n.stateNode,void(null===t&&4&n.flags&&zr(n.type,n.memoizedProps)&&e.focus());case 6:case 4:case 12:case 19:case 17:case 20:case 21:case 23:case 24:return;case 13:return void(null===n.memoizedState&&(n=n.alternate,null!==n&&(n=n.memoizedState,null!==n&&(n=n.dehydrated,null!==n&&xt(n)))))}throw Error(o(163))}function gu(e,t){for(var n=e;;){if(5===n.tag){var r=n.stateNode;if(t)"function"===typeof(r=r.style).setProperty?r.setProperty("display","none","important"):r.display="none";else{r=n.stateNode;var i=n.memoizedProps.style;i=void 0!==i&&null!==i&&i.hasOwnProperty("display")?i.display:null,r.style.display=be("display",i)}}else if(6===n.tag)n.stateNode.nodeValue=t?"":n.memoizedProps;else if((23!==n.tag&&24!==n.tag||null===n.memoizedState||n===e)&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===e)break;for(;null===n.sibling;){if(null===n.return||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}}function ku(e,t){if(Si&&"function"===typeof Si.onCommitFiberUnmount)try{Si.onCommitFiberUnmount(Ei,t)}catch(a){}switch(t.tag){case 0:case 11:case 14:case 15:case 22:if(null!==(e=t.updateQueue)&&null!==(e=e.lastEffect)){var n=e=e.next;do{var r=n,i=r.destroy;if(r=r.tag,void 0!==i)if(0!==(4&r))Fs(t,n);else{r=t;try{i()}catch(a){Us(r,a)}}n=n.next}while(n!==e)}break;case 1:if(vu(t),"function"===typeof(e=t.stateNode).componentWillUnmount)try{e.props=t.memoizedProps,e.state=t.memoizedState,e.componentWillUnmount()}catch(a){Us(t,a)}break;case 5:vu(t);break;case 4:Iu(e,t)}}function wu(e){e.alternate=null,e.child=null,e.dependencies=null,e.firstEffect=null,e.lastEffect=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.return=null,e.updateQueue=null}function bu(e){return 5===e.tag||3===e.tag||4===e.tag}function xu(e){e:{for(var t=e.return;null!==t;){if(bu(t))break e;t=t.return}throw Error(o(160))}var n=t;switch(t=n.stateNode,n.tag){case 5:var r=!1;break;case 3:case 4:t=t.containerInfo,r=!0;break;default:throw Error(o(161))}16&n.flags&&(ge(t,""),n.flags&=-17);e:t:for(n=e;;){for(;null===n.sibling;){if(null===n.return||bu(n.return)){n=null;break e}n=n.return}for(n.sibling.return=n.return,n=n.sibling;5!==n.tag&&6!==n.tag&&18!==n.tag;){if(2&n.flags)continue t;if(null===n.child||4===n.tag)continue t;n.child.return=n,n=n.child}if(!(2&n.flags)){n=n.stateNode;break e}}r?Eu(e,n,t):Su(e,n,t)}function Eu(e,t,n){var r=e.tag,i=5===r||6===r;if(i)e=i?e.stateNode:e.stateNode.instance,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Ur));else if(4!==r&&null!==(e=e.child))for(Eu(e,t,n),e=e.sibling;null!==e;)Eu(e,t,n),e=e.sibling}function Su(e,t,n){var r=e.tag,i=5===r||6===r;if(i)e=i?e.stateNode:e.stateNode.instance,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(Su(e,t,n),e=e.sibling;null!==e;)Su(e,t,n),e=e.sibling}function Iu(e,t){for(var n,r,i=t,a=!1;;){if(!a){a=i.return;e:for(;;){if(null===a)throw Error(o(160));switch(n=a.stateNode,a.tag){case 5:r=!1;break e;case 3:case 4:n=n.containerInfo,r=!0;break e}a=a.return}a=!0}if(5===i.tag||6===i.tag){e:for(var u=e,s=i,c=s;;)if(ku(u,c),null!==c.child&&4!==c.tag)c.child.return=c,c=c.child;else{if(c===s)break e;for(;null===c.sibling;){if(null===c.return||c.return===s)break e;c=c.return}c.sibling.return=c.return,c=c.sibling}r?(u=n,s=i.stateNode,8===u.nodeType?u.parentNode.removeChild(s):u.removeChild(s)):n.removeChild(i.stateNode)}else if(4===i.tag){if(null!==i.child){n=i.stateNode.containerInfo,r=!0,i.child.return=i,i=i.child;continue}}else if(ku(e,i),null!==i.child){i.child.return=i,i=i.child;continue}if(i===t)break;for(;null===i.sibling;){if(null===i.return||i.return===t)return;4===(i=i.return).tag&&(a=!1)}i.sibling.return=i.return,i=i.sibling}}function Tu(e,t){switch(t.tag){case 0:case 11:case 14:case 15:case 22:var n=t.updateQueue;if(null!==(n=null!==n?n.lastEffect:null)){var r=n=n.next;do{3===(3&r.tag)&&(e=r.destroy,r.destroy=void 0,void 0!==e&&e()),r=r.next}while(r!==n)}return;case 1:case 12:case 17:return;case 5:if(null!=(n=t.stateNode)){r=t.memoizedProps;var i=null!==e?e.memoizedProps:r;e=t.type;var a=t.updateQueue;if(t.updateQueue=null,null!==a){for(n[Zr]=r,"input"===e&&"radio"===r.type&&null!=r.name&&te(n,r),Ie(e,i),t=Ie(e,r),i=0;i<a.length;i+=2){var u=a[i],s=a[i+1];"style"===u?xe(n,s):"dangerouslySetInnerHTML"===u?me(n,s):"children"===u?ge(n,s):w(n,u,s,t)}switch(e){case"input":ne(n,r);break;case"textarea":ce(n,r);break;case"select":e=n._wrapperState.wasMultiple,n._wrapperState.wasMultiple=!!r.multiple,null!=(a=r.value)?oe(n,!!r.multiple,a,!1):e!==!!r.multiple&&(null!=r.defaultValue?oe(n,!!r.multiple,r.defaultValue,!0):oe(n,!!r.multiple,r.multiple?[]:"",!1))}}}return;case 6:if(null===t.stateNode)throw Error(o(162));return void(t.stateNode.nodeValue=t.memoizedProps);case 3:return void((n=t.stateNode).hydrate&&(n.hydrate=!1,xt(n.containerInfo)));case 13:return null!==t.memoizedState&&(Gu=zi(),gu(t.child,!0)),void Cu(t);case 19:return void Cu(t);case 23:case 24:return void gu(t,null!==t.memoizedState)}throw Error(o(163))}function Cu(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new pu),t.forEach((function(t){var r=qs.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function _u(e,t){return null!==e&&(null===(e=e.memoizedState)||null!==e.dehydrated)&&(null!==(t=t.memoizedState)&&null===t.dehydrated)}var Au=Math.ceil,Nu=b.ReactCurrentDispatcher,Ou=b.ReactCurrentOwner,Du=0,Pu=null,Lu=null,Ru=0,Mu=0,Fu=ci(0),ju=0,Bu=null,Uu=0,Vu=0,qu=0,zu=0,Ku=null,Gu=0,Qu=1/0;function Hu(){Qu=zi()+500}var Wu,Yu=null,Xu=!1,Ju=null,$u=null,Zu=!1,es=null,ts=90,ns=[],rs=[],is=null,as=0,os=null,us=-1,ss=0,cs=0,ls=null,fs=!1;function hs(){return 0!==(48&Du)?zi():-1!==us?us:us=zi()}function ds(e){if(0===(2&(e=e.mode)))return 1;if(0===(4&e))return 99===Ki()?1:2;if(0===ss&&(ss=Uu),0!==Xi.transition){0!==cs&&(cs=null!==Ku?Ku.pendingLanes:0),e=ss;var t=4186112&~cs;return 0===(t&=-t)&&(0===(t=(e=4186112&~e)&-e)&&(t=8192)),t}return e=Ki(),0!==(4&Du)&&98===e?e=Ut(12,ss):e=Ut(e=function(e){switch(e){case 99:return 15;case 98:return 10;case 97:case 96:return 8;case 95:return 2;default:return 0}}(e),ss),e}function ps(e,t,n){if(50<as)throw as=0,os=null,Error(o(185));if(null===(e=vs(e,t)))return null;zt(e,t,n),e===Pu&&(qu|=t,4===ju&&gs(e,Ru));var r=Ki();1===t?0!==(8&Du)&&0===(48&Du)?ks(e):(ys(e,n),0===Du&&(Hu(),Wi())):(0===(4&Du)||98!==r&&99!==r||(null===is?is=new Set([e]):is.add(e)),ys(e,n)),Ku=e}function vs(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}function ys(e,t){for(var n=e.callbackNode,r=e.suspendedLanes,i=e.pingedLanes,a=e.expirationTimes,u=e.pendingLanes;0<u;){var s=31-Kt(u),c=1<<s,l=a[s];if(-1===l){if(0===(c&r)||0!==(c&i)){l=t,Ft(c);var f=Mt;a[s]=10<=f?l+250:6<=f?l+5e3:-1}}else l<=t&&(e.expiredLanes|=c);u&=~c}if(r=jt(e,e===Pu?Ru:0),t=Mt,0===r)null!==n&&(n!==Fi&&Ci(n),e.callbackNode=null,e.callbackPriority=0);else{if(null!==n){if(e.callbackPriority===t)return;n!==Fi&&Ci(n)}15===t?(n=ks.bind(null,e),null===Bi?(Bi=[n],Ui=Ti(Di,Yi)):Bi.push(n),n=Fi):14===t?n=Hi(99,ks.bind(null,e)):(n=function(e){switch(e){case 15:case 14:return 99;case 13:case 12:case 11:case 10:return 98;case 9:case 8:case 7:case 6:case 4:case 5:return 97;case 3:case 2:case 1:return 95;case 0:return 90;default:throw Error(o(358,e))}}(t),n=Hi(n,ms.bind(null,e))),e.callbackPriority=t,e.callbackNode=n}}function ms(e){if(us=-1,cs=ss=0,0!==(48&Du))throw Error(o(327));var t=e.callbackNode;if(Rs()&&e.callbackNode!==t)return null;var n=jt(e,e===Pu?Ru:0);if(0===n)return null;var r=n,i=Du;Du|=16;var a=Ts();for(Pu===e&&Ru===r||(Hu(),Ss(e,r));;)try{As();break}catch(s){Is(e,s)}if(na(),Nu.current=a,Du=i,null!==Lu?r=0:(Pu=null,Ru=0,r=ju),0!==(Uu&qu))Ss(e,0);else if(0!==r){if(2===r&&(Du|=64,e.hydrate&&(e.hydrate=!1,Hr(e.containerInfo)),0!==(n=Bt(e))&&(r=Cs(e,n))),1===r)throw t=Bu,Ss(e,0),gs(e,n),ys(e,zi()),t;switch(e.finishedWork=e.current.alternate,e.finishedLanes=n,r){case 0:case 1:throw Error(o(345));case 2:case 5:Ds(e);break;case 3:if(gs(e,n),(62914560&n)===n&&10<(r=Gu+500-zi())){if(0!==jt(e,0))break;if(((i=e.suspendedLanes)&n)!==n){hs(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=Gr(Ds.bind(null,e),r);break}Ds(e);break;case 4:if(gs(e,n),(4186112&n)===n)break;for(r=e.eventTimes,i=-1;0<n;){var u=31-Kt(n);a=1<<u,(u=r[u])>i&&(i=u),n&=~a}if(n=i,10<(n=(120>(n=zi()-n)?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*Au(n/1960))-n)){e.timeoutHandle=Gr(Ds.bind(null,e),n);break}Ds(e);break;default:throw Error(o(329))}}return ys(e,zi()),e.callbackNode===t?ms.bind(null,e):null}function gs(e,t){for(t&=~zu,t&=~qu,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Kt(t),r=1<<n;e[n]=-1,t&=~r}}function ks(e){if(0!==(48&Du))throw Error(o(327));if(Rs(),e===Pu&&0!==(e.expiredLanes&Ru)){var t=Ru,n=Cs(e,t);0!==(Uu&qu)&&(n=Cs(e,t=jt(e,t)))}else n=Cs(e,t=jt(e,0));if(0!==e.tag&&2===n&&(Du|=64,e.hydrate&&(e.hydrate=!1,Hr(e.containerInfo)),0!==(t=Bt(e))&&(n=Cs(e,t))),1===n)throw n=Bu,Ss(e,0),gs(e,t),ys(e,zi()),n;return e.finishedWork=e.current.alternate,e.finishedLanes=t,Ds(e),ys(e,zi()),null}function ws(e,t){var n=Du;Du|=1;try{return e(t)}finally{0===(Du=n)&&(Hu(),Wi())}}function bs(e,t){var n=Du;Du&=-2,Du|=8;try{return e(t)}finally{0===(Du=n)&&(Hu(),Wi())}}function xs(e,t){fi(Fu,Mu),Mu|=t,Uu|=t}function Es(){Mu=Fu.current,li(Fu)}function Ss(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,Qr(n)),null!==Lu)for(n=Lu.return;null!==n;){var r=n;switch(r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&gi();break;case 3:La(),li(pi),li(di),Ya();break;case 5:Ma(r);break;case 4:La();break;case 13:case 19:li(Fa);break;case 10:ra(r);break;case 23:case 24:Es()}n=n.return}Pu=e,Lu=Qs(e.current,null),Ru=Mu=Uu=t,ju=0,Bu=null,zu=qu=Vu=0}function Is(e,t){for(;;){var n=Lu;try{if(na(),Xa.current=Do,no){for(var r=Za.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}no=!1}if($a=0,to=eo=Za=null,ro=!1,Ou.current=null,null===n||null===n.return){ju=1,Bu=t,Lu=null;break}e:{var a=e,o=n.return,u=n,s=t;if(t=Ru,u.flags|=2048,u.firstEffect=u.lastEffect=null,null!==s&&"object"===typeof s&&"function"===typeof s.then){var c=s;if(0===(2&u.mode)){var l=u.alternate;l?(u.updateQueue=l.updateQueue,u.memoizedState=l.memoizedState,u.lanes=l.lanes):(u.updateQueue=null,u.memoizedState=null)}var f=0!==(1&Fa.current),h=o;do{var d;if(d=13===h.tag){var p=h.memoizedState;if(null!==p)d=null!==p.dehydrated;else{var v=h.memoizedProps;d=void 0!==v.fallback&&(!0!==v.unstable_avoidThisFallback||!f)}}if(d){var y=h.updateQueue;if(null===y){var m=new Set;m.add(c),h.updateQueue=m}else y.add(c);if(0===(2&h.mode)){if(h.flags|=64,u.flags|=16384,u.flags&=-2981,1===u.tag)if(null===u.alternate)u.tag=17;else{var g=la(-1,1);g.tag=2,fa(u,g)}u.lanes|=1;break e}s=void 0,u=t;var k=a.pingCache;if(null===k?(k=a.pingCache=new fu,s=new Set,k.set(c,s)):void 0===(s=k.get(c))&&(s=new Set,k.set(c,s)),!s.has(u)){s.add(u);var w=Vs.bind(null,a,c,u);c.then(w,w)}h.flags|=4096,h.lanes=t;break e}h=h.return}while(null!==h);s=Error((H(u.type)||"A React component")+" suspended while rendering, but no fallback UI was specified.\n\nAdd a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display.")}5!==ju&&(ju=2),s=cu(s,u),h=o;do{switch(h.tag){case 3:a=s,h.flags|=4096,t&=-t,h.lanes|=t,ha(h,hu(0,a,t));break e;case 1:a=s;var b=h.type,x=h.stateNode;if(0===(64&h.flags)&&("function"===typeof b.getDerivedStateFromError||null!==x&&"function"===typeof x.componentDidCatch&&(null===$u||!$u.has(x)))){h.flags|=4096,t&=-t,h.lanes|=t,ha(h,du(h,a,t));break e}}h=h.return}while(null!==h)}Os(n)}catch(E){t=E,Lu===n&&null!==n&&(Lu=n=n.return);continue}break}}function Ts(){var e=Nu.current;return Nu.current=Do,null===e?Do:e}function Cs(e,t){var n=Du;Du|=16;var r=Ts();for(Pu===e&&Ru===t||Ss(e,t);;)try{_s();break}catch(i){Is(e,i)}if(na(),Du=n,Nu.current=r,null!==Lu)throw Error(o(261));return Pu=null,Ru=0,ju}function _s(){for(;null!==Lu;)Ns(Lu)}function As(){for(;null!==Lu&&!_i();)Ns(Lu)}function Ns(e){var t=Wu(e.alternate,e,Mu);e.memoizedProps=e.pendingProps,null===t?Os(e):Lu=t,Ou.current=null}function Os(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(2048&t.flags)){if(null!==(n=uu(n,t,Mu)))return void(Lu=n);if(24!==(n=t).tag&&23!==n.tag||null===n.memoizedState||0!==(1073741824&Mu)||0===(4&n.mode)){for(var r=0,i=n.child;null!==i;)r|=i.lanes|i.childLanes,i=i.sibling;n.childLanes=r}null!==e&&0===(2048&e.flags)&&(null===e.firstEffect&&(e.firstEffect=t.firstEffect),null!==t.lastEffect&&(null!==e.lastEffect&&(e.lastEffect.nextEffect=t.firstEffect),e.lastEffect=t.lastEffect),1<t.flags&&(null!==e.lastEffect?e.lastEffect.nextEffect=t:e.firstEffect=t,e.lastEffect=t))}else{if(null!==(n=su(t)))return n.flags&=2047,void(Lu=n);null!==e&&(e.firstEffect=e.lastEffect=null,e.flags|=2048)}if(null!==(t=t.sibling))return void(Lu=t);Lu=t=e}while(null!==t);0===ju&&(ju=5)}function Ds(e){var t=Ki();return Qi(99,Ps.bind(null,e,t)),null}function Ps(e,t){do{Rs()}while(null!==es);if(0!==(48&Du))throw Error(o(327));var n=e.finishedWork;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(o(177));e.callbackNode=null;var r=n.lanes|n.childLanes,i=r,a=e.pendingLanes&~i;e.pendingLanes=i,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=i,e.mutableReadLanes&=i,e.entangledLanes&=i,i=e.entanglements;for(var u=e.eventTimes,s=e.expirationTimes;0<a;){var c=31-Kt(a),l=1<<c;i[c]=0,u[c]=-1,s[c]=-1,a&=~l}if(null!==is&&0===(24&r)&&is.has(e)&&is.delete(e),e===Pu&&(Lu=Pu=null,Ru=0),1<n.flags?null!==n.lastEffect?(n.lastEffect.nextEffect=n,r=n.firstEffect):r=n:r=n.firstEffect,null!==r){if(i=Du,Du|=32,Ou.current=null,Vr=Yt,mr(u=yr())){if("selectionStart"in u)s={start:u.selectionStart,end:u.selectionEnd};else e:if(s=(s=u.ownerDocument)&&s.defaultView||window,(l=s.getSelection&&s.getSelection())&&0!==l.rangeCount){s=l.anchorNode,a=l.anchorOffset,c=l.focusNode,l=l.focusOffset;try{s.nodeType,c.nodeType}catch(T){s=null;break e}var f=0,h=-1,d=-1,p=0,v=0,y=u,m=null;t:for(;;){for(var g;y!==s||0!==a&&3!==y.nodeType||(h=f+a),y!==c||0!==l&&3!==y.nodeType||(d=f+l),3===y.nodeType&&(f+=y.nodeValue.length),null!==(g=y.firstChild);)m=y,y=g;for(;;){if(y===u)break t;if(m===s&&++p===a&&(h=f),m===c&&++v===l&&(d=f),null!==(g=y.nextSibling))break;m=(y=m).parentNode}y=g}s=-1===h||-1===d?null:{start:h,end:d}}else s=null;s=s||{start:0,end:0}}else s=null;qr={focusedElem:u,selectionRange:s},Yt=!1,ls=null,fs=!1,Yu=r;do{try{Ls()}catch(T){if(null===Yu)throw Error(o(330));Us(Yu,T),Yu=Yu.nextEffect}}while(null!==Yu);ls=null,Yu=r;do{try{for(u=e;null!==Yu;){var k=Yu.flags;if(16&k&&ge(Yu.stateNode,""),128&k){var w=Yu.alternate;if(null!==w){var b=w.ref;null!==b&&("function"===typeof b?b(null):b.current=null)}}switch(1038&k){case 2:xu(Yu),Yu.flags&=-3;break;case 6:xu(Yu),Yu.flags&=-3,Tu(Yu.alternate,Yu);break;case 1024:Yu.flags&=-1025;break;case 1028:Yu.flags&=-1025,Tu(Yu.alternate,Yu);break;case 4:Tu(Yu.alternate,Yu);break;case 8:Iu(u,s=Yu);var x=s.alternate;wu(s),null!==x&&wu(x)}Yu=Yu.nextEffect}}catch(T){if(null===Yu)throw Error(o(330));Us(Yu,T),Yu=Yu.nextEffect}}while(null!==Yu);if(b=qr,w=yr(),k=b.focusedElem,u=b.selectionRange,w!==k&&k&&k.ownerDocument&&vr(k.ownerDocument.documentElement,k)){null!==u&&mr(k)&&(w=u.start,void 0===(b=u.end)&&(b=w),"selectionStart"in k?(k.selectionStart=w,k.selectionEnd=Math.min(b,k.value.length)):(b=(w=k.ownerDocument||document)&&w.defaultView||window).getSelection&&(b=b.getSelection(),s=k.textContent.length,x=Math.min(u.start,s),u=void 0===u.end?x:Math.min(u.end,s),!b.extend&&x>u&&(s=u,u=x,x=s),s=pr(k,x),a=pr(k,u),s&&a&&(1!==b.rangeCount||b.anchorNode!==s.node||b.anchorOffset!==s.offset||b.focusNode!==a.node||b.focusOffset!==a.offset)&&((w=w.createRange()).setStart(s.node,s.offset),b.removeAllRanges(),x>u?(b.addRange(w),b.extend(a.node,a.offset)):(w.setEnd(a.node,a.offset),b.addRange(w))))),w=[];for(b=k;b=b.parentNode;)1===b.nodeType&&w.push({element:b,left:b.scrollLeft,top:b.scrollTop});for("function"===typeof k.focus&&k.focus(),k=0;k<w.length;k++)(b=w[k]).element.scrollLeft=b.left,b.element.scrollTop=b.top}Yt=!!Vr,qr=Vr=null,e.current=n,Yu=r;do{try{for(k=e;null!==Yu;){var E=Yu.flags;if(36&E&&mu(k,Yu.alternate,Yu),128&E){w=void 0;var S=Yu.ref;if(null!==S){var I=Yu.stateNode;Yu.tag,w=I,"function"===typeof S?S(w):S.current=w}}Yu=Yu.nextEffect}}catch(T){if(null===Yu)throw Error(o(330));Us(Yu,T),Yu=Yu.nextEffect}}while(null!==Yu);Yu=null,ji(),Du=i}else e.current=n;if(Zu)Zu=!1,es=e,ts=t;else for(Yu=r;null!==Yu;)t=Yu.nextEffect,Yu.nextEffect=null,8&Yu.flags&&((E=Yu).sibling=null,E.stateNode=null),Yu=t;if(0===(r=e.pendingLanes)&&($u=null),1===r?e===os?as++:(as=0,os=e):as=0,n=n.stateNode,Si&&"function"===typeof Si.onCommitFiberRoot)try{Si.onCommitFiberRoot(Ei,n,void 0,64===(64&n.current.flags))}catch(T){}if(ys(e,zi()),Xu)throw Xu=!1,e=Ju,Ju=null,e;return 0!==(8&Du)||Wi(),null}function Ls(){for(;null!==Yu;){var e=Yu.alternate;fs||null===ls||(0!==(8&Yu.flags)?et(Yu,ls)&&(fs=!0):13===Yu.tag&&_u(e,Yu)&&et(Yu,ls)&&(fs=!0));var t=Yu.flags;0!==(256&t)&&yu(e,Yu),0===(512&t)||Zu||(Zu=!0,Hi(97,(function(){return Rs(),null}))),Yu=Yu.nextEffect}}function Rs(){if(90!==ts){var e=97<ts?97:ts;return ts=90,Qi(e,js)}return!1}function Ms(e,t){ns.push(t,e),Zu||(Zu=!0,Hi(97,(function(){return Rs(),null})))}function Fs(e,t){rs.push(t,e),Zu||(Zu=!0,Hi(97,(function(){return Rs(),null})))}function js(){if(null===es)return!1;var e=es;if(es=null,0!==(48&Du))throw Error(o(331));var t=Du;Du|=32;var n=rs;rs=[];for(var r=0;r<n.length;r+=2){var i=n[r],a=n[r+1],u=i.destroy;if(i.destroy=void 0,"function"===typeof u)try{u()}catch(c){if(null===a)throw Error(o(330));Us(a,c)}}for(n=ns,ns=[],r=0;r<n.length;r+=2){i=n[r],a=n[r+1];try{var s=i.create;i.destroy=s()}catch(c){if(null===a)throw Error(o(330));Us(a,c)}}for(s=e.current.firstEffect;null!==s;)e=s.nextEffect,s.nextEffect=null,8&s.flags&&(s.sibling=null,s.stateNode=null),s=e;return Du=t,Wi(),!0}function Bs(e,t,n){fa(e,t=hu(0,t=cu(n,t),1)),t=hs(),null!==(e=vs(e,1))&&(zt(e,1,t),ys(e,t))}function Us(e,t){if(3===e.tag)Bs(e,e,t);else for(var n=e.return;null!==n;){if(3===n.tag){Bs(n,e,t);break}if(1===n.tag){var r=n.stateNode;if("function"===typeof n.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===$u||!$u.has(r))){var i=du(n,e=cu(t,e),1);if(fa(n,i),i=hs(),null!==(n=vs(n,1)))zt(n,1,i),ys(n,i);else if("function"===typeof r.componentDidCatch&&(null===$u||!$u.has(r)))try{r.componentDidCatch(t,e)}catch(a){}break}}n=n.return}}function Vs(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=hs(),e.pingedLanes|=e.suspendedLanes&n,Pu===e&&(Ru&n)===n&&(4===ju||3===ju&&(62914560&Ru)===Ru&&500>zi()-Gu?Ss(e,0):zu|=n),ys(e,t)}function qs(e,t){var n=e.stateNode;null!==n&&n.delete(t),0===(t=0)&&(0===(2&(t=e.mode))?t=1:0===(4&t)?t=99===Ki()?1:2:(0===ss&&(ss=Uu),0===(t=Vt(62914560&~ss))&&(t=4194304))),n=hs(),null!==(e=vs(e,t))&&(zt(e,t,n),ys(e,n))}function zs(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.flags=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childLanes=this.lanes=0,this.alternate=null}function Ks(e,t,n,r){return new zs(e,t,n,r)}function Gs(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Qs(e,t){var n=e.alternate;return null===n?((n=Ks(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.nextEffect=null,n.firstEffect=null,n.lastEffect=null),n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Hs(e,t,n,r,i,a){var u=2;if(r=e,"function"===typeof e)Gs(e)&&(u=1);else if("string"===typeof e)u=5;else e:switch(e){case S:return Ws(n.children,i,a,t);case M:u=8,i|=16;break;case I:u=8,i|=1;break;case T:return(e=Ks(12,n,t,8|i)).elementType=T,e.type=T,e.lanes=a,e;case N:return(e=Ks(13,n,t,i)).type=N,e.elementType=N,e.lanes=a,e;case O:return(e=Ks(19,n,t,i)).elementType=O,e.lanes=a,e;case F:return Ys(n,i,a,t);case j:return(e=Ks(24,n,t,i)).elementType=j,e.lanes=a,e;default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case C:u=10;break e;case _:u=9;break e;case A:u=11;break e;case D:u=14;break e;case P:u=16,r=null;break e;case L:u=22;break e}throw Error(o(130,null==e?e:typeof e,""))}return(t=Ks(u,n,t,i)).elementType=e,t.type=r,t.lanes=a,t}function Ws(e,t,n,r){return(e=Ks(7,e,r,t)).lanes=n,e}function Ys(e,t,n,r){return(e=Ks(23,e,r,t)).elementType=F,e.lanes=n,e}function Xs(e,t,n){return(e=Ks(6,e,null,t)).lanes=n,e}function Js(e,t,n){return(t=Ks(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function $s(e,t,n){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.pendingContext=this.context=null,this.hydrate=n,this.callbackNode=null,this.callbackPriority=0,this.eventTimes=qt(0),this.expirationTimes=qt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=qt(0),this.mutableSourceEagerHydrationData=null}function Zs(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:E,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}function ec(e,t,n,r){var i=t.current,a=hs(),u=ds(i);e:if(n){t:{if(Xe(n=n._reactInternals)!==n||1!==n.tag)throw Error(o(170));var s=n;do{switch(s.tag){case 3:s=s.stateNode.context;break t;case 1:if(mi(s.type)){s=s.stateNode.__reactInternalMemoizedMergedChildContext;break t}}s=s.return}while(null!==s);throw Error(o(171))}if(1===n.tag){var c=n.type;if(mi(c)){n=wi(n,c,s);break e}}n=s}else n=hi;return null===t.context?t.context=n:t.pendingContext=n,(t=la(a,u)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),fa(i,t),ps(i,u,a),u}function tc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function nc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function rc(e,t){nc(e,t),(e=e.alternate)&&nc(e,t)}function ic(e,t,n){var r=null!=n&&null!=n.hydrationOptions&&n.hydrationOptions.mutableSources||null;if(n=new $s(e,t,null!=n&&!0===n.hydrate),t=Ks(3,null,null,2===t?7:1===t?3:0),n.current=t,t.stateNode=n,sa(t),e[ei]=n.current,Dr(8===e.nodeType?e.parentNode:e),r)for(e=0;e<r.length;e++){var i=(t=r[e])._getVersion;i=i(t._source),null==n.mutableSourceEagerHydrationData?n.mutableSourceEagerHydrationData=[t,i]:n.mutableSourceEagerHydrationData.push(t,i)}this._internalRoot=n}function ac(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function oc(e,t,n,r,i){var a=n._reactRootContainer;if(a){var o=a._internalRoot;if("function"===typeof i){var u=i;i=function(){var e=tc(o);u.call(e)}}ec(t,o,e,i)}else{if(a=n._reactRootContainer=function(e,t){if(t||(t=!(!(t=e?9===e.nodeType?e.documentElement:e.firstChild:null)||1!==t.nodeType||!t.hasAttribute("data-reactroot"))),!t)for(var n;n=e.lastChild;)e.removeChild(n);return new ic(e,0,t?{hydrate:!0}:void 0)}(n,r),o=a._internalRoot,"function"===typeof i){var s=i;i=function(){var e=tc(o);s.call(e)}}bs((function(){ec(t,o,e,i)}))}return tc(o)}function uc(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!ac(t))throw Error(o(200));return Zs(e,t,null,n)}Wu=function(e,t,n){var r=t.lanes;if(null!==e)if(e.memoizedProps!==t.pendingProps||pi.current)Fo=!0;else{if(0===(n&r)){switch(Fo=!1,t.tag){case 3:Ho(t),Ha();break;case 5:Ra(t);break;case 1:mi(t.type)&&bi(t);break;case 4:Pa(t,t.stateNode.containerInfo);break;case 10:r=t.memoizedProps.value;var i=t.type._context;fi($i,i._currentValue),i._currentValue=r;break;case 13:if(null!==t.memoizedState)return 0!==(n&t.child.childLanes)?$o(e,t,n):(fi(Fa,1&Fa.current),null!==(t=au(e,t,n))?t.sibling:null);fi(Fa,1&Fa.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(64&e.flags)){if(r)return iu(e,t,n);t.flags|=64}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),fi(Fa,Fa.current),r)break;return null;case 23:case 24:return t.lanes=0,qo(e,t,n)}return au(e,t,n)}Fo=0!==(16384&e.flags)}else Fo=!1;switch(t.lanes=0,t.tag){case 2:if(r=t.type,null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,i=yi(t,di.current),aa(t,n),i=oo(null,t,r,e,i,n),t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof){if(t.tag=1,t.memoizedState=null,t.updateQueue=null,mi(r)){var a=!0;bi(t)}else a=!1;t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,sa(t);var u=r.getDerivedStateFromProps;"function"===typeof u&&ya(t,r,u,e),i.updater=ma,t.stateNode=i,i._reactInternals=t,ba(t,r,e,n),t=Qo(null,t,r,!0,a,n)}else t.tag=0,jo(null,t,i,n),t=t.child;return t;case 16:i=t.elementType;e:{switch(null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,i=(a=i._init)(i._payload),t.type=i,a=t.tag=function(e){if("function"===typeof e)return Gs(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===A)return 11;if(e===D)return 14}return 2}(i),e=Ji(i,e),a){case 0:t=Ko(null,t,i,e,n);break e;case 1:t=Go(null,t,i,e,n);break e;case 11:t=Bo(null,t,i,e,n);break e;case 14:t=Uo(null,t,i,Ji(i.type,e),r,n);break e}throw Error(o(306,i,""))}return t;case 0:return r=t.type,i=t.pendingProps,Ko(e,t,r,i=t.elementType===r?i:Ji(r,i),n);case 1:return r=t.type,i=t.pendingProps,Go(e,t,r,i=t.elementType===r?i:Ji(r,i),n);case 3:if(Ho(t),r=t.updateQueue,null===e||null===r)throw Error(o(282));if(r=t.pendingProps,i=null!==(i=t.memoizedState)?i.element:null,ca(e,t),da(t,r,null,n),(r=t.memoizedState.element)===i)Ha(),t=au(e,t,n);else{if((a=(i=t.stateNode).hydrate)&&(Ua=Wr(t.stateNode.containerInfo.firstChild),Ba=t,a=Va=!0),a){if(null!=(e=i.mutableSourceEagerHydrationData))for(i=0;i<e.length;i+=2)(a=e[i])._workInProgressVersionPrimary=e[i+1],Wa.push(a);for(n=Ca(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|1024,n=n.sibling}else jo(e,t,r,n),Ha();t=t.child}return t;case 5:return Ra(t),null===e&&Ka(t),r=t.type,i=t.pendingProps,a=null!==e?e.memoizedProps:null,u=i.children,Kr(r,i)?u=null:null!==a&&Kr(r,a)&&(t.flags|=16),zo(e,t),jo(e,t,u,n),t.child;case 6:return null===e&&Ka(t),null;case 13:return $o(e,t,n);case 4:return Pa(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=Ta(t,null,r,n):jo(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,Bo(e,t,r,i=t.elementType===r?i:Ji(r,i),n);case 7:return jo(e,t,t.pendingProps,n),t.child;case 8:case 12:return jo(e,t,t.pendingProps.children,n),t.child;case 10:e:{r=t.type._context,i=t.pendingProps,u=t.memoizedProps,a=i.value;var s=t.type._context;if(fi($i,s._currentValue),s._currentValue=a,null!==u)if(s=u.value,0===(a=lr(s,a)?0:0|("function"===typeof r._calculateChangedBits?r._calculateChangedBits(s,a):1073741823))){if(u.children===i.children&&!pi.current){t=au(e,t,n);break e}}else for(null!==(s=t.child)&&(s.return=t);null!==s;){var c=s.dependencies;if(null!==c){u=s.child;for(var l=c.firstContext;null!==l;){if(l.context===r&&0!==(l.observedBits&a)){1===s.tag&&((l=la(-1,n&-n)).tag=2,fa(s,l)),s.lanes|=n,null!==(l=s.alternate)&&(l.lanes|=n),ia(s.return,n),c.lanes|=n;break}l=l.next}}else u=10===s.tag&&s.type===t.type?null:s.child;if(null!==u)u.return=s;else for(u=s;null!==u;){if(u===t){u=null;break}if(null!==(s=u.sibling)){s.return=u.return,u=s;break}u=u.return}s=u}jo(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=(a=t.pendingProps).children,aa(t,n),r=r(i=oa(i,a.unstable_observedBits)),t.flags|=1,jo(e,t,r,n),t.child;case 14:return a=Ji(i=t.type,t.pendingProps),Uo(e,t,i,a=Ji(i.type,a),r,n);case 15:return Vo(e,t,t.type,t.pendingProps,r,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Ji(r,i),null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),t.tag=1,mi(r)?(e=!0,bi(t)):e=!1,aa(t,n),ka(t,r,i),ba(t,r,i,n),Qo(null,t,r,!0,e,n);case 19:return iu(e,t,n);case 23:case 24:return qo(e,t,n)}throw Error(o(156,t.tag))},ic.prototype.render=function(e){ec(e,this._internalRoot,null,null)},ic.prototype.unmount=function(){var e=this._internalRoot,t=e.containerInfo;ec(null,e,null,(function(){t[ei]=null}))},tt=function(e){13===e.tag&&(ps(e,4,hs()),rc(e,4))},nt=function(e){13===e.tag&&(ps(e,67108864,hs()),rc(e,67108864))},rt=function(e){if(13===e.tag){var t=hs(),n=ds(e);ps(e,n,t),rc(e,n)}},it=function(e,t){return t()},Ce=function(e,t,n){switch(t){case"input":if(ne(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=ai(r);if(!i)throw Error(o(90));J(r),ne(r,i)}}}break;case"textarea":ce(e,n);break;case"select":null!=(t=n.value)&&oe(e,!!n.multiple,t,!1)}},Pe=ws,Le=function(e,t,n,r,i){var a=Du;Du|=4;try{return Qi(98,e.bind(null,t,n,r,i))}finally{0===(Du=a)&&(Hu(),Wi())}},Re=function(){0===(49&Du)&&(function(){if(null!==is){var e=is;is=null,e.forEach((function(e){e.expiredLanes|=24&e.pendingLanes,ys(e,zi())}))}Wi()}(),Rs())},Me=function(e,t){var n=Du;Du|=2;try{return e(t)}finally{0===(Du=n)&&(Hu(),Wi())}};var sc={Events:[ri,ii,ai,Oe,De,Rs,{current:!1}]},cc={findFiberByHostInstance:ni,bundleType:0,version:"17.0.2",rendererPackageName:"react-dom"},lc={bundleType:cc.bundleType,version:cc.version,rendererPackageName:cc.rendererPackageName,rendererConfig:cc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:b.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=Ze(e))?null:e.stateNode},findFiberByHostInstance:cc.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var fc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!fc.isDisabled&&fc.supportsFiber)try{Ei=fc.inject(lc),Si=fc}catch(ye){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=sc,t.createPortal=uc,t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(o(188));throw Error(o(268,Object.keys(e)))}return e=null===(e=Ze(t))?null:e.stateNode},t.flushSync=function(e,t){var n=Du;if(0!==(48&n))return e(t);Du|=1;try{if(e)return Qi(99,e.bind(null,t))}finally{Du=n,Wi()}},t.hydrate=function(e,t,n){if(!ac(t))throw Error(o(200));return oc(null,e,t,!0,n)},t.render=function(e,t,n){if(!ac(t))throw Error(o(200));return oc(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!ac(e))throw Error(o(40));return!!e._reactRootContainer&&(bs((function(){oc(null,null,e,!1,(function(){e._reactRootContainer=null,e[ei]=null}))})),!0)},t.unstable_batchedUpdates=ws,t.unstable_createPortal=function(e,t){return uc(e,t,2<arguments.length&&void 0!==arguments[2]?arguments[2]:null)},t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!ac(n))throw Error(o(200));if(null==e||void 0===e._reactInternals)throw Error(o(38));return oc(e,t,n,!1,r)},t.version="17.0.2"},4164:function(e,t,n){"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(4463)},6374:function(e,t,n){"use strict";n(1725);var r=n(2791),i=60103;if(t.Fragment=60107,"function"===typeof Symbol&&Symbol.for){var a=Symbol.for;i=a("react.element"),t.Fragment=a("react.fragment")}var o=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,u=Object.prototype.hasOwnProperty,s={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var r,a={},c=null,l=null;for(r in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(l=t.ref),t)u.call(t,r)&&!s.hasOwnProperty(r)&&(a[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===a[r]&&(a[r]=t[r]);return{$$typeof:i,type:e,key:c,ref:l,props:a,_owner:o.current}}t.jsx=c,t.jsxs=c},9117:function(e,t,n){"use strict";var r=n(1725),i=60103,a=60106;t.Fragment=60107,t.StrictMode=60108,t.Profiler=60114;var o=60109,u=60110,s=60112;t.Suspense=60113;var c=60115,l=60116;if("function"===typeof Symbol&&Symbol.for){var f=Symbol.for;i=f("react.element"),a=f("react.portal"),t.Fragment=f("react.fragment"),t.StrictMode=f("react.strict_mode"),t.Profiler=f("react.profiler"),o=f("react.provider"),u=f("react.context"),s=f("react.forward_ref"),t.Suspense=f("react.suspense"),c=f("react.memo"),l=f("react.lazy")}var h="function"===typeof Symbol&&Symbol.iterator;function d(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},v={};function y(e,t,n){this.props=e,this.context=t,this.refs=v,this.updater=n||p}function m(){}function g(e,t,n){this.props=e,this.context=t,this.refs=v,this.updater=n||p}y.prototype.isReactComponent={},y.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error(d(85));this.updater.enqueueSetState(this,e,t,"setState")},y.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},m.prototype=y.prototype;var k=g.prototype=new m;k.constructor=g,r(k,y.prototype),k.isPureReactComponent=!0;var w={current:null},b=Object.prototype.hasOwnProperty,x={key:!0,ref:!0,__self:!0,__source:!0};function E(e,t,n){var r,a={},o=null,u=null;if(null!=t)for(r in void 0!==t.ref&&(u=t.ref),void 0!==t.key&&(o=""+t.key),t)b.call(t,r)&&!x.hasOwnProperty(r)&&(a[r]=t[r]);var s=arguments.length-2;if(1===s)a.children=n;else if(1<s){for(var c=Array(s),l=0;l<s;l++)c[l]=arguments[l+2];a.children=c}if(e&&e.defaultProps)for(r in s=e.defaultProps)void 0===a[r]&&(a[r]=s[r]);return{$$typeof:i,type:e,key:o,ref:u,props:a,_owner:w.current}}function S(e){return"object"===typeof e&&null!==e&&e.$$typeof===i}var I=/\/+/g;function T(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function C(e,t,n,r,o){var u=typeof e;"undefined"!==u&&"boolean"!==u||(e=null);var s=!1;if(null===e)s=!0;else switch(u){case"string":case"number":s=!0;break;case"object":switch(e.$$typeof){case i:case a:s=!0}}if(s)return o=o(s=e),e=""===r?"."+T(s,0):r,Array.isArray(o)?(n="",null!=e&&(n=e.replace(I,"$&/")+"/"),C(o,t,n,"",(function(e){return e}))):null!=o&&(S(o)&&(o=function(e,t){return{$$typeof:i,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(o,n+(!o.key||s&&s.key===o.key?"":(""+o.key).replace(I,"$&/")+"/")+e)),t.push(o)),1;if(s=0,r=""===r?".":r+":",Array.isArray(e))for(var c=0;c<e.length;c++){var l=r+T(u=e[c],c);s+=C(u,t,n,l,o)}else if(l=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=h&&e[h]||e["@@iterator"])?e:null}(e),"function"===typeof l)for(e=l.call(e),c=0;!(u=e.next()).done;)s+=C(u=u.value,t,n,l=r+T(u,c++),o);else if("object"===u)throw t=""+e,Error(d(31,"[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t));return s}function _(e,t,n){if(null==e)return e;var r=[],i=0;return C(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function A(e){if(-1===e._status){var t=e._result;t=t(),e._status=0,e._result=t,t.then((function(t){0===e._status&&(t=t.default,e._status=1,e._result=t)}),(function(t){0===e._status&&(e._status=2,e._result=t)}))}if(1===e._status)return e._result;throw e._result}var N={current:null};function O(){var e=N.current;if(null===e)throw Error(d(321));return e}var D={ReactCurrentDispatcher:N,ReactCurrentBatchConfig:{transition:0},ReactCurrentOwner:w,IsSomeRendererActing:{current:!1},assign:r};t.Children={map:_,forEach:function(e,t,n){_(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return _(e,(function(){t++})),t},toArray:function(e){return _(e,(function(e){return e}))||[]},only:function(e){if(!S(e))throw Error(d(143));return e}},t.Component=y,t.PureComponent=g,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=D,t.cloneElement=function(e,t,n){if(null===e||void 0===e)throw Error(d(267,e));var a=r({},e.props),o=e.key,u=e.ref,s=e._owner;if(null!=t){if(void 0!==t.ref&&(u=t.ref,s=w.current),void 0!==t.key&&(o=""+t.key),e.type&&e.type.defaultProps)var c=e.type.defaultProps;for(l in t)b.call(t,l)&&!x.hasOwnProperty(l)&&(a[l]=void 0===t[l]&&void 0!==c?c[l]:t[l])}var l=arguments.length-2;if(1===l)a.children=n;else if(1<l){c=Array(l);for(var f=0;f<l;f++)c[f]=arguments[f+2];a.children=c}return{$$typeof:i,type:e.type,key:o,ref:u,props:a,_owner:s}},t.createContext=function(e,t){return void 0===t&&(t=null),(e={$$typeof:u,_calculateChangedBits:t,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider={$$typeof:o,_context:e},e.Consumer=e},t.createElement=E,t.createFactory=function(e){var t=E.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:s,render:e}},t.isValidElement=S,t.lazy=function(e){return{$$typeof:l,_payload:{_status:-1,_result:e},_init:A}},t.memo=function(e,t){return{$$typeof:c,type:e,compare:void 0===t?null:t}},t.useCallback=function(e,t){return O().useCallback(e,t)},t.useContext=function(e,t){return O().useContext(e,t)},t.useDebugValue=function(){},t.useEffect=function(e,t){return O().useEffect(e,t)},t.useImperativeHandle=function(e,t,n){return O().useImperativeHandle(e,t,n)},t.useLayoutEffect=function(e,t){return O().useLayoutEffect(e,t)},t.useMemo=function(e,t){return O().useMemo(e,t)},t.useReducer=function(e,t,n){return O().useReducer(e,t,n)},t.useRef=function(e){return O().useRef(e)},t.useState=function(e){return O().useState(e)},t.version="17.0.2"},2791:function(e,t,n){"use strict";e.exports=n(9117)},184:function(e,t,n){"use strict";e.exports=n(6374)},9727:function(e){var t=function(e){"use strict";var t,n=Object.prototype,r=n.hasOwnProperty,i="function"===typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",o=i.asyncIterator||"@@asyncIterator",u=i.toStringTag||"@@toStringTag";function s(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(O){s=function(e,t,n){return e[t]=n}}function c(e,t,n,r){var i=t&&t.prototype instanceof y?t:y,a=Object.create(i.prototype),o=new _(r||[]);return a._invoke=function(e,t,n){var r=f;return function(i,a){if(r===d)throw new Error("Generator is already running");if(r===p){if("throw"===i)throw a;return N()}for(n.method=i,n.arg=a;;){var o=n.delegate;if(o){var u=I(o,n);if(u){if(u===v)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(r===f)throw r=p,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r=d;var s=l(e,t,n);if("normal"===s.type){if(r=n.done?p:h,s.arg===v)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(r=p,n.method="throw",n.arg=s.arg)}}}(e,n,o),a}function l(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(O){return{type:"throw",arg:O}}}e.wrap=c;var f="suspendedStart",h="suspendedYield",d="executing",p="completed",v={};function y(){}function m(){}function g(){}var k={};s(k,a,(function(){return this}));var w=Object.getPrototypeOf,b=w&&w(w(A([])));b&&b!==n&&r.call(b,a)&&(k=b);var x=g.prototype=y.prototype=Object.create(k);function E(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function S(e,t){function n(i,a,o,u){var s=l(e[i],e,a);if("throw"!==s.type){var c=s.arg,f=c.value;return f&&"object"===typeof f&&r.call(f,"__await")?t.resolve(f.__await).then((function(e){n("next",e,o,u)}),(function(e){n("throw",e,o,u)})):t.resolve(f).then((function(e){c.value=e,o(c)}),(function(e){return n("throw",e,o,u)}))}u(s.arg)}var i;this._invoke=function(e,r){function a(){return new t((function(t,i){n(e,r,t,i)}))}return i=i?i.then(a,a):a()}}function I(e,n){var r=e.iterator[n.method];if(r===t){if(n.delegate=null,"throw"===n.method){if(e.iterator.return&&(n.method="return",n.arg=t,I(e,n),"throw"===n.method))return v;n.method="throw",n.arg=new TypeError("The iterator does not provide a 'throw' method")}return v}var i=l(r,e.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,v;var a=i.arg;return a?a.done?(n[e.resultName]=a.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,v):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,v)}function T(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function C(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function _(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(T,this),this.reset(!0)}function A(e){if(e){var n=e[a];if(n)return n.call(e);if("function"===typeof e.next)return e;if(!isNaN(e.length)){var i=-1,o=function n(){for(;++i<e.length;)if(r.call(e,i))return n.value=e[i],n.done=!1,n;return n.value=t,n.done=!0,n};return o.next=o}}return{next:N}}function N(){return{value:t,done:!0}}return m.prototype=g,s(x,"constructor",g),s(g,"constructor",m),m.displayName=s(g,u,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"===typeof e&&e.constructor;return!!t&&(t===m||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,g):(e.__proto__=g,s(e,u,"GeneratorFunction")),e.prototype=Object.create(x),e},e.awrap=function(e){return{__await:e}},E(S.prototype),s(S.prototype,o,(function(){return this})),e.AsyncIterator=S,e.async=function(t,n,r,i,a){void 0===a&&(a=Promise);var o=new S(c(t,n,r,i),a);return e.isGeneratorFunction(n)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},E(x),s(x,u,"Generator"),s(x,a,(function(){return this})),s(x,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=A,_.prototype={constructor:_,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(C),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function i(r,i){return u.type="throw",u.arg=e,n.next=r,i&&(n.method="next",n.arg=t),!!i}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],u=o.completion;if("root"===o.tryLoc)return i("end");if(o.tryLoc<=this.prev){var s=r.call(o,"catchLoc"),c=r.call(o,"finallyLoc");if(s&&c){if(this.prev<o.catchLoc)return i(o.catchLoc,!0);if(this.prev<o.finallyLoc)return i(o.finallyLoc)}else if(s){if(this.prev<o.catchLoc)return i(o.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return i(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=e,o.arg=t,a?(this.method="next",this.next=a.finallyLoc,v):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),v},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),C(n),v}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;C(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:A(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),v}},e}(e.exports);try{regeneratorRuntime=t}catch(n){"object"===typeof globalThis?globalThis.regeneratorRuntime=t:Function("r","regeneratorRuntime = r")(t)}},6813:function(e,t){"use strict";var n,r,i,a;if("object"===typeof performance&&"function"===typeof performance.now){var o=performance;t.unstable_now=function(){return o.now()}}else{var u=Date,s=u.now();t.unstable_now=function(){return u.now()-s}}if("undefined"===typeof window||"function"!==typeof MessageChannel){var c=null,l=null,f=function e(){if(null!==c)try{var n=t.unstable_now();c(!0,n),c=null}catch(r){throw setTimeout(e,0),r}};n=function(e){null!==c?setTimeout(n,0,e):(c=e,setTimeout(f,0))},r=function(e,t){l=setTimeout(e,t)},i=function(){clearTimeout(l)},t.unstable_shouldYield=function(){return!1},a=t.unstable_forceFrameRate=function(){}}else{var h=window.setTimeout,d=window.clearTimeout;if("undefined"!==typeof console){var p=window.cancelAnimationFrame;"function"!==typeof window.requestAnimationFrame&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills"),"function"!==typeof p&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills")}var v=!1,y=null,m=-1,g=5,k=0;t.unstable_shouldYield=function(){return t.unstable_now()>=k},a=function(){},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):g=0<e?Math.floor(1e3/e):5};var w=new MessageChannel,b=w.port2;w.port1.onmessage=function(){if(null!==y){var e=t.unstable_now();k=e+g;try{y(!0,e)?b.postMessage(null):(v=!1,y=null)}catch(n){throw b.postMessage(null),n}}else v=!1},n=function(e){y=e,v||(v=!0,b.postMessage(null))},r=function(e,n){m=h((function(){e(t.unstable_now())}),n)},i=function(){d(m),m=-1}}function x(e,t){var n=e.length;e.push(t);e:for(;;){var r=n-1>>>1,i=e[r];if(!(void 0!==i&&0<I(i,t)))break e;e[r]=t,e[n]=i,n=r}}function E(e){return void 0===(e=e[0])?null:e}function S(e){var t=e[0];if(void 0!==t){var n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length;r<i;){var a=2*(r+1)-1,o=e[a],u=a+1,s=e[u];if(void 0!==o&&0>I(o,n))void 0!==s&&0>I(s,o)?(e[r]=s,e[u]=n,r=u):(e[r]=o,e[a]=n,r=a);else{if(!(void 0!==s&&0>I(s,n)))break e;e[r]=s,e[u]=n,r=u}}}return t}return null}function I(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}var T=[],C=[],_=1,A=null,N=3,O=!1,D=!1,P=!1;function L(e){for(var t=E(C);null!==t;){if(null===t.callback)S(C);else{if(!(t.startTime<=e))break;S(C),t.sortIndex=t.expirationTime,x(T,t)}t=E(C)}}function R(e){if(P=!1,L(e),!D)if(null!==E(T))D=!0,n(M);else{var t=E(C);null!==t&&r(R,t.startTime-e)}}function M(e,n){D=!1,P&&(P=!1,i()),O=!0;var a=N;try{for(L(n),A=E(T);null!==A&&(!(A.expirationTime>n)||e&&!t.unstable_shouldYield());){var o=A.callback;if("function"===typeof o){A.callback=null,N=A.priorityLevel;var u=o(A.expirationTime<=n);n=t.unstable_now(),"function"===typeof u?A.callback=u:A===E(T)&&S(T),L(n)}else S(T);A=E(T)}if(null!==A)var s=!0;else{var c=E(C);null!==c&&r(R,c.startTime-n),s=!1}return s}finally{A=null,N=a,O=!1}}var F=a;t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){D||O||(D=!0,n(M))},t.unstable_getCurrentPriorityLevel=function(){return N},t.unstable_getFirstCallbackNode=function(){return E(T)},t.unstable_next=function(e){switch(N){case 1:case 2:case 3:var t=3;break;default:t=N}var n=N;N=t;try{return e()}finally{N=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=F,t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=N;N=e;try{return t()}finally{N=n}},t.unstable_scheduleCallback=function(e,a,o){var u=t.unstable_now();switch("object"===typeof o&&null!==o?o="number"===typeof(o=o.delay)&&0<o?u+o:u:o=u,e){case 1:var s=-1;break;case 2:s=250;break;case 5:s=1073741823;break;case 4:s=1e4;break;default:s=5e3}return e={id:_++,callback:a,priorityLevel:e,startTime:o,expirationTime:s=o+s,sortIndex:-1},o>u?(e.sortIndex=o,x(C,e),null===E(T)&&e===E(C)&&(P?i():P=!0,r(R,o-u))):(e.sortIndex=s,x(T,e),D||O||(D=!0,n(M))),e},t.unstable_wrapCallback=function(e){var t=N;return function(){var n=N;N=t;try{return e.apply(this,arguments)}finally{N=n}}}},5296:function(e,t,n){"use strict";e.exports=n(6813)},845:function(e){"use strict";e.exports=function(e,t){if("string"!==typeof e||"string"!==typeof t)throw new TypeError("Expected the arguments to be of type `string`");if(""===t)return[e];var n=e.indexOf(t);return-1===n?[e]:[e.slice(0,n),e.slice(n+t.length)]}},499:function(e){"use strict";e.exports=function(e){return encodeURIComponent(e).replace(/[!'()*]/g,(function(e){return"%".concat(e.charCodeAt(0).toString(16).toUpperCase())}))}},274:function(e){var t;t=function(){return function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={exports:{},id:r,loaded:!1};return e[r].call(i.exports,i,i.exports,n),i.loaded=!0,i.exports}return n.m=e,n.c=t,n.p="",n(0)}([function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n(1),a=n(3),o=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),i.initializer.load(this,n,t),this.begin()}return r(e,[{key:"toggle",value:function(){this.pause.status?this.start():this.stop()}},{key:"stop",value:function(){this.typingComplete||this.pause.status||(this.toggleBlinking(!0),this.pause.status=!0,this.options.onStop(this.arrayPos,this))}},{key:"start",value:function(){this.typingComplete||this.pause.status&&(this.pause.status=!1,this.pause.typewrite?this.typewrite(this.pause.curString,this.pause.curStrPos):this.backspace(this.pause.curString,this.pause.curStrPos),this.options.onStart(this.arrayPos,this))}},{key:"destroy",value:function(){this.reset(!1),this.options.onDestroy(this)}},{key:"reset",value:function(){var e=arguments.length<=0||void 0===arguments[0]||arguments[0];clearInterval(this.timeout),this.replaceText(""),this.cursor&&this.cursor.parentNode&&(this.cursor.parentNode.removeChild(this.cursor),this.cursor=null),this.strPos=0,this.arrayPos=0,this.curLoop=0,e&&(this.insertCursor(),this.options.onReset(this),this.begin())}},{key:"begin",value:function(){var e=this;this.options.onBegin(this),this.typingComplete=!1,this.shuffleStringsIfNeeded(this),this.insertCursor(),this.bindInputFocusEvents&&this.bindFocusEvents(),this.timeout=setTimeout((function(){e.currentElContent&&0!==e.currentElContent.length?e.backspace(e.currentElContent,e.currentElContent.length):e.typewrite(e.strings[e.sequence[e.arrayPos]],e.strPos)}),this.startDelay)}},{key:"typewrite",value:function(e,t){var n=this;this.fadeOut&&this.el.classList.contains(this.fadeOutClass)&&(this.el.classList.remove(this.fadeOutClass),this.cursor&&this.cursor.classList.remove(this.fadeOutClass));var r=this.humanizer(this.typeSpeed),i=1;!0!==this.pause.status?this.timeout=setTimeout((function(){t=a.htmlParser.typeHtmlChars(e,t,n);var r=0,o=e.substr(t);if("^"===o.charAt(0)&&/^\^\d+/.test(o)){var u=1;u+=(o=/\d+/.exec(o)[0]).length,r=parseInt(o),n.temporaryPause=!0,n.options.onTypingPaused(n.arrayPos,n),e=e.substring(0,t)+e.substring(t+u),n.toggleBlinking(!0)}if("`"===o.charAt(0)){for(;"`"!==e.substr(t+i).charAt(0)&&(i++,!(t+i>e.length)););var s=e.substring(0,t),c=e.substring(s.length+1,t+i),l=e.substring(t+i+1);e=s+c+l,i--}n.timeout=setTimeout((function(){n.toggleBlinking(!1),t>=e.length?n.doneTyping(e,t):n.keepTyping(e,t,i),n.temporaryPause&&(n.temporaryPause=!1,n.options.onTypingResumed(n.arrayPos,n))}),r)}),r):this.setPauseStatus(e,t,!0)}},{key:"keepTyping",value:function(e,t,n){0===t&&(this.toggleBlinking(!1),this.options.preStringTyped(this.arrayPos,this)),t+=n;var r=e.substr(0,t);this.replaceText(r),this.typewrite(e,t)}},{key:"doneTyping",value:function(e,t){var n=this;this.options.onStringTyped(this.arrayPos,this),this.toggleBlinking(!0),this.arrayPos===this.strings.length-1&&(this.complete(),!1===this.loop||this.curLoop===this.loopCount)||(this.timeout=setTimeout((function(){n.backspace(e,t)}),this.backDelay))}},{key:"backspace",value:function(e,t){var n=this;if(!0!==this.pause.status){if(this.fadeOut)return this.initFadeOut();this.toggleBlinking(!1);var r=this.humanizer(this.backSpeed);this.timeout=setTimeout((function(){t=a.htmlParser.backSpaceHtmlChars(e,t,n);var r=e.substr(0,t);if(n.replaceText(r),n.smartBackspace){var i=n.strings[n.arrayPos+1];i&&r===i.substr(0,t)?n.stopNum=t:n.stopNum=0}t>n.stopNum?(t--,n.backspace(e,t)):t<=n.stopNum&&(n.arrayPos++,n.arrayPos===n.strings.length?(n.arrayPos=0,n.options.onLastStringBackspaced(),n.shuffleStringsIfNeeded(),n.begin()):n.typewrite(n.strings[n.sequence[n.arrayPos]],t))}),r)}else this.setPauseStatus(e,t,!1)}},{key:"complete",value:function(){this.options.onComplete(this),this.loop?this.curLoop++:this.typingComplete=!0}},{key:"setPauseStatus",value:function(e,t,n){this.pause.typewrite=n,this.pause.curString=e,this.pause.curStrPos=t}},{key:"toggleBlinking",value:function(e){this.cursor&&(this.pause.status||this.cursorBlinking!==e&&(this.cursorBlinking=e,e?this.cursor.classList.add("typed-cursor--blink"):this.cursor.classList.remove("typed-cursor--blink")))}},{key:"humanizer",value:function(e){return Math.round(Math.random()*e/2)+e}},{key:"shuffleStringsIfNeeded",value:function(){this.shuffle&&(this.sequence=this.sequence.sort((function(){return Math.random()-.5})))}},{key:"initFadeOut",value:function(){var e=this;return this.el.className+=" "+this.fadeOutClass,this.cursor&&(this.cursor.className+=" "+this.fadeOutClass),setTimeout((function(){e.arrayPos++,e.replaceText(""),e.strings.length>e.arrayPos?e.typewrite(e.strings[e.sequence[e.arrayPos]],0):(e.typewrite(e.strings[0],0),e.arrayPos=0)}),this.fadeOutDelay)}},{key:"replaceText",value:function(e){this.attr?this.el.setAttribute(this.attr,e):this.isInput?this.el.value=e:"html"===this.contentType?this.el.innerHTML=e:this.el.textContent=e}},{key:"bindFocusEvents",value:function(){var e=this;this.isInput&&(this.el.addEventListener("focus",(function(t){e.stop()})),this.el.addEventListener("blur",(function(t){e.el.value&&0!==e.el.value.length||e.start()})))}},{key:"insertCursor",value:function(){this.showCursor&&(this.cursor||(this.cursor=document.createElement("span"),this.cursor.className="typed-cursor",this.cursor.setAttribute("aria-hidden",!0),this.cursor.innerHTML=this.cursorChar,this.el.parentNode&&this.el.parentNode.insertBefore(this.cursor,this.el.nextSibling)))}}]),e}();t.default=o,e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n(2),u=(r=o)&&r.__esModule?r:{default:r},s=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return a(e,[{key:"load",value:function(e,t,n){if(e.el="string"===typeof n?document.querySelector(n):n,e.options=i({},u.default,t),e.isInput="input"===e.el.tagName.toLowerCase(),e.attr=e.options.attr,e.bindInputFocusEvents=e.options.bindInputFocusEvents,e.showCursor=!e.isInput&&e.options.showCursor,e.cursorChar=e.options.cursorChar,e.cursorBlinking=!0,e.elContent=e.attr?e.el.getAttribute(e.attr):e.el.textContent,e.contentType=e.options.contentType,e.typeSpeed=e.options.typeSpeed,e.startDelay=e.options.startDelay,e.backSpeed=e.options.backSpeed,e.smartBackspace=e.options.smartBackspace,e.backDelay=e.options.backDelay,e.fadeOut=e.options.fadeOut,e.fadeOutClass=e.options.fadeOutClass,e.fadeOutDelay=e.options.fadeOutDelay,e.isPaused=!1,e.strings=e.options.strings.map((function(e){return e.trim()})),"string"===typeof e.options.stringsElement?e.stringsElement=document.querySelector(e.options.stringsElement):e.stringsElement=e.options.stringsElement,e.stringsElement){e.strings=[],e.stringsElement.style.display="none";var r=Array.prototype.slice.apply(e.stringsElement.children),a=r.length;if(a)for(var o=0;o<a;o+=1){var s=r[o];e.strings.push(s.innerHTML.trim())}}for(var o in e.strPos=0,e.arrayPos=0,e.stopNum=0,e.loop=e.options.loop,e.loopCount=e.options.loopCount,e.curLoop=0,e.shuffle=e.options.shuffle,e.sequence=[],e.pause={status:!1,typewrite:!0,curString:"",curStrPos:0},e.typingComplete=!1,e.strings)e.sequence[o]=o;e.currentElContent=this.getCurrentElContent(e),e.autoInsertCss=e.options.autoInsertCss,this.appendAnimationCss(e)}},{key:"getCurrentElContent",value:function(e){return e.attr?e.el.getAttribute(e.attr):e.isInput?e.el.value:"html"===e.contentType?e.el.innerHTML:e.el.textContent}},{key:"appendAnimationCss",value:function(e){var t="data-typed-js-css";if(e.autoInsertCss&&(e.showCursor||e.fadeOut)&&!document.querySelector("["+t+"]")){var n=document.createElement("style");n.type="text/css",n.setAttribute(t,!0);var r="";e.showCursor&&(r+="\n        .typed-cursor{\n          opacity: 1;\n        }\n        .typed-cursor.typed-cursor--blink{\n          animation: typedjsBlink 0.7s infinite;\n          -webkit-animation: typedjsBlink 0.7s infinite;\n                  animation: typedjsBlink 0.7s infinite;\n        }\n        @keyframes typedjsBlink{\n          50% { opacity: 0.0; }\n        }\n        @-webkit-keyframes typedjsBlink{\n          0% { opacity: 1; }\n          50% { opacity: 0.0; }\n          100% { opacity: 1; }\n        }\n      "),e.fadeOut&&(r+="\n        .typed-fade-out{\n          opacity: 0;\n          transition: opacity .25s;\n        }\n        .typed-cursor.typed-cursor--blink.typed-fade-out{\n          -webkit-animation: 0;\n          animation: 0;\n        }\n      "),0!==n.length&&(n.innerHTML=r,document.body.appendChild(n))}}}]),e}();t.default=s;var c=new s;t.initializer=c},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n={strings:["These are the default values...","You know what you should do?","Use your own!","Have a great day!"],stringsElement:null,typeSpeed:0,startDelay:0,backSpeed:0,smartBackspace:!0,shuffle:!1,backDelay:700,fadeOut:!1,fadeOutClass:"typed-fade-out",fadeOutDelay:500,loop:!1,loopCount:1/0,showCursor:!0,cursorChar:"|",autoInsertCss:!0,attr:null,bindInputFocusEvents:!1,contentType:"html",onBegin:function(e){},onComplete:function(e){},preStringTyped:function(e,t){},onStringTyped:function(e,t){},onLastStringBackspaced:function(e){},onTypingPaused:function(e,t){},onTypingResumed:function(e,t){},onReset:function(e){},onStop:function(e,t){},onStart:function(e,t){},onDestroy:function(e){}};t.default=n,e.exports=t.default},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),r=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return n(e,[{key:"typeHtmlChars",value:function(e,t,n){if("html"!==n.contentType)return t;var r=e.substr(t).charAt(0);if("<"===r||"&"===r){var i="";for(i="<"===r?">":";";e.substr(t+1).charAt(0)!==i&&!(1+ ++t>e.length););t++}return t}},{key:"backSpaceHtmlChars",value:function(e,t,n){if("html"!==n.contentType)return t;var r=e.substr(t).charAt(0);if(">"===r||";"===r){var i="";for(i=">"===r?"<":"&";e.substr(t-1).charAt(0)!==i&&!(--t<0););t--}return t}}]),e}();t.default=r;var i=new r;t.htmlParser=i}])},e.exports=t()},9731:function(e,t,n){"use strict";e.exports=n.p+"static/media/0.4bd94e8773be4133bc1c.gif"},2590:function(e,t,n){"use strict";e.exports=n.p+"static/media/1.d8df219819ca4aecb17b.gif"},6392:function(e,t,n){"use strict";e.exports=n.p+"static/media/10.9104252a864d118ed820.gif"},8317:function(e,t,n){"use strict";e.exports=n.p+"static/media/11.475905f1b63f63bc3247.gif"},2695:function(e,t,n){"use strict";e.exports=n.p+"static/media/12.32d2d51ac426f550b47d.gif"},691:function(e,t,n){"use strict";e.exports=n.p+"static/media/13.a24b8bd49ee5ec777a96.gif"},3880:function(e,t,n){"use strict";e.exports=n.p+"static/media/2.38662da6ef70f0e8da71.gif"},3854:function(e,t,n){"use strict";e.exports=n.p+"static/media/3.8672957beeb5f5393ba5.gif"},1505:function(e,t,n){"use strict";e.exports=n.p+"static/media/4.f5013706f7cea302763a.gif"},5896:function(e,t,n){"use strict";e.exports=n.p+"static/media/5.645b3edad6102b0e07ff.gif"},3858:function(e,t,n){"use strict";e.exports=n.p+"static/media/6.5554dbae16725b86f5dc.gif"},1878:function(e,t,n){"use strict";e.exports=n.p+"static/media/7.510b2705ada1b22466a6.gif"},5476:function(e,t,n){"use strict";e.exports=n.p+"static/media/8.cfce663acd63ee070d3d.gif"},347:function(e,t,n){"use strict";e.exports=n.p+"static/media/9.0e1ed09d93aeb0f69498.gif"},5096:function(e,t,n){"use strict";e.exports=n.p+"static/media/loading.687ce6a815d85640a938.gif"},8401:function(e){"use strict";e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAQAAAAEACAYAAABccqhmAAAXdElEQVR42u2dfYxddZnHP72ZTCaTZtI0tUuapreSpna72FRtWBax66m11sqbUsKbiOVFPCAiS5B1KzGERUQlKG+XorxslzcVagUslbK9ULFWgtit3bF2m+6c2u1OJpNJt5mdTCaTm/3jeQbGcaZzz30959zvJ7kplMu995zze76/53l+z+/5gRBCCCGEEEIIIYQQQgghhBBCCCGEEEIIIYQQQgghhBBCCCGEEEIIIYQQQgghhBBCCCGEEEIIIYQQQggh6sUM3QKRZIIwygHzgbn+mg10AJ2TvH0EGPLXINAP9AH9xUJ+SHdTAiCSbewAc4CVwMeAFcBSYGaVH10CeoEeoBv4DbAbOFAs5EsSACGaO8MvAdYD5wDLgbYGfX03sAV4HthfLORHJQBCNGamnwd8DrgEOA3INflnHXIx+BGwt1U8AwmAaKTht7l7fy1w9hRxfLMpAXuAe4EXioX8SMqFthMoFQv5YQmAaKbhrwE2AmckYLYvl4PA94HNwGCxkE9TWHUaEAIXAx8qFvKHJQCiGQNxFXB7ygx/Ir0uBPcleTXB7/ca4Ga/7zngDeDvpwppJACiXq7nqcBdwGdoXFKv3nQDNwI7k5QjcA9rvRv+ign/+cJiIf+ccgCiUYOxE7jO3f1ZGbzEUeBJv75jzQoLxsX3n3XDXzxFCPM3J1vdkACIWg7I04AHsURf1ukFbgWebuTyod/nU4CrsWTq/JO8/apiIf/YyT5vRo1+0PnAa8VC/rhMoSWNvw34AnBnRmf9qSgBDwO3Fgv5wQbc4+Vu9BczfXFUD/DXU2X/aykA84A/APuBC4qFfK9MoqWMfxZwD7am39ait2EncEWxkD9a43ubwyojLwaucAEoN5E67exftQD47H8n8E/+V28Dny4W8kdkGi3h8i8BHgXO1B2hB7gM2F1NXsDvazuWxd9AZfUS+7Clv9F6C0AX8J/YJo0xDgCfkAhk3vjPAJ7Csv3CGASuAX4cZ5VgnNEvAy7CMvoLqwhLzikW8tvKefOMKgfBl4D7J/nP3cCnioV8j8ZEJo1/HfD4BOEXxghwC/DwyaoI3b1vBz6I7YE41z2qamsltrkAlOotAO3A75l8+UEikF3jXw/8gNZK9lUyCz+CLRWOJcZz/poHfBTb7bjK/71WDLvr313u/1BN0mb1SYwfbBvnL4IwOq9YyB/QmMjMzL9Jxj8tOeCLPqvv8tBgnrv486hfReQDPvGWzYwKB0MO20J5fhlvP+yegEQg3ca/xmP+ObojieQg8Ldxl+IrVaLZwNoy33sq8PMgjJboGaWW5e72y/iTm3e4ppI6nEoFYC3WlgmJQOZn//nYUt8C3Y3E5hu+4aEGdRcAd//Pq+C7JALpM/4uoIBlqkUyeQ74bqW1B5V4ADM9HqRCEXg5CKPlem6JN/4ctslkne5GYtnjrn/FexEqEYCzgK4qfvRC4MUgjDSrJJs1wFdI7x7+rNONbfU9Uc2HxFoF8GzwHcDXa3ABR4FPA2+lpdNKi8X9L2O7+0Ty6MGqbQ9W+0G5Ct5/eo0uYj7wc+AsFxaRHNf/Vhl/YunD9tscrMWHtVXw/hU1vJi5WD3B5UEYvSJPIBGswnb2iWQa/3nFQn5vlSLfjhUkzYwbAiwD/r0OFzaI7XN+ttUPamjy7D/LvTLt7kuu8e+p8Nm2YY1E1mOreGcC18f1ABbX6eJmYmvNc4MweqAVD2hIgPEDXIrt8hPJ4giW8HuzAqOfhdXtXIgldsfqd3YDm+MKwMI6XmQH8B3gPUEY3Z7mfuwpZT7W8FJZ/2Rx0GP+7jKNvt2NfrXP9Gv4y70bJ4ANxUJ+pC2GmgC8t84X2wb8o3sCN1e7xCFiPdsr6+jhifiUgDeBi07WW8OTtp1Yjc0q4ONYT8aZJ/ncm8aSiHE8gByNKQfN+WBcGITRhlq3WRKTsgBrOSWSwSjwY+CGYiE/MInBd2AJ9JVA4PF8ueK9GXhs/Iwbh3kNugE5d2FeDsLocuysNg2L+vEZ1NknKQwAt2H9BEpBGHVgjUMWYCXZH8GW4pdWYL9vuai88xdlrwJ4QuEPwKIG35A+rM3SS1ohqIv7PwfYge34E81lBOsy/Ht34d/nM/uSGky+vcCHJx4RFldB2ptwU+YCzwAbgzB6SMnBmrMKFf0khXbgy3X43CHgssnOB4yb8e1q0o3pxFYIHg3CSH3oajf7t2HHc7fpbmQ6n3A91rqcagWgvYkX0oYdg7QjCKMzPBkiqmMxKvrJuvHfATwxVQ4trhF1JOCilmEbVb7oa56ictaizr5ZpYT1CPznkyXQ4wrAYEIubhZ2XPOjfjKRiO/+twOf0p3IrPFvBm6ZLnGeVgEYHxK8HoTR2R7PivJZiC0lieyxFbi2nJL6NAvAGIuwHYX3KkEYixVy/zPJduycwrJWy+IIQAmrIU4i7dgpRTuCMFolb2Ba9x+sZFSJ1GyxC1vuK3uijjsAhhJ+A5YBLwL3BGF0ihqNTEmn3P9MGv8FE0uHay0A/SkZ3F8Gfglc6qWU4s85xV8iW8Yf2z7jhgCHU3RTFgH/AjwThNFpqhv4M2Zhh7uIbMT8FRl/LAHwtcT/SNnNacOOL3sd+LrCgneYy9TbRUU6KGHZ/osqNf5KQoDulN6s2cDtHhZ8wQ+8aGVUO5FuRoGngcur7ZkRVwAO+JenlUXYSTc7gjA6t4XzA1r+Sy8jwH3YgSBVL8tXsgpwJOU3cKy1+fPA80EYndWCQvAe2VEqGQI2YhV+w7Uyhrhxx76M3Mw27NirHcBTLSYESgCmjz7gMuwcwJr1xYglAP7FOzJ2YzuwjjitJARdsqdU8TbwSWBrrTtjVVIx94p7ArmMCsE6YFsQRpuA3bWIsxKIVgDSE+//GGviWZcanEoEoAdLBma1kmxMCM4Fdgdh9CiwDejPUF9ClUqnJ96v6zkZlczio8CrLfAA2rCuq49jy4dfDcJoQdoLinyfhPooJJ99wEP1PiQn9mD2WfDlFnoQOawp493Ar4H7vSNRWt3oNrQJKC0eQGJdwV3Y8d7zW+yhzAOuA64G9gRh9AzwEtCr48xEjRnGcm2JFIAh4EnsFJ9WpN3Dg5VYD/dtQRj9q7ttJ9S+XNSAwUYIQEWuoIcBj2NZylZnnnsE/wYUgbs9RJiV0H0HEieFAFV7AACHsGTgOj2rd+7lcn99xb2B7UEYPY/tokyKZzDi7qVQCFD+yUCTEYTR+cBP9aymNbh92HHMLwN7gYFmHnAShNFPsV2SIrl8t1jI35JkDwCsKOgAliUXU+cLVvjrS1jy9M0gjHZgydTeJngHx/VYFALUQgCGsG22T6GlpXIYO2F5AbDe7183sDcIo18Be7Ca7+N1FoRePYrE83+JF4BiIU8QRlvcvT1Lzyw2neO8g6s97jvogvBrDx2OYM1YB2soCn/SrU88g4kXABeBkSCMbsM206jEtDo6sMamy4DPYUmgfiyJeCgIo995DqHHB8ggMFyBMPSQzf0cEoBGC4CzC2tPtF7PreYhw1x/nYEdhDI2OI65K38kCKPDwB+xlZl+9yTGXiOTFCkd88/QrsDk0pAW/DNq9UFBGC3Faua117y5DLkIHAcG/M8+4L/9zwEX/u+g1mBJ5uPFQr7ue25q6bJ3Y1Vx98u1bHpeYSzRKBQCTOti1gSvDvwhsEXPToh0hAA1nam9uOUmLMkkhGglAXCOAjegclMhKqWUuhBgQiiwDfg26W4hLkSz6KdBG+3qkqzzdek7PSeg3WdCxBeAUmoFYFw+4BaUFBQiLgOpFwAXgUEgBF7TMxUixR5AEEYLK2mK6e2ML8c2ugghUhoCXAX8CrgnCKPFcYSgWMgfBS7k3TMFhBBT86dGbQ/PxXzvfKzbzS+x7rjLgzBqjyEClwDPSgSEOCkNO38zjgCMN9q5WHfc14GfBGG03sODtmlEYAC4BngI9RMUoukCEGcvwP9O8ndd2Ak65/qP3hOE0c883u8tFvJDk4jAUBBGNwH/A3wNHVMlRNMEoOzdgEEYfR7rBFwOfVirsLc8XOj2xMaJsa2pnkNYD9yLdqUJMcYw8FfFQr4hpcBxPIC+GO8d28O+EvgHbEtqD9AbhNEBbO/6YReJm7Ctqdq9JoSV0jcsPI4jAMeq+J5ZWLtsgLXj/n7ExUHbh4UwDtPAEvo4AnC0Dt/f7p6CEMI4RANXyeLMvGMdZoQQ9eOPjWwRH3cZ8LCejxB15WAjvyyX5B8nRItRSqwAuFvyez0jIerGWKfnxHoAb+kZCVE39tHgCtm4ArAXlfAKUU8BGE2yAAygbb1C1Ivfeku9ZAqA5wF+puckRM0pAW83+ksrqcDbojBAiJpzmCac2lyJABwBdup5CVFT3qQJrfRjC4CHAT/Q8xKipvyqkRWA1XgAANuxmmUhRG3i/93N+OJKBWAI2KTnJkRN6G3WhFqRAPhSxWbi9QgQQkzOHpp0lF41+/D7gEf07ISomh1jnbJSIwDuBWxCW4SFqIZRmriqVm0nnqPAA3qGQlRMNw1sAlpTAXAv4EGqaxcmRCvzGk0srKtFL74+4C49RyEq4hfNWP+vmQC4F/AETahjFiLl9NHkzXU16cbrpwBvRHsEhIjDTuBE6gXAeRU7908IUR4vNmv5r+YC4BdyG0oIClEOJ0jAprpaH8hxBLhZoYAQ0/IGCaihqakAeELwOeBhPV8hTspPi4X8SKYEYEIosFXPWIhJOQ68lIQfUpcz+fxk02vdzRFC/DmvYKdlZ1MAXAT6gCuwUkchxLs80+zsf90FwDkMXIaahwgxxlGs/JfMC4AnBfcCnwb269kLwQs0ufinkR7AmAjsdxFQubBoZUrAj5pZ+99wARgTgWIhfwi4ANilcSBalO6kTYK5Rn5ZsZDvAS4CnqTBRyAJkQC2AINJ+kEzmvGlQRh1Al8BvgbM1LgQLcAg8AH3hFvTAxjnCQwB3wY2oL0DojV4CehJ2o/KNeuLfR30OeCTwDYsQSJEFikBm5Ky9p8IAXARoFjI7/O8wE004Ww0IRrAm/5CAjC5EAwC97k38ALaTSiyxQ+ww3QSx4yk/SBPEK4FbgTOBNo0fkSKOQJ8qFjI9yfxx+WS9oOKhfxQsZDfApyD1Q1sJ2FLJ0LE4GkSfHbGjKTfvSCMOoDlwFXAOmCexpRICYM++x+UAFQvBDlgEXA+cCGwDGjXGBMJZjNwVRKz/6kTgHFCADDLBeA8YKULwyyNN5EghoAPFwv5vUn+kTPSfIfHicE84HSsNfkijT2RAJ4ENiR59ocmZNjdlV+JtUXq9zhpBBiZ7GYFYdTuv7PNXf4OoBPo8tciIHABWKBxJxLAMHB/0o2/KQLg33kHsBTbFz2MbQwqBWE0OsX7c/5qH/fqGPcSIklsxfpgIAH4S0aAt4CzgNkaKyKDs/+9Sej4Ww4NrwPwBiE/QbX/QrN/6wmA87Z7AUJo9m9BARgGNmm8iIzxXJpmf2jiMmAQRrOB3wILNW5EBhgAPlIs5FPVBj/X5Bv2oMaNyAgPAwfS9qObWggUhNEc4DfAqRo/IsUc8tk/df0smr0bsB+4S+NHpJy7SWkzm6aXAgdhNBMoAis0jkQK2Q180s/DTB1J6AcwiFUGqk24SBsjwB1pNf5ECIAXBm1Hx4mL9LEV2JnmC0jMbsAgjJYArwNzNa5ECugFgmIhfyDNF5GklmAHgdtQibBIPiUfqwfTfiGJEQA/MHEz8ITGl0g424Cnk3TIZ+pDgHGhwBzgReAMjTORQPrc9e/OwsUksStwP3ANOiREJNP1v5MUVvylRgCc/cD12KYhIZLCK8BjWXD9Ey0AvjT4AnZ6sE4JEklgAPian2KFBKD+IjAKPOQioCIh0UxGsaz/vqxdWC7JP84bKzwA3C4REE3kWeCJLLn+Y6SiLbifDvRVV2GdFSgayX7gE8VC/lgWLy6Xhh9ZLOSHgW8Bt5LQU1ZFJjmOJaOPZfUCc2n5oR4OfA+4AluLFaKelDz0fMOT0pkkjUeD5bBDQB4HlmicijrG/VcVC/lMe5ypPBrMjwQ7Ffg+dmJwTuNV1JBuj/uPZv1CU2k4xUKeYiF/GLgEuAHrLCRELRgArgWOtsLFpnrm9KKMh4GPY1VaQlTDMHAjsDvLcX/qQ4ApwoIu4GrgJmC+xrKISQn4BvCtNBzqKQGYXARybvzXA1cCczSuRZk8BtyQ9aRfpgVgghAscm/gs8BMjW9xEl4FLvGdqEgAsiMEbdhS4eXAenT+gPhLuoHzioX8oVa8+BmtcJHuEcwB1gIbgDOBdo39lqcPOA/Y0ypJv5YUgAli0OlewRrgY1hRUZdsoeU4DlwGbM/iJh8JwPRCANCBdSE+C/gEsAxYDHTKPjLNoHuCW1rZ+FtaAKbIF3S6N7AY+CDwASyZON+FQjsR088wEAKbW934JQDl5Q463VOYiR1lvhRbXVikO5Q6RvzZPdJKa/0SgNoJwmLgO1gyUUnEdDGKdZe6z3eWCrm0ZRt+O/A5rFJMVYbpowR8U8YvAah01r8LOFuzfmqN/3vA3TJ+hQBxZ/3PY23INOun1+3/JnCXd5USEoBpDR/gNOBuYLVm/dQy4iHb92T8EoByjb8TuA64BZ1SnGaGgY3AA3L7JQDlGH4O+CjWA+4MlBtJM0PAzcAPtdQnASjH3V/is8VnUAVg2jmBbQV/WkU+EoDpjH821v3lOtQ3IAscww6V3S7jlwCczPBnYT0CbsS2B6uhaPrZj7WLf7tVd/VJAKY3/C6smOcGN3zF+dngVZ/5e2T8EoCpXP1LfcZfKMPPDCVgM3BzsZAf0O2QAIw3erBNO1e48Z8iw88Uw8C3seo+HRUnAXjH8NuBVVhf99WoF2AWOebe3FYt80kAxtbwl2A9/y7Ctumqei+b7HZx3694v4UFwF38ecC52OlAK7A9+8roZ5NR4BHgNsX7LSoA42b61cA5bvRdMvrMM4CVZj+pst4WEwBfujsda955NrZ8p5m+tVz+G7H1fRX3ZF0AvEjndODDwEqsSedMxfQtxyC2h/+eYiF/XLcjgwLgO++WYltvP4Q14VyK1ePL4FuXfT7r79Ksn2IBCMKow2P02Vit/Rysscb73NiXjDN2ufRiGPghtiOzX1n+BgmAV8ptJH6X23be3T2Xc2Pv8FcX7xbe5Pyfc+NeQoxnP9awc7vW9pvgAXjsvRH4stxv0UBOeKz/fWBAs34TQwBfZlsB3IudnSdEvSgBrwC3YkU9ivWTkgNQC2xRZ3qwRqvPqVdfAgXARQBglocEN2KJPCGqdfcfBu4B+uTuJ1gAJgjBPOw4pS+gU3RFfIaBZ4E7gcNy91MkABPyA/OxkswrUe88MT2jwDbgDlTJl24BmCAECzwsuFIegZiEElbCewewU8t6GRKACUJwiocGVypHIHzGfw07PPU1bdzJsABMyBHMAa7G2jFr1aD1GAG2Y8m93ZrxW0gAJgjBTKz91g1Yfb/INsPAVjd8xfitLAATxKAdWONCsBqV/maNY1gzzkdRVl8CME2eYBkQAhejhGHa4/s9wCbgBeCE1vElAHHzBJ8FNrgoiHQwAGxxw9+r+F4CUK0QtGH7Da7CzuLT6kHyGMLq9J/Bknua7SUAdRGDTs8VXAisw0qPRXMYwdbun3IXv1+xvQSgUWKQczFY52KwWmLQEAaBXcDPsYq9IzJ6CUASxKAd6wf4KWAtsFiPqWb0uHv/ohv/oIxeApBIxuUMFrsQBFifAuUNyqcfy96/DuzE+u2NKqYXiReAKQShHVtFWOmCsAIrSRZWg38MeAP4pc/wB4ERGbxIvQBMIQg57MTfFcDf+Z/Lyf6ZgCXgiM/oe4Hf+Z9HgJIMXmReAMoQhSVYm/H3+z8vSmH4MOpGfdhff3Cj3+fuPTJ2IQEoXxy6XBwW+Ou92AamuVix0ikuEm0NMu4+f/W6QR8D/mucwR/RrjohhBBCCCGEEEIIIYQQQgghhBBCCCGEEEIIIYQQQgghhBBCCCGEEEIIIYQQQgghhBBCCCGEEEIIIYQQQoh08v9vKd2nBmXdRgAAAABJRU5ErkJggg=="}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var a=t[r]={exports:{}};return e[r].call(a.exports,a,a.exports,n),a.exports}n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,{a:t}),t},n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.p="/god-gun-app/",function(){"use strict";var e={};n.r(e),n.d(e,{FirebaseError:function(){return L},SDK_VERSION:function(){return Ae},_DEFAULT_ENTRY_NAME:function(){return pe},_addComponent:function(){return ge},_addOrOverwriteComponent:function(){return ke},_apps:function(){return ye},_clearComponents:function(){return Ee},_components:function(){return me},_getProvider:function(){return be},_registerComponent:function(){return we},_removeServiceInstance:function(){return xe},deleteApp:function(){return Pe},getApp:function(){return Oe},getApps:function(){return De},initializeApp:function(){return Ne},onLog:function(){return Me},registerVersion:function(){return Re},setLogLevel:function(){return Fe}});var t=n(2791),r=n(4164);function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function a(e,t){if(e){if("string"===typeof e)return i(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?i(e,t):void 0}}function o(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a=[],o=!0,u=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);o=!0);}catch(s){u=!0,i=s}finally{try{o||null==n.return||n.return()}finally{if(u)throw i}}return a}}(e,t)||a(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var u=n(4245),s=[n(9731),n(2590),n(3880),n(3854),n(1505),n(5896),n(3858),n(1878),n(5476),n(347),n(6392),n(8317),n(2695),n(691)],c=n(274),l=n.n(c);function f(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function h(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function d(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function p(e,t,n){return t&&d(e.prototype,t),n&&d(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function v(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=a(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,u=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return u=e.done,e},e:function(e){s=!0,o=e},f:function(){try{u||null==n.return||n.return()}finally{if(s)throw o}}}}function y(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function m(e,t){return m=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},m(e,t)}function g(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&m(e,t)}function k(e){return k=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},k(e)}function w(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function b(e){return b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},b(e)}function x(e,t){if(t&&("object"===b(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return y(e)}function E(e){var t=w();return function(){var n,r=k(e);if(t){var i=k(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return x(this,n)}}function S(e,t,n){return S=w()?Reflect.construct:function(e,t,n){var r=[null];r.push.apply(r,t);var i=new(Function.bind.apply(e,r));return n&&m(i,n.prototype),i},S.apply(null,arguments)}function I(e){var t="function"===typeof Map?new Map:void 0;return I=function(e){if(null===e||!function(e){return-1!==Function.toString.call(e).indexOf("[native code]")}(e))return e;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return S(e,arguments,k(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),m(n,e)},I(e)}var T=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296===(64512&i)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},C={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray:function(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<e.length;i+=3){var a=e[i],o=i+1<e.length,u=o?e[i+1]:0,s=i+2<e.length,c=s?e[i+2]:0,l=a>>2,f=(3&a)<<4|u>>4,h=(15&u)<<2|c>>6,d=63&c;s||(d=64,o||(h=64)),r.push(n[l],n[f],n[h],n[d])}return r.join("")},encodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(T(e),t)},decodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){for(var t=[],n=0,r=0;n<e.length;){var i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){var a=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&a)}else if(i>239&&i<365){var o=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(o>>10)),t[r++]=String.fromCharCode(56320+(1023&o))}else{var u=e[n++],s=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&u)<<6|63&s)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray:function(e,t){this.init_();for(var n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<e.length;){var a=n[e.charAt(i++)],o=i<e.length?n[e.charAt(i)]:0,u=++i<e.length?n[e.charAt(i)]:64,s=++i<e.length?n[e.charAt(i)]:64;if(++i,null==a||null==o||null==u||null==s)throw Error();var c=a<<2|o>>4;if(r.push(c),64!==u){var l=o<<4&240|u>>2;if(r.push(l),64!==s){var f=u<<6&192|s;r.push(f)}}}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}},_=function(e){return function(e){var t=T(e);return C.encodeByteArray(t,!0)}(e).replace(/\./g,"")};function A(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:return new Date(t.getTime());case Object:void 0===e&&(e={});break;case Array:e=[];break;default:return t}for(var n in t)t.hasOwnProperty(n)&&"__proto__"!==n&&(e[n]=A(e[n],t[n]));return e}var N=function(){function e(){var t=this;h(this,e),this.reject=function(){},this.resolve=function(){},this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))}return p(e,[{key:"wrapCallback",value:function(e){var t=this;return function(n,r){n?t.reject(n):t.resolve(r),"function"===typeof e&&(t.promise.catch((function(){})),1===e.length?e(n):e(n,r))}}}]),e}();function O(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');var n=t||"demo-project",r=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");var a=Object.assign({iss:"https://securetoken.google.com/".concat(n),aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e);return[_(JSON.stringify({alg:"none",type:"JWT"})),_(JSON.stringify(a)),""].join(".")}function D(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function P(){return!function(){try{return"[object process]"===Object.prototype.toString.call(n.g.process)}catch(e){return!1}}()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}var L=function(e){g(n,e);var t=E(n);function n(e,r,i){var a;return h(this,n),(a=t.call(this,r)).code=e,a.customData=i,a.name="FirebaseError",Object.setPrototypeOf(y(a),n.prototype),Error.captureStackTrace&&Error.captureStackTrace(y(a),R.prototype.create),a}return p(n)}(I(Error)),R=function(){function e(t,n,r){h(this,e),this.service=t,this.serviceName=n,this.errors=r}return p(e,[{key:"create",value:function(e){var t=(arguments.length<=1?void 0:arguments[1])||{},n="".concat(this.service,"/").concat(e),r=this.errors[e],i=r?M(r,t):"Error",a="".concat(this.serviceName,": ").concat(i," (").concat(n,")."),o=new L(n,a,t);return o}}]),e}();function M(e,t){return e.replace(F,(function(e,n){var r=t[n];return null!=r?String(r):"<".concat(n,"?>")}))}var F=/\{\$([^}]+)}/g;function j(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function B(e,t){if(e===t)return!0;for(var n=Object.keys(e),r=Object.keys(t),i=0,a=n;i<a.length;i++){var o=a[i];if(!r.includes(o))return!1;var u=e[o],s=t[o];if(U(u)&&U(s)){if(!B(u,s))return!1}else if(u!==s)return!1}for(var c=0,l=r;c<l.length;c++){var f=l[c];if(!n.includes(f))return!1}return!0}function U(e){return null!==e&&"object"===typeof e}function V(e,t){var n=new q(e,t);return n.subscribe.bind(n)}var q=function(){function e(t,n){var r=this;h(this,e),this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then((function(){t(r)})).catch((function(e){r.error(e)}))}return p(e,[{key:"next",value:function(e){this.forEachObserver((function(t){t.next(e)}))}},{key:"error",value:function(e){this.forEachObserver((function(t){t.error(e)})),this.close(e)}},{key:"complete",value:function(){this.forEachObserver((function(e){e.complete()})),this.close()}},{key:"subscribe",value:function(e,t,n){var r,i=this;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(e,t){if("object"!==typeof e||null===e)return!1;var n,r=v(t);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i in e&&"function"===typeof e[i])return!0}}catch(a){r.e(a)}finally{r.f()}return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n}).next&&(r.next=z),void 0===r.error&&(r.error=z),void 0===r.complete&&(r.complete=z);var a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(e){}})),this.observers.push(r),a}},{key:"unsubscribeOne",value:function(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}},{key:"forEachObserver",value:function(e){if(!this.finalized)for(var t=0;t<this.observers.length;t++)this.sendOne(t,e)}},{key:"sendOne",value:function(e,t){var n=this;this.task.then((function(){if(void 0!==n.observers&&void 0!==n.observers[e])try{t(n.observers[e])}catch(r){"undefined"!==typeof console&&console.error&&console.error(r)}}))}},{key:"close",value:function(e){var t=this;this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((function(){t.observers=void 0,t.onNoObservers=void 0})))}}]),e}();function z(){}function K(e){return e&&e._delegate?e._delegate:e}function G(e){return function(e){if(Array.isArray(e))return i(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||a(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Q(e,t,n,r,i,a,o){try{var u=e[a](o),s=u.value}catch(c){return void n(c)}u.done?t(s):Promise.resolve(s).then(r,i)}function H(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var a=e.apply(t,n);function o(e){Q(a,r,i,o,u,"next",e)}function u(e){Q(a,r,i,o,u,"throw",e)}o(void 0)}))}}var W=n(7757),Y=n.n(W),X=function(){function e(t,n,r){h(this,e),this.name=t,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return p(e,[{key:"setInstantiationMode",value:function(e){return this.instantiationMode=e,this}},{key:"setMultipleInstances",value:function(e){return this.multipleInstances=e,this}},{key:"setServiceProps",value:function(e){return this.serviceProps=e,this}},{key:"setInstanceCreatedCallback",value:function(e){return this.onInstanceCreated=e,this}}]),e}(),J="[DEFAULT]",$=function(){function e(t,n){h(this,e),this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}return p(e,[{key:"get",value:function(e){var t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){var n=new N;if(this.instancesDeferred.set(t,n),this.isInitialized(t)||this.shouldAutoInitialize())try{var r=this.getOrInitializeService({instanceIdentifier:t});r&&n.resolve(r)}catch(i){}}return this.instancesDeferred.get(t).promise}},{key:"getImmediate",value:function(e){var t,n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service ".concat(this.name," is not available"))}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}}},{key:"getComponent",value:function(){return this.component}},{key:"setComponent",value:function(e){if(e.name!==this.name)throw Error("Mismatching Component ".concat(e.name," for Provider ").concat(this.name,"."));if(this.component)throw Error("Component for ".concat(this.name," has already been provided"));if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:J})}catch(c){}var t,n=v(this.instancesDeferred.entries());try{for(n.s();!(t=n.n()).done;){var r=o(t.value,2),i=r[0],a=r[1],u=this.normalizeInstanceIdentifier(i);try{var s=this.getOrInitializeService({instanceIdentifier:u});a.resolve(s)}catch(c){}}}catch(l){n.e(l)}finally{n.f()}}}},{key:"clearInstance",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:J;this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}},{key:"delete",value:function(){var e=H(W.mark((function e(){var t;return W.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Array.from(this.instances.values()),e.next=3,Promise.all([].concat(G(t.filter((function(e){return"INTERNAL"in e})).map((function(e){return e.INTERNAL.delete()}))),G(t.filter((function(e){return"_delete"in e})).map((function(e){return e._delete()})))));case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"isComponentSet",value:function(){return null!=this.component}},{key:"isInitialized",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:J;return this.instances.has(e)}},{key:"getOptions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:J;return this.instancesOptions.get(e)||{}}},{key:"initialize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.options,n=void 0===t?{}:t,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error("".concat(this.name,"(").concat(r,") has already been initialized"));if(!this.isComponentSet())throw Error("Component ".concat(this.name," has not been registered yet"));var i,a=this.getOrInitializeService({instanceIdentifier:r,options:n}),u=v(this.instancesDeferred.entries());try{for(u.s();!(i=u.n()).done;){var s=o(i.value,2),c=s[0],l=s[1],f=this.normalizeInstanceIdentifier(c);r===f&&l.resolve(a)}}catch(h){u.e(h)}finally{u.f()}return a}},{key:"onInit",value:function(e,t){var n,r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);var a=this.instances.get(r);return a&&e(a,r),function(){i.delete(e)}}},{key:"invokeOnInitCallbacks",value:function(e,t){var n=this.onInitCallbacks.get(t);if(n){var r,i=v(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;try{a(e,t)}catch(pv){}}}catch(o){i.e(o)}finally{i.f()}}}},{key:"getOrInitializeService",value:function(e){var t,n=e.instanceIdentifier,r=e.options,i=void 0===r?{}:r,a=this.instances.get(n);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:(t=n,t===J?void 0:t),options:i}),this.instances.set(n,a),this.instancesOptions.set(n,i),this.invokeOnInitCallbacks(a,n),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,a)}catch(pv){}return a||null}},{key:"normalizeInstanceIdentifier",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:J;return this.component?this.component.multipleInstances?e:J:e}},{key:"shouldAutoInitialize",value:function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}]),e}();var Z,ee,te=function(){function e(t){h(this,e),this.name=t,this.providers=new Map}return p(e,[{key:"addComponent",value:function(e){var t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component ".concat(e.name," has already been registered with ").concat(this.name));t.setComponent(e)}},{key:"addOrOverwriteComponent",value:function(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}},{key:"getProvider",value:function(e){if(this.providers.has(e))return this.providers.get(e);var t=new $(e,this);return this.providers.set(e,t),t}},{key:"getProviders",value:function(){return Array.from(this.providers.values())}}]),e}(),ne=[];!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(ee||(ee={}));var re,ie,ae={debug:ee.DEBUG,verbose:ee.VERBOSE,info:ee.INFO,warn:ee.WARN,error:ee.ERROR,silent:ee.SILENT},oe=ee.INFO,ue=(f(Z={},ee.DEBUG,"log"),f(Z,ee.VERBOSE,"log"),f(Z,ee.INFO,"info"),f(Z,ee.WARN,"warn"),f(Z,ee.ERROR,"error"),Z),se=function(e,t){if(!(t<e.logLevel)){var n=(new Date).toISOString(),r=ue[t];if(!r)throw new Error("Attempted to log a message with an invalid logType (value: ".concat(t,")"));for(var i,a=arguments.length,o=new Array(a>2?a-2:0),u=2;u<a;u++)o[u-2]=arguments[u];(i=console)[r].apply(i,["[".concat(n,"]  ").concat(e.name,":")].concat(o))}},ce=function(){function e(t){h(this,e),this.name=t,this._logLevel=oe,this._logHandler=se,this._userLogHandler=null,ne.push(this)}return p(e,[{key:"logLevel",get:function(){return this._logLevel},set:function(e){if(!(e in ee))throw new TypeError('Invalid value "'.concat(e,'" assigned to `logLevel`'));this._logLevel=e}},{key:"setLogLevel",value:function(e){this._logLevel="string"===typeof e?ae[e]:e}},{key:"logHandler",get:function(){return this._logHandler},set:function(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}},{key:"userLogHandler",get:function(){return this._userLogHandler},set:function(e){this._userLogHandler=e}},{key:"debug",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,ee.DEBUG].concat(t)),this._logHandler.apply(this,[this,ee.DEBUG].concat(t))}},{key:"log",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,ee.VERBOSE].concat(t)),this._logHandler.apply(this,[this,ee.VERBOSE].concat(t))}},{key:"info",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,ee.INFO].concat(t)),this._logHandler.apply(this,[this,ee.INFO].concat(t))}},{key:"warn",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,ee.WARN].concat(t)),this._logHandler.apply(this,[this,ee.WARN].concat(t))}},{key:"error",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,ee.ERROR].concat(t)),this._logHandler.apply(this,[this,ee.ERROR].concat(t))}}]),e}();var le=function(){function e(t){h(this,e),this.container=t}return p(e,[{key:"getPlatformInfoString",value:function(){return this.container.getProviders().map((function(e){if(function(e){var t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){var t=e.getImmediate();return"".concat(t.library,"/").concat(t.version)}return null})).filter((function(e){return e})).join(" ")}}]),e}();var fe="@firebase/app",he="0.7.17",de=new ce("@firebase/app"),pe="[DEFAULT]",ve=(f(re={},fe,"fire-core"),f(re,"@firebase/app-compat","fire-core-compat"),f(re,"@firebase/analytics","fire-analytics"),f(re,"@firebase/analytics-compat","fire-analytics-compat"),f(re,"@firebase/app-check","fire-app-check"),f(re,"@firebase/app-check-compat","fire-app-check-compat"),f(re,"@firebase/auth","fire-auth"),f(re,"@firebase/auth-compat","fire-auth-compat"),f(re,"@firebase/database","fire-rtdb"),f(re,"@firebase/database-compat","fire-rtdb-compat"),f(re,"@firebase/functions","fire-fn"),f(re,"@firebase/functions-compat","fire-fn-compat"),f(re,"@firebase/installations","fire-iid"),f(re,"@firebase/installations-compat","fire-iid-compat"),f(re,"@firebase/messaging","fire-fcm"),f(re,"@firebase/messaging-compat","fire-fcm-compat"),f(re,"@firebase/performance","fire-perf"),f(re,"@firebase/performance-compat","fire-perf-compat"),f(re,"@firebase/remote-config","fire-rc"),f(re,"@firebase/remote-config-compat","fire-rc-compat"),f(re,"@firebase/storage","fire-gcs"),f(re,"@firebase/storage-compat","fire-gcs-compat"),f(re,"@firebase/firestore","fire-fst"),f(re,"@firebase/firestore-compat","fire-fst-compat"),f(re,"fire-js","fire-js"),f(re,"firebase","fire-js-all"),re),ye=new Map,me=new Map;function ge(e,t){try{e.container.addComponent(t)}catch(n){de.debug("Component ".concat(t.name," failed to register with FirebaseApp ").concat(e.name),n)}}function ke(e,t){e.container.addOrOverwriteComponent(t)}function we(e){var t=e.name;if(me.has(t))return de.debug("There were multiple attempts to register component ".concat(t,".")),!1;me.set(t,e);var n,r=v(ye.values());try{for(r.s();!(n=r.n()).done;){ge(n.value,e)}}catch(i){r.e(i)}finally{r.f()}return!0}function be(e,t){return e.container.getProvider(t)}function xe(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:pe;be(e,t).clearInstance(n)}function Ee(){me.clear()}var Se,Ie,Te=(f(ie={},"no-app","No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()"),f(ie,"bad-app-name","Illegal App name: '{$appName}"),f(ie,"duplicate-app","Firebase App named '{$appName}' already exists with different options or config"),f(ie,"app-deleted","Firebase App named '{$appName}' already deleted"),f(ie,"invalid-app-argument","firebase.{$appName}() takes either no argument or a Firebase App instance."),f(ie,"invalid-log-argument","First argument to `onLog` must be null or a function."),ie),Ce=new R("app","Firebase",Te),_e=function(){function e(t,n,r){var i=this;h(this,e),this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new X("app",(function(){return i}),"PUBLIC"))}return p(e,[{key:"automaticDataCollectionEnabled",get:function(){return this.checkDestroyed(),this._automaticDataCollectionEnabled},set:function(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}},{key:"name",get:function(){return this.checkDestroyed(),this._name}},{key:"options",get:function(){return this.checkDestroyed(),this._options}},{key:"config",get:function(){return this.checkDestroyed(),this._config}},{key:"container",get:function(){return this._container}},{key:"isDeleted",get:function(){return this._isDeleted},set:function(e){this._isDeleted=e}},{key:"checkDestroyed",value:function(){if(this.isDeleted)throw Ce.create("app-deleted",{appName:this._name})}}]),e}(),Ae="9.6.7";function Ne(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if("object"!==typeof t){var n=t;t={name:n}}var r=Object.assign({name:pe,automaticDataCollectionEnabled:!1},t),i=r.name;if("string"!==typeof i||!i)throw Ce.create("bad-app-name",{appName:String(i)});var a=ye.get(i);if(a){if(B(e,a.options)&&B(r,a.config))return a;throw Ce.create("duplicate-app",{appName:i})}var o,u=new te(i),s=v(me.values());try{for(s.s();!(o=s.n()).done;){var c=o.value;u.addComponent(c)}}catch(f){s.e(f)}finally{s.f()}var l=new _e(e,r,u);return ye.set(i,l),l}function Oe(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:pe,t=ye.get(e);if(!t)throw Ce.create("no-app",{appName:e});return t}function De(){return Array.from(ye.values())}function Pe(e){return Le.apply(this,arguments)}function Le(){return(Le=H(W.mark((function e(t){var n;return W.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.name,!ye.has(n)){e.next=6;break}return ye.delete(n),e.next=5,Promise.all(t.container.getProviders().map((function(e){return e.delete()})));case 5:t.isDeleted=!0;case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Re(e,t,n){var r,i=null!==(r=ve[e])&&void 0!==r?r:e;n&&(i+="-".concat(n));var a=i.match(/\s|\//),o=t.match(/\s|\//);if(a||o){var u=['Unable to register library "'.concat(i,'" with version "').concat(t,'":')];return a&&u.push('library name "'.concat(i,'" contains illegal characters (whitespace or "/")')),a&&o&&u.push("and"),o&&u.push('version name "'.concat(t,'" contains illegal characters (whitespace or "/")')),void de.warn(u.join(" "))}we(new X("".concat(i,"-version"),(function(){return{library:i,version:t}}),"VERSION"))}function Me(e,t){if(null!==e&&"function"!==typeof e)throw Ce.create("invalid-log-argument");!function(e,t){var n,r=v(ne);try{var i=function(){var r=n.value,i=null;t&&t.level&&(i=ae[t.level]),r.userLogHandler=null===e?null:function(t,n){for(var r=arguments.length,a=new Array(r>2?r-2:0),o=2;o<r;o++)a[o-2]=arguments[o];var u=a.map((function(e){if(null==e)return null;if("string"===typeof e)return e;if("number"===typeof e||"boolean"===typeof e)return e.toString();if(e instanceof Error)return e.message;try{return JSON.stringify(e)}catch(t){return null}})).filter((function(e){return e})).join(" ");n>=(null!==i&&void 0!==i?i:t.logLevel)&&e({level:ee[n].toLowerCase(),message:u,args:a,type:t.name})}};for(r.s();!(n=r.n()).done;)i()}catch(a){r.e(a)}finally{r.f()}}(e,t)}function Fe(e){var t;t=e,ne.forEach((function(e){e.setLogLevel(t)}))}Se="",we(new X("platform-logger",(function(e){return new le(e)}),"PRIVATE")),Re(fe,he,Se),Re(fe,he,"esm2017"),Re("fire-js","");var je=function(){function e(t,n){var r=this;h(this,e),this._delegate=t,this.firebase=n,ge(t,new X("app-compat",(function(){return r}),"PUBLIC")),this.container=t.container}return p(e,[{key:"automaticDataCollectionEnabled",get:function(){return this._delegate.automaticDataCollectionEnabled},set:function(e){this._delegate.automaticDataCollectionEnabled=e}},{key:"name",get:function(){return this._delegate.name}},{key:"options",get:function(){return this._delegate.options}},{key:"delete",value:function(){var e=this;return new Promise((function(t){e._delegate.checkDestroyed(),t()})).then((function(){return e.firebase.INTERNAL.removeApp(e.name),Pe(e._delegate)}))}},{key:"_getService",value:function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:pe;this._delegate.checkDestroyed();var r=this._delegate.container.getProvider(e);return r.isInitialized()||"EXPLICIT"!==(null===(t=r.getComponent())||void 0===t?void 0:t.instantiationMode)||r.initialize(),r.getImmediate({identifier:n})}},{key:"_removeServiceInstance",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:pe;this._delegate.container.getProvider(e).clearInstance(t)}},{key:"_addComponent",value:function(e){ge(this._delegate,e)}},{key:"_addOrOverwriteComponent",value:function(e){ke(this._delegate,e)}},{key:"toJSON",value:function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}]),e}(),Be=(f(Ie={},"no-app","No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()"),f(Ie,"invalid-app-argument","firebase.{$appName}() takes either no argument or a Firebase App instance."),Ie),Ue=new R("app-compat","Firebase",Be);var Ve=function t(){var n=function(t){var n={},r={__esModule:!0,initializeApp:function(e){var i=Ne(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{});if(j(n,i.name))return n[i.name];var a=new t(i,r);return n[i.name]=a,a},app:i,registerVersion:Re,setLogLevel:Fe,onLog:Me,apps:null,SDK_VERSION:Ae,INTERNAL:{registerComponent:function(e){var n=e.name,a=n.replace("-compat","");if(we(e)&&"PUBLIC"===e.type){var o=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i();if("function"!==typeof e[a])throw Ue.create("invalid-app-argument",{appName:n});return e[a]()};void 0!==e.serviceProps&&A(o,e.serviceProps),r[a]=o,t.prototype[a]=function(){for(var t=this._getService.bind(this,n),r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return t.apply(this,e.multipleInstances?i:[])}}return"PUBLIC"===e.type?r[a]:null},removeApp:function(e){delete n[e]},useAsService:function(e,t){return"serverAuth"===t?null:t},modularAPIs:e}};function i(e){if(!j(n,e=e||pe))throw Ue.create("no-app",{appName:e});return n[e]}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(n).map((function(e){return n[e]}))}}),i.App=t,r}(je);return n.INTERNAL=Object.assign(Object.assign({},n.INTERNAL),{createFirebaseNamespace:t,extendNamespace:function(e){A(n,e)},createSubscribe:V,ErrorFactory:R,deepExtend:A}),n}(),qe=new ce("@firebase/app-compat");if("object"===typeof self&&self.self===self&&void 0!==self.firebase){qe.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var ze=self.firebase.SDK_VERSION;ze&&ze.indexOf("LITE")>=0&&qe.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var Ke=Ve;!function(e){Re("@firebase/app-compat","0.1.18",e)}();function Ge(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=k(e)););return e}function Qe(){return Qe="undefined"!==typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=Ge(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},Qe.apply(this,arguments)}Ke.registerVersion("firebase","9.6.7","app-compat");var He,We="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof n.g?n.g:"undefined"!==typeof self?self:{},Ye={},Xe=Xe||{},Je=We||self;function $e(){}function Ze(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function et(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}var tt="closure_uid_"+(1e9*Math.random()>>>0),nt=0;function rt(e,t,n){return e.call.apply(e.bind,arguments)}function it(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function at(e,t,n){return(at=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?rt:it).apply(null,arguments)}function ot(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function ut(e,t){function n(){}n.prototype=t.prototype,e.Z=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Vb=function(e,n,r){for(var i=Array(arguments.length-2),a=2;a<arguments.length;a++)i[a-2]=arguments[a];return t.prototype[n].apply(e,i)}}function st(){this.s=this.s,this.o=this.o}var ct={};st.prototype.s=!1,st.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var e=function(e){return Object.prototype.hasOwnProperty.call(e,tt)&&e[tt]||(e[tt]=++nt)}(this);delete ct[e]}},st.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var lt=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if("string"===typeof e)return"string"!==typeof t||1!=t.length?-1:e.indexOf(t,0);for(var n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1},ft=Array.prototype.forEach?function(e,t,n){Array.prototype.forEach.call(e,t,n)}:function(e,t,n){for(var r=e.length,i="string"===typeof e?e.split(""):e,a=0;a<r;a++)a in i&&t.call(n,i[a],a,e)};function ht(e){return Array.prototype.concat.apply([],arguments)}function dt(e){var t=e.length;if(0<t){for(var n=Array(t),r=0;r<t;r++)n[r]=e[r];return n}return[]}function pt(e){return/^[\s\xa0]*$/.test(e)}var vt,yt=String.prototype.trim?function(e){return e.trim()}:function(e){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(e)[1]};function mt(e,t){return-1!=e.indexOf(t)}function gt(e,t){return e<t?-1:e>t?1:0}e:{var kt=Je.navigator;if(kt){var wt=kt.userAgent;if(wt){vt=wt;break e}}vt=""}function bt(e,t,n){for(var r in e)t.call(n,e[r],r,e)}function xt(e){var t={};for(var n in e)t[n]=e[n];return t}var Et="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function St(e,t){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])e[n]=r[n];for(var a=0;a<Et.length;a++)n=Et[a],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function It(e){return It[" "](e),e}It[" "]=$e;var Tt,Ct=mt(vt,"Opera"),_t=mt(vt,"Trident")||mt(vt,"MSIE"),At=mt(vt,"Edge"),Nt=At||_t,Ot=mt(vt,"Gecko")&&!(mt(vt.toLowerCase(),"webkit")&&!mt(vt,"Edge"))&&!(mt(vt,"Trident")||mt(vt,"MSIE"))&&!mt(vt,"Edge"),Dt=mt(vt.toLowerCase(),"webkit")&&!mt(vt,"Edge");function Pt(){var e=Je.document;return e?e.documentMode:void 0}e:{var Lt="",Rt=function(){var e=vt;return Ot?/rv:([^\);]+)(\)|;)/.exec(e):At?/Edge\/([\d\.]+)/.exec(e):_t?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e):Dt?/WebKit\/(\S+)/.exec(e):Ct?/(?:Version)[ \/]?(\S+)/.exec(e):void 0}();if(Rt&&(Lt=Rt?Rt[1]:""),_t){var Mt=Pt();if(null!=Mt&&Mt>parseFloat(Lt)){Tt=String(Mt);break e}}Tt=Lt}var Ft,jt={};function Bt(){return function(e){var t=jt;return Object.prototype.hasOwnProperty.call(t,9)?t[9]:t[9]=e(9)}((function(){for(var e=0,t=yt(String(Tt)).split("."),n=yt("9").split("."),r=Math.max(t.length,n.length),i=0;0==e&&i<r;i++){var a=t[i]||"",o=n[i]||"";do{if(a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],0==a[0].length&&0==o[0].length)break;e=gt(0==a[1].length?0:parseInt(a[1],10),0==o[1].length?0:parseInt(o[1],10))||gt(0==a[2].length,0==o[2].length)||gt(a[2],o[2]),a=a[3],o=o[3]}while(0==e)}return 0<=e}))}if(Je.document&&_t){var Ut=Pt();Ft=Ut||(parseInt(Tt,10)||void 0)}else Ft=void 0;var Vt=Ft,qt=function(){if(!Je.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{Je.addEventListener("test",$e,t),Je.removeEventListener("test",$e,t)}catch(n){}return e}();function zt(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}function Kt(e,t){if(zt.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(Ot){e:{try{It(t.nodeName);var i=!0;break e}catch(a){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"===typeof e.pointerType?e.pointerType:Gt[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&Kt.Z.h.call(this)}}zt.prototype.h=function(){this.defaultPrevented=!0},ut(Kt,zt);var Gt={2:"touch",3:"pen",4:"mouse"};Kt.prototype.h=function(){Kt.Z.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var Qt="closure_listenable_"+(1e6*Math.random()|0),Ht=0;function Wt(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ia=i,this.key=++Ht,this.ca=this.fa=!1}function Yt(e){e.ca=!0,e.listener=null,e.proxy=null,e.src=null,e.ia=null}function Xt(e){this.src=e,this.g={},this.h=0}function Jt(e,t){var n=t.type;if(n in e.g){var r,i=e.g[n],a=lt(i,t);(r=0<=a)&&Array.prototype.splice.call(i,a,1),r&&(Yt(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function $t(e,t,n,r){for(var i=0;i<e.length;++i){var a=e[i];if(!a.ca&&a.listener==t&&a.capture==!!n&&a.ia==r)return i}return-1}Xt.prototype.add=function(e,t,n,r,i){var a=e.toString();(e=this.g[a])||(e=this.g[a]=[],this.h++);var o=$t(e,t,r,i);return-1<o?(t=e[o],n||(t.fa=!1)):((t=new Wt(t,this.src,a,!!r,i)).fa=n,e.push(t)),t};var Zt="closure_lm_"+(1e6*Math.random()|0),en={};function tn(e,t,n,r,i){if(r&&r.once)return rn(e,t,n,r,i);if(Array.isArray(t)){for(var a=0;a<t.length;a++)tn(e,t[a],n,r,i);return null}return n=fn(n),e&&e[Qt]?e.N(t,n,et(r)?!!r.capture:!!r,i):nn(e,t,n,!1,r,i)}function nn(e,t,n,r,i,a){if(!t)throw Error("Invalid event type");var o=et(i)?!!i.capture:!!i,u=cn(e);if(u||(e[Zt]=u=new Xt(e)),(n=u.add(t,n,r,o,a)).proxy)return n;if(r=function(){function e(n){return t.call(e.src,e.listener,n)}var t=sn;return e}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)qt||(i=o),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(un(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function rn(e,t,n,r,i){if(Array.isArray(t)){for(var a=0;a<t.length;a++)rn(e,t[a],n,r,i);return null}return n=fn(n),e&&e[Qt]?e.O(t,n,et(r)?!!r.capture:!!r,i):nn(e,t,n,!0,r,i)}function an(e,t,n,r,i){if(Array.isArray(t))for(var a=0;a<t.length;a++)an(e,t[a],n,r,i);else r=et(r)?!!r.capture:!!r,n=fn(n),e&&e[Qt]?(e=e.i,(t=String(t).toString())in e.g&&(-1<(n=$t(a=e.g[t],n,r,i))&&(Yt(a[n]),Array.prototype.splice.call(a,n,1),0==a.length&&(delete e.g[t],e.h--)))):e&&(e=cn(e))&&(t=e.g[t.toString()],e=-1,t&&(e=$t(t,n,r,i)),(n=-1<e?t[e]:null)&&on(n))}function on(e){if("number"!==typeof e&&e&&!e.ca){var t=e.src;if(t&&t[Qt])Jt(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(un(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=cn(t))?(Jt(n,e),0==n.h&&(n.src=null,t[Zt]=null)):Yt(e)}}}function un(e){return e in en?en[e]:en[e]="on"+e}function sn(e,t){if(e.ca)e=!0;else{t=new Kt(t,this);var n=e.listener,r=e.ia||e.src;e.fa&&on(e),e=n.call(r,t)}return e}function cn(e){return(e=e[Zt])instanceof Xt?e:null}var ln="__closure_events_fn_"+(1e9*Math.random()>>>0);function fn(e){return"function"===typeof e?e:(e[ln]||(e[ln]=function(t){return e.handleEvent(t)}),e[ln])}function hn(){st.call(this),this.i=new Xt(this),this.P=this,this.I=null}function dn(e,t){var n,r=e.I;if(r)for(n=[];r;r=r.I)n.push(r);if(e=e.P,r=t.type||t,"string"===typeof t)t=new zt(t,e);else if(t instanceof zt)t.target=t.target||e;else{var i=t;St(t=new zt(r,e),i)}if(i=!0,n)for(var a=n.length-1;0<=a;a--){var o=t.g=n[a];i=pn(o,r,!0,t)&&i}if(i=pn(o=t.g=e,r,!0,t)&&i,i=pn(o,r,!1,t)&&i,n)for(a=0;a<n.length;a++)i=pn(o=t.g=n[a],r,!1,t)&&i}function pn(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var i=!0,a=0;a<t.length;++a){var o=t[a];if(o&&!o.ca&&o.capture==n){var u=o.listener,s=o.ia||o.src;o.fa&&Jt(e.i,o),i=!1!==u.call(s,r)&&i}}return i&&!r.defaultPrevented}ut(hn,st),hn.prototype[Qt]=!0,hn.prototype.removeEventListener=function(e,t,n,r){an(this,e,t,n,r)},hn.prototype.M=function(){if(hn.Z.M.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)Yt(n[r]);delete t.g[e],t.h--}}this.I=null},hn.prototype.N=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},hn.prototype.O=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};var vn=Je.JSON.stringify;function yn(){var e=Sn,t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var mn,gn=function(){function e(){h(this,e),this.h=this.g=null}return p(e,[{key:"add",value:function(e,t){var n=kn.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}}]),e}(),kn=new(function(){function e(t,n){h(this,e),this.i=t,this.j=n,this.h=0,this.g=null}return p(e,[{key:"get",value:function(){var e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}]),e}())((function(){return new wn}),(function(e){return e.reset()})),wn=function(){function e(){h(this,e),this.next=this.g=this.h=null}return p(e,[{key:"set",value:function(e,t){this.h=e,this.g=t,this.next=null}},{key:"reset",value:function(){this.next=this.g=this.h=null}}]),e}();function bn(e){Je.setTimeout((function(){throw e}),0)}function xn(e,t){mn||function(){var e=Je.Promise.resolve(void 0);mn=function(){e.then(In)}}(),En||(mn(),En=!0),Sn.add(e,t)}var En=!1,Sn=new gn;function In(){for(var e;e=yn();){try{e.h.call(e.g)}catch(n){bn(n)}var t=kn;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}En=!1}function Tn(e,t){hn.call(this),this.h=e||1,this.g=t||Je,this.j=at(this.kb,this),this.l=Date.now()}function Cn(e){e.da=!1,e.S&&(e.g.clearTimeout(e.S),e.S=null)}function _n(e,t,n){if("function"===typeof e)n&&(e=at(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=at(e.handleEvent,e)}return 2147483647<Number(t)?-1:Je.setTimeout(e,t||0)}function An(e){e.g=_n((function(){e.g=null,e.i&&(e.i=!1,An(e))}),e.j);var t=e.h;e.h=null,e.m.apply(null,t)}ut(Tn,hn),(He=Tn.prototype).da=!1,He.S=null,He.kb=function(){if(this.da){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-e):(this.S&&(this.g.clearTimeout(this.S),this.S=null),dn(this,"tick"),this.da&&(Cn(this),this.start()))}},He.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},He.M=function(){Tn.Z.M.call(this),Cn(this),delete this.g};var Nn=function(e){g(n,e);var t=E(n);function n(e,r){var i;return h(this,n),(i=t.call(this)).m=e,i.j=r,i.h=null,i.i=!1,i.g=null,i}return p(n,[{key:"l",value:function(e){this.h=arguments,this.g?this.i=!0:An(this)}},{key:"M",value:function(){Qe(k(n.prototype),"M",this).call(this),this.g&&(Je.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}]),n}(st);function On(e){st.call(this),this.h=e,this.g={}}ut(On,st);var Dn=[];function Pn(e,t,n,r){Array.isArray(n)||(n&&(Dn[0]=n.toString()),n=Dn);for(var i=0;i<n.length;i++){var a=tn(t,n[i],r||e.handleEvent,!1,e.h||e);if(!a)break;e.g[a.key]=a}}function Ln(e){bt(e.g,(function(e,t){this.g.hasOwnProperty(t)&&on(e)}),e),e.g={}}function Rn(){this.g=!0}function Mn(e,t,n,r){e.info((function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var a=i[0];if("noop"!=a&&"stop"!=a&&"close"!=a)for(var o=1;o<i.length;o++)i[o]=""}}}return vn(n)}catch(u){return t}}(e,n)+(r?" "+r:"")}))}On.prototype.M=function(){On.Z.M.call(this),Ln(this)},On.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Rn.prototype.Aa=function(){this.g=!1},Rn.prototype.info=function(){};var Fn={},jn=null;function Bn(){return jn=jn||new hn}function Un(e){zt.call(this,Fn.Ma,e)}function Vn(e){var t=Bn();dn(t,new Un(t,e))}function qn(e,t){zt.call(this,Fn.STAT_EVENT,e),this.stat=t}function zn(e){var t=Bn();dn(t,new qn(t,e))}function Kn(e,t){zt.call(this,Fn.Na,e),this.size=t}function Gn(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return Je.setTimeout((function(){e()}),t)}Fn.Ma="serverreachability",ut(Un,zt),Fn.STAT_EVENT="statevent",ut(qn,zt),Fn.Na="timingevent",ut(Kn,zt);var Qn={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},Hn={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function Wn(){}function Yn(e){return e.h||(e.h=e.i())}function Xn(){}Wn.prototype.h=null;var Jn,$n={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function Zn(){zt.call(this,"d")}function er(){zt.call(this,"c")}function tr(){}function nr(e,t,n,r){this.l=e,this.j=t,this.m=n,this.X=r||1,this.V=new On(this),this.P=ir,e=Nt?125:void 0,this.W=new Tn(e),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new rr}function rr(){this.i=null,this.g="",this.h=!1}ut(Zn,zt),ut(er,zt),ut(tr,Wn),tr.prototype.g=function(){return new XMLHttpRequest},tr.prototype.i=function(){return{}},Jn=new tr;var ir=45e3,ar={},or={};function ur(e,t,n){e.K=1,e.v=Nr(Sr(t)),e.s=n,e.U=!0,sr(e,null)}function sr(e,t){e.F=Date.now(),hr(e),e.A=Sr(e.v);var n=e.A,r=e.X;Array.isArray(r)||(r=[String(r)]),zr(n.h,"t",r),e.C=0,n=e.l.H,e.h=new rr,e.g=Gi(e.l,n?t:null,!e.s),0<e.O&&(e.L=new Nn(at(e.Ia,e,e.g),e.O)),Pn(e.V,e.g,"readystatechange",e.gb),t=e.H?xt(e.H):{},e.s?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ea(e.A,e.u,e.s,t)):(e.u="GET",e.g.ea(e.A,e.u,null,t)),Vn(1),function(e,t,n,r,i,a){e.info((function(){if(e.g)if(a)for(var o="",u=a.split("&"),s=0;s<u.length;s++){var c=u[s].split("=");if(1<c.length){var l=c[0];c=c[1];var f=l.split("_");o=2<=f.length&&"type"==f[1]?o+(l+"=")+c+"&":o+(l+"=redacted&")}}else o=null;else o=a;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+o}))}(e.j,e.u,e.A,e.m,e.X,e.s)}function cr(e){return!!e.g&&("GET"==e.u&&2!=e.K&&e.l.Ba)}function lr(e,t,n){for(var r,i=!0;!e.I&&e.C<n.length;){if((r=fr(e,n))==or){4==t&&(e.o=4,zn(14),i=!1),Mn(e.j,e.m,null,"[Incomplete Response]");break}if(r==ar){e.o=4,zn(15),Mn(e.j,e.m,n,"[Invalid Chunk]"),i=!1;break}Mn(e.j,e.m,r,null),mr(e,r)}cr(e)&&r!=or&&r!=ar&&(e.h.g="",e.C=0),4!=t||0!=n.length||e.h.h||(e.o=1,zn(16),i=!1),e.i=e.i&&i,i?0<n.length&&!e.aa&&(e.aa=!0,(t=e.l).g==e&&t.$&&!t.L&&(t.h.info("Great, no buffering proxy detected. Bytes received: "+n.length),Fi(t),t.L=!0,zn(11))):(Mn(e.j,e.m,n,"[Invalid Chunked Response]"),yr(e),vr(e))}function fr(e,t){var n=e.C,r=t.indexOf("\n",n);return-1==r?or:(n=Number(t.substring(n,r)),isNaN(n)?ar:(r+=1)+n>t.length?or:(t=t.substr(r,n),e.C=r+n,t))}function hr(e){e.Y=Date.now()+e.P,dr(e,e.P)}function dr(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=Gn(at(e.eb,e),t)}function pr(e){e.B&&(Je.clearTimeout(e.B),e.B=null)}function vr(e){0==e.l.G||e.I||Ui(e.l,e)}function yr(e){pr(e);var t=e.L;t&&"function"==typeof t.na&&t.na(),e.L=null,Cn(e.W),Ln(e.V),e.g&&(t=e.g,e.g=null,t.abort(),t.na())}function mr(e,t){try{var n=e.l;if(0!=n.G&&(n.g==e||Jr(n.i,e)))if(n.I=e.N,!e.J&&Jr(n.i,e)&&3==n.G){try{var r=n.Ca.g.parse(t)}catch(a){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.F+3e3<e.F))break e;Bi(n),_i(n)}Mi(n),zn(18)}}else n.ta=i[1],0<n.ta-n.U&&37500>i[2]&&n.N&&0==n.A&&!n.v&&(n.v=Gn(at(n.ab,n),6e3));if(1>=Xr(n.i)&&n.ka){try{n.ka()}catch(a){}n.ka=void 0}}else qi(n,11)}else if((e.J||n.g==e)&&Bi(n),!pt(t))for(i=n.Ca.g.parse(t),t=0;t<i.length;t++){var a=i[t];if(n.U=a[0],a=a[1],2==n.G)if("c"==a[0]){n.J=a[1],n.la=a[2];var o=a[3];null!=o&&(n.ma=o,n.h.info("VER="+n.ma));var u=a[4];null!=u&&(n.za=u,n.h.info("SVER="+n.za));var s=a[5];null!=s&&"number"===typeof s&&0<s&&(r=1.5*s,n.K=r,n.h.info("backChannelRequestTimeoutMs_="+r)),r=n;var c=e.g;if(c){var l=c.g?c.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(l){var f=r.i;!f.g&&(mt(l,"spdy")||mt(l,"quic")||mt(l,"h2"))&&(f.j=f.l,f.g=new Set,f.h&&($r(f,f.h),f.h=null))}if(r.D){var h=c.g?c.g.getResponseHeader("X-HTTP-Session-Id"):null;h&&(r.sa=h,Ar(r.F,r.D,h))}}n.G=3,n.j&&n.j.xa(),n.$&&(n.O=Date.now()-e.F,n.h.info("Handshake RTT: "+n.O+"ms"));var d=e;if((r=n).oa=Ki(r,r.H?r.la:null,r.W),d.J){Zr(r.i,d);var p=d,v=r.K;v&&p.setTimeout(v),p.B&&(pr(p),hr(p)),r.g=d}else Ri(r);0<n.l.length&&Oi(n)}else"stop"!=a[0]&&"close"!=a[0]||qi(n,7);else 3==n.G&&("stop"==a[0]||"close"==a[0]?"stop"==a[0]?qi(n,7):Ci(n):"noop"!=a[0]&&n.j&&n.j.wa(a),n.A=0)}Vn(4)}catch(a){}}function gr(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(Ze(e)||"string"===typeof e)ft(e,t,void 0);else{if(e.T&&"function"==typeof e.T)var n=e.T();else if(e.R&&"function"==typeof e.R)n=void 0;else if(Ze(e)||"string"===typeof e){n=[];for(var r=e.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,e)n[r++]=i;r=function(e){if(e.R&&"function"==typeof e.R)return e.R();if("string"===typeof e)return e.split("");if(Ze(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e),i=r.length;for(var a=0;a<i;a++)t.call(void 0,r[a],n&&n[a],e)}}function kr(e,t){this.h={},this.g=[],this.i=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(e)if(e instanceof kr)for(n=e.T(),r=0;r<n.length;r++)this.set(n[r],e.get(n[r]));else for(r in e)this.set(r,e[r])}function wr(e){if(e.i!=e.g.length){for(var t=0,n=0;t<e.g.length;){var r=e.g[t];br(e.h,r)&&(e.g[n++]=r),t++}e.g.length=n}if(e.i!=e.g.length){var i={};for(n=t=0;t<e.g.length;)br(i,r=e.g[t])||(e.g[n++]=r,i[r]=1),t++;e.g.length=n}}function br(e,t){return Object.prototype.hasOwnProperty.call(e,t)}(He=nr.prototype).setTimeout=function(e){this.P=e},He.gb=function(e){e=e.target;var t=this.L;t&&3==xi(e)?t.l():this.Ia(e)},He.Ia=function(e){try{if(e==this.g)e:{var t=xi(this.g),n=this.g.Da(),r=this.g.ba();if(!(3>t)&&(3!=t||Nt||this.g&&(this.h.h||this.g.ga()||Ei(this.g)))){this.I||4!=t||7==n||Vn(8==n||0>=r?3:2),pr(this);var i=this.g.ba();this.N=i;t:if(cr(this)){var a=Ei(this.g);e="";var o=a.length,u=4==xi(this.g);if(!this.h.i){if("undefined"===typeof TextDecoder){yr(this),vr(this);var s="";break t}this.h.i=new Je.TextDecoder}for(n=0;n<o;n++)this.h.h=!0,e+=this.h.i.decode(a[n],{stream:u&&n==o-1});a.splice(0,o),this.h.g+=e,this.C=0,s=this.h.g}else s=this.g.ga();if(this.i=200==i,function(e,t,n,r,i,a,o){e.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+a+" "+o}))}(this.j,this.u,this.A,this.m,this.X,t,i),this.i){if(this.$&&!this.J){t:{if(this.g){var c,l=this.g;if((c=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!pt(c)){var f=c;break t}}f=null}if(!(i=f)){this.i=!1,this.o=3,zn(12),yr(this),vr(this);break e}Mn(this.j,this.m,i,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,mr(this,i)}this.U?(lr(this,t,s),Nt&&this.i&&3==t&&(Pn(this.V,this.W,"tick",this.fb),this.W.start())):(Mn(this.j,this.m,s,null),mr(this,s)),4==t&&yr(this),this.i&&!this.I&&(4==t?Ui(this.l,this):(this.i=!1,hr(this)))}else 400==i&&0<s.indexOf("Unknown SID")?(this.o=3,zn(12)):(this.o=0,zn(13)),yr(this),vr(this)}}}catch(t){}},He.fb=function(){if(this.g){var e=xi(this.g),t=this.g.ga();this.C<t.length&&(pr(this),lr(this,e,t),this.i&&4!=e&&hr(this))}},He.cancel=function(){this.I=!0,yr(this)},He.eb=function(){this.B=null;var e=Date.now();0<=e-this.Y?(function(e,t){e.info((function(){return"TIMEOUT: "+t}))}(this.j,this.A),2!=this.K&&(Vn(3),zn(17)),yr(this),this.o=2,vr(this)):dr(this,this.Y-e)},(He=kr.prototype).R=function(){wr(this);for(var e=[],t=0;t<this.g.length;t++)e.push(this.h[this.g[t]]);return e},He.T=function(){return wr(this),this.g.concat()},He.get=function(e,t){return br(this.h,e)?this.h[e]:t},He.set=function(e,t){br(this.h,e)||(this.i++,this.g.push(e)),this.h[e]=t},He.forEach=function(e,t){for(var n=this.T(),r=0;r<n.length;r++){var i=n[r],a=this.get(i);e.call(t,a,i,this)}};var xr=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Er(e,t){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,e instanceof Er){this.g=void 0!==t?t:e.g,Ir(this,e.j),this.s=e.s,Tr(this,e.i),Cr(this,e.m),this.l=e.l,t=e.h;var n=new Br;n.i=t.i,t.g&&(n.g=new kr(t.g),n.h=t.h),_r(this,n),this.o=e.o}else e&&(n=String(e).match(xr))?(this.g=!!t,Ir(this,n[1]||"",!0),this.s=Or(n[2]||""),Tr(this,n[3]||"",!0),Cr(this,n[4]),this.l=Or(n[5]||"",!0),_r(this,n[6]||"",!0),this.o=Or(n[7]||"")):(this.g=!!t,this.h=new Br(null,this.g))}function Sr(e){return new Er(e)}function Ir(e,t,n){e.j=n?Or(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function Tr(e,t,n){e.i=n?Or(t,!0):t}function Cr(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function _r(e,t,n){t instanceof Br?(e.h=t,function(e,t){t&&!e.j&&(Ur(e),e.i=null,e.g.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(Vr(this,t),zr(this,n,e))}),e)),e.j=t}(e.h,e.g)):(n||(t=Dr(t,Fr)),e.h=new Br(t,e.g))}function Ar(e,t,n){e.h.set(t,n)}function Nr(e){return Ar(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function Or(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function Dr(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,Pr),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function Pr(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}Er.prototype.toString=function(){var e=[],t=this.j;t&&e.push(Dr(t,Lr,!0),":");var n=this.i;return(n||"file"==t)&&(e.push("//"),(t=this.s)&&e.push(Dr(t,Lr,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&e.push(":",String(n))),(n=this.l)&&(this.i&&"/"!=n.charAt(0)&&e.push("/"),e.push(Dr(n,"/"==n.charAt(0)?Mr:Rr,!0))),(n=this.h.toString())&&e.push("?",n),(n=this.o)&&e.push("#",Dr(n,jr)),e.join("")};var Lr=/[#\/\?@]/g,Rr=/[#\?:]/g,Mr=/[#\?]/g,Fr=/[#\?@]/g,jr=/#/g;function Br(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function Ur(e){e.g||(e.g=new kr,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var a=e[n].substring(0,r);i=e[n].substring(r+1)}else a=e[n];t(a,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.i,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function Vr(e,t){Ur(e),t=Kr(e,t),br(e.g.h,t)&&(e.i=null,e.h-=e.g.get(t).length,br((e=e.g).h,t)&&(delete e.h[t],e.i--,e.g.length>2*e.i&&wr(e)))}function qr(e,t){return Ur(e),t=Kr(e,t),br(e.g.h,t)}function zr(e,t,n){Vr(e,t),0<n.length&&(e.i=null,e.g.set(Kr(e,t),dt(n)),e.h+=n.length)}function Kr(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}(He=Br.prototype).add=function(e,t){Ur(this),this.i=null,e=Kr(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},He.forEach=function(e,t){Ur(this),this.g.forEach((function(n,r){ft(n,(function(n){e.call(t,n,r,this)}),this)}),this)},He.T=function(){Ur(this);for(var e=this.g.R(),t=this.g.T(),n=[],r=0;r<t.length;r++)for(var i=e[r],a=0;a<i.length;a++)n.push(t[r]);return n},He.R=function(e){Ur(this);var t=[];if("string"===typeof e)qr(this,e)&&(t=ht(t,this.g.get(Kr(this,e))));else{e=this.g.R();for(var n=0;n<e.length;n++)t=ht(t,e[n])}return t},He.set=function(e,t){return Ur(this),this.i=null,qr(this,e=Kr(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},He.get=function(e,t){return e&&0<(e=this.R(e)).length?String(e[0]):t},He.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var e=[],t=this.g.T(),n=0;n<t.length;n++){var r=t[n],i=encodeURIComponent(String(r));r=this.R(r);for(var a=0;a<r.length;a++){var o=i;""!==r[a]&&(o+="="+encodeURIComponent(String(r[a]))),e.push(o)}}return this.i=e.join("&")};var Gr=p((function e(t,n){h(this,e),this.h=t,this.g=n}));function Qr(e){this.l=e||Wr,Je.PerformanceNavigationTiming?e=0<(e=Je.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(Je.g&&Je.g.Ea&&Je.g.Ea()&&Je.g.Ea().Zb),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var Hr,Wr=10;function Yr(e){return!!e.h||!!e.g&&e.g.size>=e.j}function Xr(e){return e.h?1:e.g?e.g.size:0}function Jr(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function $r(e,t){e.g?e.g.add(t):e.h=t}function Zr(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function ei(e){if(null!=e.h)return e.i.concat(e.h.D);if(null!=e.g&&0!==e.g.size){var t,n=e.i,r=v(e.g.values());try{for(r.s();!(t=r.n()).done;){var i=t.value;n=n.concat(i.D)}}catch(a){r.e(a)}finally{r.f()}return n}return dt(e.i)}function ti(){}function ni(){this.g=new ti}function ri(e,t,n){var r=n||"";try{gr(e,(function(e,n){var i=e;et(e)&&(i=vn(e)),t.push(r+n+"="+encodeURIComponent(i))}))}catch(i){throw t.push(r+"type="+encodeURIComponent("_badmap")),i}}function ii(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch(a){}}function ai(e){this.l=e.$b||null,this.j=e.ib||!1}function oi(e,t){hn.call(this),this.D=e,this.u=t,this.m=void 0,this.readyState=ui,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Qr.prototype.cancel=function(){if(this.i=ei(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){var e,t=v(this.g.values());try{for(t.s();!(e=t.n()).done;){e.value.cancel()}}catch(n){t.e(n)}finally{t.f()}this.g.clear()}},ti.prototype.stringify=function(e){return Je.JSON.stringify(e,void 0)},ti.prototype.parse=function(e){return Je.JSON.parse(e,void 0)},ut(ai,Wn),ai.prototype.g=function(){return new oi(this.l,this.j)},ai.prototype.i=(Hr={},function(){return Hr}),ut(oi,hn);var ui=0;function si(e){e.j.read().then(e.Sa.bind(e)).catch(e.ha.bind(e))}function ci(e){e.readyState=4,e.l=null,e.j=null,e.A=null,li(e)}function li(e){e.onreadystatechange&&e.onreadystatechange.call(e)}(He=oi.prototype).open=function(e,t){if(this.readyState!=ui)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,li(this)},He.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;var t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.D||Je).fetch(new Request(this.B,t)).then(this.Va.bind(this),this.ha.bind(this))},He.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,ci(this)),this.readyState=ui},He.Va=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,li(this)),this.g&&(this.readyState=3,li(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if("undefined"!==typeof Je.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;si(this)}else e.text().then(this.Ua.bind(this),this.ha.bind(this))},He.Sa=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?ci(this):li(this),3==this.readyState&&si(this)}},He.Ua=function(e){this.g&&(this.response=this.responseText=e,ci(this))},He.Ta=function(e){this.g&&(this.response=e,ci(this))},He.ha=function(){this.g&&ci(this)},He.setRequestHeader=function(e,t){this.v.append(e,t)},He.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},He.getAllResponseHeaders=function(){if(!this.h)return"";for(var e=[],t=this.h.entries(),n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(oi.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}});var fi=Je.JSON.parse;function hi(e){hn.call(this),this.headers=new kr,this.u=e||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=di,this.K=this.L=!1}ut(hi,hn);var di="",pi=/^https?$/i,vi=["POST","PUT"];function yi(e){return"content-type"==e.toLowerCase()}function mi(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,gi(e),wi(e)}function gi(e){e.D||(e.D=!0,dn(e,"complete"),dn(e,"error"))}function ki(e){if(e.h&&"undefined"!=typeof Xe&&(!e.C[1]||4!=xi(e)||2!=e.ba()))if(e.v&&4==xi(e))_n(e.Fa,0,e);else if(dn(e,"readystatechange"),4==xi(e)){e.h=!1;try{var t,n=e.ba();e:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break e;default:r=!1}if(!(t=r)){var i;if(i=0===n){var a=String(e.H).match(xr)[1]||null;if(!a&&Je.self&&Je.self.location){var o=Je.self.location.protocol;a=o.substr(0,o.length-1)}i=!pi.test(a?a.toLowerCase():"")}t=i}if(t)dn(e,"complete"),dn(e,"success");else{e.m=6;try{var u=2<xi(e)?e.g.statusText:""}catch(s){u=""}e.j=u+" ["+e.ba()+"]",gi(e)}}finally{wi(e)}}}function wi(e,t){if(e.g){bi(e);var n=e.g,r=e.C[0]?$e:null;e.g=null,e.C=null,t||dn(e,"ready");try{n.onreadystatechange=r}catch(i){}}}function bi(e){e.g&&e.K&&(e.g.ontimeout=null),e.A&&(Je.clearTimeout(e.A),e.A=null)}function xi(e){return e.g?e.g.readyState:0}function Ei(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.J){case di:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(t){return null}}function Si(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=function(e){var t="";return bt(e,(function(e,n){t+=n,t+=":",t+=e,t+="\r\n"})),t}(n),"string"===typeof e?null!=n&&encodeURIComponent(String(n)):Ar(e,t,n))}function Ii(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function Ti(e){this.za=0,this.l=[],this.h=new Rn,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=Ii("failFast",!1,e),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=Ii("baseRetryDelayMs",5e3,e),this.$a=Ii("retryDelaySeedMs",1e4,e),this.Ya=Ii("forwardChannelMaxRetries",2,e),this.ra=Ii("forwardChannelRequestTimeoutMs",2e4,e),this.qa=e&&e.xmlHttpFactory||void 0,this.Ba=e&&e.Yb||!1,this.K=void 0,this.H=e&&e.supportsCrossDomainXhr||!1,this.J="",this.i=new Qr(e&&e.concurrentRequestLimit),this.Ca=new ni,this.ja=e&&e.fastHandshake||!1,this.Ra=e&&e.Wb||!1,e&&e.Aa&&this.h.Aa(),e&&e.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&e&&e.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!e||!1!==e.Xb}function Ci(e){if(Ai(e),3==e.G){var t=e.V++,n=Sr(e.F);Ar(n,"SID",e.J),Ar(n,"RID",t),Ar(n,"TYPE","terminate"),Pi(e,n),(t=new nr(e,e.h,t,void 0)).K=2,t.v=Nr(Sr(n)),n=!1,Je.navigator&&Je.navigator.sendBeacon&&(n=Je.navigator.sendBeacon(t.v.toString(),"")),!n&&Je.Image&&((new Image).src=t.v,n=!0),n||(t.g=Gi(t.l,null),t.g.ea(t.v)),t.F=Date.now(),hr(t)}zi(e)}function _i(e){e.g&&(Fi(e),e.g.cancel(),e.g=null)}function Ai(e){_i(e),e.u&&(Je.clearTimeout(e.u),e.u=null),Bi(e),e.i.cancel(),e.m&&("number"===typeof e.m&&Je.clearTimeout(e.m),e.m=null)}function Ni(e,t){e.l.push(new Gr(e.Za++,t)),3==e.G&&Oi(e)}function Oi(e){Yr(e.i)||e.m||(e.m=!0,xn(e.Ha,e),e.C=0)}function Di(e,t){var n;n=t?t.m:e.V++;var r=Sr(e.F);Ar(r,"SID",e.J),Ar(r,"RID",n),Ar(r,"AID",e.U),Pi(e,r),e.o&&e.s&&Si(r,e.o,e.s),n=new nr(e,e.h,n,e.C+1),null===e.o&&(n.H=e.s),t&&(e.l=t.D.concat(e.l)),t=Li(e,n,1e3),n.setTimeout(Math.round(.5*e.ra)+Math.round(.5*e.ra*Math.random())),$r(e.i,n),ur(n,r,t)}function Pi(e,t){e.j&&gr({},(function(e,n){Ar(t,n,e)}))}function Li(e,t,n){n=Math.min(e.l.length,n);var r=e.j?at(e.j.Oa,e.j,e):null;e:for(var i=e.l,a=-1;;){var o=["count="+n];-1==a?0<n?(a=i[0].h,o.push("ofs="+a)):a=0:o.push("ofs="+a);for(var u=!0,s=0;s<n;s++){var c=i[s].h,l=i[s].g;if(0>(c-=a))a=Math.max(0,i[s].h-100),u=!1;else try{ri(l,o,"req"+c+"_")}catch(ka){r&&r(l)}}if(u){r=o.join("&");break e}}return e=e.l.splice(0,n),t.D=e,r}function Ri(e){e.g||e.u||(e.Y=1,xn(e.Ga,e),e.A=0)}function Mi(e){return!(e.g||e.u||3<=e.A)&&(e.Y++,e.u=Gn(at(e.Ga,e),Vi(e,e.A)),e.A++,!0)}function Fi(e){null!=e.B&&(Je.clearTimeout(e.B),e.B=null)}function ji(e){e.g=new nr(e,e.h,"rpc",e.Y),null===e.o&&(e.g.H=e.s),e.g.O=0;var t=Sr(e.oa);Ar(t,"RID","rpc"),Ar(t,"SID",e.J),Ar(t,"CI",e.N?"0":"1"),Ar(t,"AID",e.U),Pi(e,t),Ar(t,"TYPE","xmlhttp"),e.o&&e.s&&Si(t,e.o,e.s),e.K&&e.g.setTimeout(e.K);var n=e.g;e=e.la,n.K=1,n.v=Nr(Sr(t)),n.s=null,n.U=!0,sr(n,e)}function Bi(e){null!=e.v&&(Je.clearTimeout(e.v),e.v=null)}function Ui(e,t){var n=null;if(e.g==t){Bi(e),Fi(e),e.g=null;var r=2}else{if(!Jr(e.i,t))return;n=t.D,Zr(e.i,t),r=1}if(e.I=t.N,0!=e.G)if(t.i)if(1==r){n=t.s?t.s.length:0,t=Date.now()-t.F;var i=e.C;dn(r=Bn(),new Kn(r,n,t,i)),Oi(e)}else Ri(e);else if(3==(i=t.o)||0==i&&0<e.I||!(1==r&&function(e,t){return!(Xr(e.i)>=e.i.j-(e.m?1:0))&&(e.m?(e.l=t.D.concat(e.l),!0):!(1==e.G||2==e.G||e.C>=(e.Xa?0:e.Ya))&&(e.m=Gn(at(e.Ha,e,t),Vi(e,e.C)),e.C++,!0))}(e,t)||2==r&&Mi(e)))switch(n&&0<n.length&&(t=e.i,t.i=t.i.concat(n)),i){case 1:qi(e,5);break;case 4:qi(e,10);break;case 3:qi(e,6);break;default:qi(e,2)}}function Vi(e,t){var n=e.Pa+Math.floor(Math.random()*e.$a);return e.j||(n*=2),n*t}function qi(e,t){if(e.h.info("Error code "+t),2==t){var n=null;e.j&&(n=null);var r=at(e.jb,e);n||(n=new Er("//www.google.com/images/cleardot.gif"),Je.location&&"http"==Je.location.protocol||Ir(n,"https"),Nr(n)),function(e,t){var n=new Rn;if(Je.Image){var r=new Image;r.onload=ot(ii,n,r,"TestLoadImage: loaded",!0,t),r.onerror=ot(ii,n,r,"TestLoadImage: error",!1,t),r.onabort=ot(ii,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=ot(ii,n,r,"TestLoadImage: timeout",!1,t),Je.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=e}else t(!1)}(n.toString(),r)}else zn(2);e.G=0,e.j&&e.j.va(t),zi(e),Ai(e)}function zi(e){e.G=0,e.I=-1,e.j&&(0==ei(e.i).length&&0==e.l.length||(e.i.i.length=0,dt(e.l),e.l.length=0),e.j.ua())}function Ki(e,t,n){var r=function(e){return e instanceof Er?Sr(e):new Er(e,void 0)}(n);if(""!=r.i)t&&Tr(r,t+"."+r.i),Cr(r,r.m);else{var i=Je.location;r=function(e,t,n,r){var i=new Er(null,void 0);return e&&Ir(i,e),t&&Tr(i,t),n&&Cr(i,n),r&&(i.l=r),i}(i.protocol,t?t+"."+i.hostname:i.hostname,+i.port,n)}return e.aa&&bt(e.aa,(function(e,t){Ar(r,t,e)})),t=e.D,n=e.sa,t&&n&&Ar(r,t,n),Ar(r,"VER",e.ma),Pi(e,r),r}function Gi(e,t,n){if(t&&!e.H)throw Error("Can't create secondary domain capable XhrIo object.");return(t=n&&e.Ba&&!e.qa?new hi(new ai({ib:!0})):new hi(e.qa)).L=e.H,t}function Qi(){}function Hi(){if(_t&&!(10<=Number(Vt)))throw Error("Environmental error: no available transport.")}function Wi(e,t){hn.call(this),this.g=new Ti(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.ya&&(e?e["X-WebChannel-Client-Profile"]=t.ya:e={"X-WebChannel-Client-Profile":t.ya}),this.g.P=e,(e=t&&t.httpHeadersOverwriteParam)&&!pt(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!pt(t)&&(this.g.D=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new Ji(this)}function Yi(e){Zn.call(this);var t=e.__sm__;if(t){e:{for(var n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function Xi(){er.call(this),this.status=1}function Ji(e){this.g=e}(He=hi.prototype).ea=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+e);t=t?t.toUpperCase():"GET",this.H=e,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():Jn.g(),this.C=this.u?Yn(this.u):Yn(Jn),this.g.onreadystatechange=at(this.Fa,this);try{this.F=!0,this.g.open(t,String(e),!0),this.F=!1}catch(a){return void mi(this,a)}e=n||"";var i=new kr(this.headers);r&&gr(r,(function(e,t){i.set(t,e)})),r=function(e){e:{for(var t=yi,n=e.length,r="string"===typeof e?e.split(""):e,i=0;i<n;i++)if(i in r&&t.call(void 0,r[i],i,e)){t=i;break e}t=-1}return 0>t?null:"string"===typeof e?e.charAt(t):e[t]}(i.T()),n=Je.FormData&&e instanceof Je.FormData,!(0<=lt(vi,t))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach((function(e,t){this.g.setRequestHeader(t,e)}),this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{bi(this),0<this.B&&((this.K=function(e){return _t&&Bt()&&"number"===typeof e.timeout&&void 0!==e.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=at(this.pa,this)):this.A=_n(this.pa,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(a){mi(this,a)}},He.pa=function(){"undefined"!=typeof Xe&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,dn(this,"timeout"),this.abort(8))},He.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,dn(this,"complete"),dn(this,"abort"),wi(this))},He.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),wi(this,!0)),hi.Z.M.call(this)},He.Fa=function(){this.s||(this.F||this.v||this.l?ki(this):this.cb())},He.cb=function(){ki(this)},He.ba=function(){try{return 2<xi(this)?this.g.status:-1}catch(Hr){return-1}},He.ga=function(){try{return this.g?this.g.responseText:""}catch(Hr){return""}},He.Qa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),fi(t)}},He.Da=function(){return this.m},He.La=function(){return"string"===typeof this.j?this.j:String(this.j)},(He=Ti.prototype).ma=8,He.G=1,He.hb=function(e){try{this.h.info("Origin Trials invoked: "+e)}catch(t){}},He.Ha=function(e){if(this.m)if(this.m=null,1==this.G){if(!e){this.V=Math.floor(1e5*Math.random()),e=this.V++;var t=new nr(this,this.h,e,void 0),n=this.s;if(this.P&&(n?St(n=xt(n),this.P):n=this.P),null===this.o&&(t.H=n),this.ja)e:{for(var r=0,i=0;i<this.l.length;i++){var a=this.l[i];if(void 0===(a="__data__"in a.g&&"string"===typeof(a=a.g.__data__)?a.length:void 0))break;if(4096<(r+=a)){r=i;break e}if(4096===r||i===this.l.length-1){r=i+1;break e}}r=1e3}else r=1e3;r=Li(this,t,r),Ar(i=Sr(this.F),"RID",e),Ar(i,"CVER",22),this.D&&Ar(i,"X-HTTP-Session-Id",this.D),Pi(this,i),this.o&&n&&Si(i,this.o,n),$r(this.i,t),this.Ra&&Ar(i,"TYPE","init"),this.ja?(Ar(i,"$req",r),Ar(i,"SID","null"),t.$=!0,ur(t,i,null)):ur(t,i,r),this.G=2}}else 3==this.G&&(e?Di(this,e):0==this.l.length||Yr(this.i)||Di(this))},He.Ga=function(){if(this.u=null,ji(this),this.$&&!(this.L||null==this.g||0>=this.O)){var e=2*this.O;this.h.info("BP detection timer enabled: "+e),this.B=Gn(at(this.bb,this),e)}},He.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,zn(10),_i(this),ji(this))},He.ab=function(){null!=this.v&&(this.v=null,_i(this),Mi(this),zn(19))},He.jb=function(e){e?(this.h.info("Successfully pinged google.com"),zn(2)):(this.h.info("Failed to ping google.com"),zn(1))},(He=Qi.prototype).xa=function(){},He.wa=function(){},He.va=function(){},He.ua=function(){},He.Oa=function(){},Hi.prototype.g=function(e,t){return new Wi(e,t)},ut(Wi,hn),Wi.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var e=this.g,t=this.l,n=this.h||void 0;e.Wa&&(e.h.info("Origin Trials enabled."),xn(at(e.hb,e,t))),zn(0),e.W=t,e.aa=n||{},e.N=e.X,e.F=Ki(e,null,e.W),Oi(e)},Wi.prototype.close=function(){Ci(this.g)},Wi.prototype.u=function(e){if("string"===typeof e){var t={};t.__data__=e,Ni(this.g,t)}else this.v?((t={}).__data__=vn(e),Ni(this.g,t)):Ni(this.g,e)},Wi.prototype.M=function(){this.g.j=null,delete this.j,Ci(this.g),delete this.g,Wi.Z.M.call(this)},ut(Yi,Zn),ut(Xi,er),ut(Ji,Qi),Ji.prototype.xa=function(){dn(this.g,"a")},Ji.prototype.wa=function(e){dn(this.g,new Yi(e))},Ji.prototype.va=function(e){dn(this.g,new Xi(e))},Ji.prototype.ua=function(){dn(this.g,"b")},Hi.prototype.createWebChannel=Hi.prototype.g,Wi.prototype.send=Wi.prototype.u,Wi.prototype.open=Wi.prototype.m,Wi.prototype.close=Wi.prototype.close,Qn.NO_ERROR=0,Qn.TIMEOUT=8,Qn.HTTP_ERROR=6,Hn.COMPLETE="complete",Xn.EventType=$n,$n.OPEN="a",$n.CLOSE="b",$n.ERROR="c",$n.MESSAGE="d",hn.prototype.listen=hn.prototype.N,hi.prototype.listenOnce=hi.prototype.O,hi.prototype.getLastError=hi.prototype.La,hi.prototype.getLastErrorCode=hi.prototype.Da,hi.prototype.getStatus=hi.prototype.ba,hi.prototype.getResponseJson=hi.prototype.Qa,hi.prototype.getResponseText=hi.prototype.ga,hi.prototype.send=hi.prototype.ea;var $i=Ye.createWebChannelTransport=function(){return new Hi},Zi=Ye.getStatEventTarget=function(){return Bn()},ea=Ye.ErrorCode=Qn,ta=Ye.EventType=Hn,na=Ye.Event=Fn,ra=Ye.Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},ia=Ye.FetchXmlHttpFactory=ai,aa=Ye.WebChannel=Xn,oa=Ye.XhrIo=hi,ua="@firebase/firestore",sa=function(){function e(t){h(this,e),this.uid=t}return p(e,[{key:"isAuthenticated",value:function(){return null!=this.uid}},{key:"toKey",value:function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}},{key:"isEqual",value:function(e){return e.uid===this.uid}}]),e}();sa.UNAUTHENTICATED=new sa(null),sa.GOOGLE_CREDENTIALS=new sa("google-credentials-uid"),sa.FIRST_PARTY=new sa("first-party-uid"),sa.MOCK_USER=new sa("mock-user");var ca="9.6.7",la=new ce("@firebase/firestore");function fa(){return la.logLevel}function ha(e){if(la.logLevel<=ee.DEBUG){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(va);la.debug.apply(la,["Firestore (".concat(ca,"): ").concat(e)].concat(G(i)))}}function da(e){if(la.logLevel<=ee.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(va);la.error.apply(la,["Firestore (".concat(ca,"): ").concat(e)].concat(G(i)))}}function pa(e){if(la.logLevel<=ee.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(va);la.warn.apply(la,["Firestore (".concat(ca,"): ").concat(e)].concat(G(i)))}}function va(e){if("string"==typeof e)return e;try{return t=e,JSON.stringify(t)}catch(t){return e}var t}function ya(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Unexpected state",t="FIRESTORE (".concat(ca,") INTERNAL ASSERTION FAILED: ")+e;throw da(t),new Error(t)}function ma(e,t){e||ya()}function ga(e,t){return e}var ka={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},wa=function(e){g(n,e);var t=E(n);function n(e,r){var i;return h(this,n),(i=t.call(this,e,r)).code=e,i.message=r,i.toString=function(){return"".concat(i.name,": [code=").concat(i.code,"]: ").concat(i.message)},i}return p(n)}(L),ba=p((function e(){var t=this;h(this,e),this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))})),xa=p((function e(t,n){h(this,e),this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization","Bearer ".concat(t))})),Ea=function(){function e(){h(this,e)}return p(e,[{key:"getToken",value:function(){return Promise.resolve(null)}},{key:"invalidateToken",value:function(){}},{key:"start",value:function(e,t){e.enqueueRetryable((function(){return t(sa.UNAUTHENTICATED)}))}},{key:"shutdown",value:function(){}}]),e}(),Sa=function(){function e(t){h(this,e),this.token=t,this.changeListener=null}return p(e,[{key:"getToken",value:function(){return Promise.resolve(this.token)}},{key:"invalidateToken",value:function(){}},{key:"start",value:function(e,t){var n=this;this.changeListener=t,e.enqueueRetryable((function(){return t(n.token.user)}))}},{key:"shutdown",value:function(){this.changeListener=null}}]),e}(),Ia=function(){function e(t){h(this,e),this.t=t,this.currentUser=sa.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}return p(e,[{key:"start",value:function(e,t){var n=this,r=this.i,i=function(e){return n.i!==r?(r=n.i,t(e)):Promise.resolve()},a=new ba;this.o=function(){n.i++,n.currentUser=n.u(),a.resolve(),a=new ba,e.enqueueRetryable((function(){return i(n.currentUser)}))};var o=function(){var t=a;e.enqueueRetryable(H(Y().mark((function e(){return Y().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.promise;case 2:return e.next=4,i(n.currentUser);case 4:case"end":return e.stop()}}),e)}))))},u=function(e){ha("FirebaseAuthCredentialsProvider","Auth detected"),n.auth=e,n.auth.addAuthTokenListener(n.o),o()};this.t.onInit((function(e){return u(e)})),setTimeout((function(){if(!n.auth){var e=n.t.getImmediate({optional:!0});e?u(e):(ha("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new ba)}}),0),o()}},{key:"getToken",value:function(){var e=this,t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((function(n){return e.i!==t?(ha("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),e.getToken()):n?(ma("string"==typeof n.accessToken),new xa(n.accessToken,e.currentUser)):null})):Promise.resolve(null)}},{key:"invalidateToken",value:function(){this.forceRefresh=!0}},{key:"shutdown",value:function(){this.auth&&this.auth.removeAuthTokenListener(this.o)}},{key:"u",value:function(){var e=this.auth&&this.auth.getUid();return ma(null===e||"string"==typeof e),new sa(e)}}]),e}(),Ta=p((function e(t,n,r){h(this,e),this.type="FirstParty",this.user=sa.FIRST_PARTY,this.headers=new Map,this.headers.set("X-Goog-AuthUser",n);var i=t.auth.getAuthHeaderValueForFirstParty([]);i&&this.headers.set("Authorization",i),r&&this.headers.set("X-Goog-Iam-Authorization-Token",r)})),Ca=function(){function e(t,n,r){h(this,e),this.h=t,this.l=n,this.m=r}return p(e,[{key:"getToken",value:function(){return Promise.resolve(new Ta(this.h,this.l,this.m))}},{key:"start",value:function(e,t){e.enqueueRetryable((function(){return t(sa.FIRST_PARTY)}))}},{key:"shutdown",value:function(){}},{key:"invalidateToken",value:function(){}}]),e}(),_a=p((function e(t){h(this,e),this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)})),Aa=function(){function e(t){h(this,e),this.g=t,this.forceRefresh=!1,this.appCheck=null,this.p=null}return p(e,[{key:"start",value:function(e,t){var n=this,r=function(e){null!=e.error&&ha("FirebaseAppCheckTokenProvider","Error getting App Check token; using placeholder token instead. Error: ".concat(e.error.message));var r=e.token!==n.p;return n.p=e.token,ha("FirebaseAppCheckTokenProvider","Received ".concat(r?"new":"existing"," token.")),r?t(e.token):Promise.resolve()};this.o=function(t){e.enqueueRetryable((function(){return r(t)}))};var i=function(e){ha("FirebaseAppCheckTokenProvider","AppCheck detected"),n.appCheck=e,n.appCheck.addTokenListener(n.o)};this.g.onInit((function(e){return i(e)})),setTimeout((function(){if(!n.appCheck){var e=n.g.getImmediate({optional:!0});e?i(e):ha("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}},{key:"getToken",value:function(){var e=this,t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((function(t){return t?(ma("string"==typeof t.token),e.p=t.token,new _a(t.token)):null})):Promise.resolve(null)}},{key:"invalidateToken",value:function(){this.forceRefresh=!0}},{key:"shutdown",value:function(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}]),e}(),Na=function(){function e(t,n){var r=this;h(this,e),this.previousValue=t,n&&(n.sequenceNumberHandler=function(e){return r.I(e)},this.T=function(e){return n.writeSequenceNumber(e)})}return p(e,[{key:"I",value:function(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}},{key:"next",value:function(){var e=++this.previousValue;return this.T&&this.T(e),e}}]),e}();function Oa(e){var t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(var r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}Na.A=-1;var Da=function(){function e(){h(this,e)}return p(e,null,[{key:"R",value:function(){for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length,n="";n.length<20;)for(var r=Oa(40),i=0;i<r.length;++i)n.length<20&&r[i]<t&&(n+=e.charAt(r[i]%e.length));return n}}]),e}();function Pa(e,t){return e<t?-1:e>t?1:0}function La(e,t,n){return e.length===t.length&&e.every((function(e,r){return n(e,t[r])}))}function Ra(e){return e+"\0"}var Ma=function(){function e(t,n){if(h(this,e),this.seconds=t,this.nanoseconds=n,n<0)throw new wa(ka.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new wa(ka.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<-62135596800)throw new wa(ka.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new wa(ka.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return p(e,[{key:"toDate",value:function(){return new Date(this.toMillis())}},{key:"toMillis",value:function(){return 1e3*this.seconds+this.nanoseconds/1e6}},{key:"_compareTo",value:function(e){return this.seconds===e.seconds?Pa(this.nanoseconds,e.nanoseconds):Pa(this.seconds,e.seconds)}},{key:"isEqual",value:function(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}},{key:"toString",value:function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}},{key:"toJSON",value:function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}},{key:"valueOf",value:function(){var e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}],[{key:"now",value:function(){return e.fromMillis(Date.now())}},{key:"fromDate",value:function(t){return e.fromMillis(t.getTime())}},{key:"fromMillis",value:function(t){var n=Math.floor(t/1e3);return new e(n,Math.floor(1e6*(t-1e3*n)))}}]),e}(),Fa=function(){function e(t){h(this,e),this.timestamp=t}return p(e,[{key:"compareTo",value:function(e){return this.timestamp._compareTo(e.timestamp)}},{key:"isEqual",value:function(e){return this.timestamp.isEqual(e.timestamp)}},{key:"toMicroseconds",value:function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}},{key:"toString",value:function(){return"SnapshotVersion("+this.timestamp.toString()+")"}},{key:"toTimestamp",value:function(){return this.timestamp}}],[{key:"fromTimestamp",value:function(t){return new e(t)}},{key:"min",value:function(){return new e(new Ma(0,0))}}]),e}();function ja(e){var t=0;for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function Ba(e,t){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function Ua(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}var Va=function(){function e(t,n,r){h(this,e),void 0===n?n=0:n>t.length&&ya(),void 0===r?r=t.length-n:r>t.length-n&&ya(),this.segments=t,this.offset=n,this.len=r}return p(e,[{key:"length",get:function(){return this.len}},{key:"isEqual",value:function(t){return 0===e.comparator(this,t)}},{key:"child",value:function(t){var n=this.segments.slice(this.offset,this.limit());return t instanceof e?t.forEach((function(e){n.push(e)})):n.push(t),this.construct(n)}},{key:"limit",value:function(){return this.offset+this.length}},{key:"popFirst",value:function(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}},{key:"popLast",value:function(){return this.construct(this.segments,this.offset,this.length-1)}},{key:"firstSegment",value:function(){return this.segments[this.offset]}},{key:"lastSegment",value:function(){return this.get(this.length-1)}},{key:"get",value:function(e){return this.segments[this.offset+e]}},{key:"isEmpty",value:function(){return 0===this.length}},{key:"isPrefixOf",value:function(e){if(e.length<this.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}},{key:"isImmediateParentOf",value:function(e){if(this.length+1!==e.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}},{key:"forEach",value:function(e){for(var t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}},{key:"toArray",value:function(){return this.segments.slice(this.offset,this.limit())}}],[{key:"comparator",value:function(e,t){for(var n=Math.min(e.length,t.length),r=0;r<n;r++){var i=e.get(r),a=t.get(r);if(i<a)return-1;if(i>a)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}]),e}(),qa=function(e){g(n,e);var t=E(n);function n(){return h(this,n),t.apply(this,arguments)}return p(n,[{key:"construct",value:function(e,t,r){return new n(e,t,r)}},{key:"canonicalString",value:function(){return this.toArray().join("/")}},{key:"toString",value:function(){return this.canonicalString()}}],[{key:"fromString",value:function(){for(var e=[],t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];for(var a=0,o=r;a<o.length;a++){var u=o[a];if(u.indexOf("//")>=0)throw new wa(ka.INVALID_ARGUMENT,"Invalid segment (".concat(u,"). Paths must not contain // in them."));e.push.apply(e,G(u.split("/").filter((function(e){return e.length>0}))))}return new n(e)}},{key:"emptyPath",value:function(){return new n([])}}]),n}(Va),za=/^[_a-zA-Z][_a-zA-Z0-9]*$/,Ka=function(e){g(n,e);var t=E(n);function n(){return h(this,n),t.apply(this,arguments)}return p(n,[{key:"construct",value:function(e,t,r){return new n(e,t,r)}},{key:"canonicalString",value:function(){return this.toArray().map((function(e){return e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),n.isValidIdentifier(e)||(e="`"+e+"`"),e})).join(".")}},{key:"toString",value:function(){return this.canonicalString()}},{key:"isKeyField",value:function(){return 1===this.length&&"__name__"===this.get(0)}}],[{key:"isValidIdentifier",value:function(e){return za.test(e)}},{key:"keyField",value:function(){return new n(["__name__"])}},{key:"fromServerFormat",value:function(e){for(var t=[],r="",i=0,a=function(){if(0===r.length)throw new wa(ka.INVALID_ARGUMENT,"Invalid field path (".concat(e,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"));t.push(r),r=""},o=!1;i<e.length;){var u=e[i];if("\\"===u){if(i+1===e.length)throw new wa(ka.INVALID_ARGUMENT,"Path has trailing escape character: "+e);var s=e[i+1];if("\\"!==s&&"."!==s&&"`"!==s)throw new wa(ka.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=s,i+=2}else"`"===u?(o=!o,i++):"."!==u||o?(r+=u,i++):(a(),i++)}if(a(),o)throw new wa(ka.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new n(t)}},{key:"emptyPath",value:function(){return new n([])}}]),n}(Va),Ga=function(){function e(t){h(this,e),this.fields=t,t.sort(Ka.comparator)}return p(e,[{key:"covers",value:function(e){var t,n=v(this.fields);try{for(n.s();!(t=n.n()).done;){if(t.value.isPrefixOf(e))return!0}}catch(r){n.e(r)}finally{n.f()}return!1}},{key:"isEqual",value:function(e){return La(this.fields,e.fields,(function(e,t){return e.isEqual(t)}))}}]),e}();var Qa=function(e){function t(e){h(this,t),this.binaryString=e}return p(t,[{key:Symbol.iterator,value:function(){var e=this,t=0;return{next:function(){return t<e.binaryString.length?{value:e.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}}},{key:"toBase64",value:function(){return e=this.binaryString,btoa(e);var e}},{key:"toUint8Array",value:function(){return function(e){for(var t=new Uint8Array(e.length),n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}},{key:"approximateByteSize",value:function(){return 2*this.binaryString.length}},{key:"compareTo",value:function(e){return Pa(this.binaryString,e.binaryString)}},{key:"isEqual",value:function(e){return this.binaryString===e.binaryString}}],[{key:"fromBase64String",value:function(e){return new t(atob(e))}},{key:"fromUint8Array",value:function(e){var n=function(e){for(var t="",n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new t(n)}}]),t}();Qa.EMPTY_BYTE_STRING=new Qa("");var Ha=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Wa(e){if(ma(!!e),"string"==typeof e){var t=0,n=Ha.exec(e);if(ma(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),t=Number(r)}var i=new Date(e);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:Ya(e.seconds),nanos:Ya(e.nanos)}}function Ya(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function Xa(e){return"string"==typeof e?Qa.fromBase64String(e):Qa.fromUint8Array(e)}function Ja(e){var t,n;return"server_timestamp"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function $a(e){var t=e.mapValue.fields.__previous_value__;return Ja(t)?$a(t):t}function Za(e){var t=Wa(e.mapValue.fields.__local_write_time__.timestampValue);return new Ma(t.seconds,t.nanos)}var eo=p((function e(t,n,r,i,a,o,u,s){h(this,e),this.databaseId=t,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=a,this.forceLongPolling=o,this.autoDetectLongPolling=u,this.useFetchStreams=s})),to=function(){function e(t,n){h(this,e),this.projectId=t,this.database=n||"(default)"}return p(e,[{key:"isDefaultDatabase",get:function(){return"(default)"===this.database}},{key:"isEqual",value:function(t){return t instanceof e&&t.projectId===this.projectId&&t.database===this.database}}],[{key:"empty",value:function(){return new e("","")}}]),e}();function no(e){return null==e}function ro(e){return 0===e&&1/e==-1/0}function io(e){return"number"==typeof e&&Number.isInteger(e)&&!ro(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}var ao=function(){function e(t){h(this,e),this.path=t}return p(e,[{key:"collectionGroup",get:function(){return this.path.popLast().lastSegment()}},{key:"hasCollectionId",value:function(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}},{key:"getCollectionGroup",value:function(){return this.path.get(this.path.length-2)}},{key:"getCollectionPath",value:function(){return this.path.popLast()}},{key:"isEqual",value:function(e){return null!==e&&0===qa.comparator(this.path,e.path)}},{key:"toString",value:function(){return this.path.toString()}}],[{key:"fromPath",value:function(t){return new e(qa.fromString(t))}},{key:"fromName",value:function(t){return new e(qa.fromString(t).popFirst(5))}},{key:"empty",value:function(){return new e(qa.emptyPath())}},{key:"comparator",value:function(e,t){return qa.comparator(e.path,t.path)}},{key:"isDocumentKey",value:function(e){return e.length%2==0}},{key:"fromSegments",value:function(t){return new e(new qa(t.slice()))}}]),e}(),oo={mapValue:{fields:{__type__:{stringValue:"__max___"}}}};function uo(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?Ja(e)?4:10:ya()}function so(e,t){if(e===t)return!0;var n=uo(e);if(n!==uo(t))return!1;switch(n){case 0:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return Za(e).isEqual(Za(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;var n=Wa(e.timestampValue),r=Wa(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return Xa(e.bytesValue).isEqual(Xa(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return Ya(e.geoPointValue.latitude)===Ya(t.geoPointValue.latitude)&&Ya(e.geoPointValue.longitude)===Ya(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return Ya(e.integerValue)===Ya(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){var n=Ya(e.doubleValue),r=Ya(t.doubleValue);return n===r?ro(n)===ro(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return La(e.arrayValue.values||[],t.arrayValue.values||[],so);case 10:return function(e,t){var n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(ja(n)!==ja(r))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!so(n[i],r[i])))return!1;return!0}(e,t);default:return ya()}}function co(e,t){return void 0!==(e.values||[]).find((function(e){return so(e,t)}))}function lo(e,t){if(e===t)return 0;var n=uo(e),r=uo(t);if(n!==r)return Pa(n,r);switch(n){case 0:return 0;case 1:return Pa(e.booleanValue,t.booleanValue);case 2:return function(e,t){var n=Ya(e.integerValue||e.doubleValue),r=Ya(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return fo(e.timestampValue,t.timestampValue);case 4:return fo(Za(e),Za(t));case 5:return Pa(e.stringValue,t.stringValue);case 6:return function(e,t){var n=Xa(e),r=Xa(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){for(var n=e.split("/"),r=t.split("/"),i=0;i<n.length&&i<r.length;i++){var a=Pa(n[i],r[i]);if(0!==a)return a}return Pa(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){var n=Pa(Ya(e.latitude),Ya(t.latitude));return 0!==n?n:Pa(Ya(e.longitude),Ya(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(e,t){for(var n=e.values||[],r=t.values||[],i=0;i<n.length&&i<r.length;++i){var a=lo(n[i],r[i]);if(a)return a}return Pa(n.length,r.length)}(e.arrayValue,t.arrayValue);case 10:return function(e,t){var n=e.fields||{},r=Object.keys(n),i=t.fields||{},a=Object.keys(i);r.sort(),a.sort();for(var o=0;o<r.length&&o<a.length;++o){var u=Pa(r[o],a[o]);if(0!==u)return u;var s=lo(n[r[o]],i[a[o]]);if(0!==s)return s}return Pa(r.length,a.length)}(e.mapValue,t.mapValue);default:throw ya()}}function fo(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return Pa(e,t);var n=Wa(e),r=Wa(t),i=Pa(n.seconds,r.seconds);return 0!==i?i:Pa(n.nanos,r.nanos)}function ho(e){return po(e)}function po(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){var t=Wa(e);return"time(".concat(t.seconds,",").concat(t.nanos,")")}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?Xa(e.bytesValue).toBase64():"referenceValue"in e?(n=e.referenceValue,ao.fromName(n).toString()):"geoPointValue"in e?"geo(".concat((t=e.geoPointValue).latitude,",").concat(t.longitude,")"):"arrayValue"in e?function(e){var t,n="[",r=!0,i=v(e.values||[]);try{for(i.s();!(t=i.n()).done;){var a=t.value;r?r=!1:n+=",",n+=po(a)}}catch(o){i.e(o)}finally{i.f()}return n+"]"}(e.arrayValue):"mapValue"in e?function(e){var t,n="{",r=!0,i=v(Object.keys(e.fields||{}).sort());try{for(i.s();!(t=i.n()).done;){var a=t.value;r?r=!1:n+=",",n+="".concat(a,":").concat(po(e.fields[a]))}}catch(o){i.e(o)}finally{i.f()}return n+"}"}(e.mapValue):ya();var t,n}function vo(e,t){return{referenceValue:"projects/".concat(e.projectId,"/databases/").concat(e.database,"/documents/").concat(t.path.canonicalString())}}function yo(e){return!!e&&"integerValue"in e}function mo(e){return!!e&&"arrayValue"in e}function go(e){return!!e&&"nullValue"in e}function ko(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function wo(e){return!!e&&"mapValue"in e}function bo(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){var t={mapValue:{fields:{}}};return Ba(e.mapValue.fields,(function(e,n){return t.mapValue.fields[e]=bo(n)})),t}if(e.arrayValue){for(var n={arrayValue:{values:[]}},r=0;r<(e.arrayValue.values||[]).length;++r)n.arrayValue.values[r]=bo(e.arrayValue.values[r]);return n}return Object.assign({},e)}var xo=function(){function e(t){h(this,e),this.value=t}return p(e,[{key:"field",value:function(e){if(e.isEmpty())return this.value;for(var t=this.value,n=0;n<e.length-1;++n)if(!wo(t=(t.mapValue.fields||{})[e.get(n)]))return null;return(t=(t.mapValue.fields||{})[e.lastSegment()])||null}},{key:"set",value:function(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=bo(t)}},{key:"setAll",value:function(e){var t=this,n=Ka.emptyPath(),r={},i=[];e.forEach((function(e,a){if(!n.isImmediateParentOf(a)){var o=t.getFieldsMap(n);t.applyChanges(o,r,i),r={},i=[],n=a.popLast()}e?r[a.lastSegment()]=bo(e):i.push(a.lastSegment())}));var a=this.getFieldsMap(n);this.applyChanges(a,r,i)}},{key:"delete",value:function(e){var t=this.field(e.popLast());wo(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}},{key:"isEqual",value:function(e){return so(this.value,e.value)}},{key:"getFieldsMap",value:function(e){var t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(var n=0;n<e.length;++n){var r=t.mapValue.fields[e.get(n)];wo(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}},{key:"applyChanges",value:function(e,t,n){Ba(t,(function(t,n){return e[t]=n}));var r,i=v(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;delete e[a]}}catch(o){i.e(o)}finally{i.f()}}},{key:"clone",value:function(){return new e(bo(this.value))}}],[{key:"empty",value:function(){return new e({mapValue:{}})}}]),e}();function Eo(e){var t=[];return Ba(e.fields,(function(e,n){var r=new Ka([e]);if(wo(n)){var i=Eo(n.mapValue).fields;if(0===i.length)t.push(r);else{var a,o=v(i);try{for(o.s();!(a=o.n()).done;){var u=a.value;t.push(r.child(u))}}catch(s){o.e(s)}finally{o.f()}}}else t.push(r)})),new Ga(t)}var So=function(){function e(t,n,r,i,a,o){h(this,e),this.key=t,this.documentType=n,this.version=r,this.readTime=i,this.data=a,this.documentState=o}return p(e,[{key:"convertToFoundDocument",value:function(e,t){return this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}},{key:"convertToNoDocument",value:function(e){return this.version=e,this.documentType=2,this.data=xo.empty(),this.documentState=0,this}},{key:"convertToUnknownDocument",value:function(e){return this.version=e,this.documentType=3,this.data=xo.empty(),this.documentState=2,this}},{key:"setHasCommittedMutations",value:function(){return this.documentState=2,this}},{key:"setHasLocalMutations",value:function(){return this.documentState=1,this}},{key:"setReadTime",value:function(e){return this.readTime=e,this}},{key:"hasLocalMutations",get:function(){return 1===this.documentState}},{key:"hasCommittedMutations",get:function(){return 2===this.documentState}},{key:"hasPendingWrites",get:function(){return this.hasLocalMutations||this.hasCommittedMutations}},{key:"isValidDocument",value:function(){return 0!==this.documentType}},{key:"isFoundDocument",value:function(){return 1===this.documentType}},{key:"isNoDocument",value:function(){return 2===this.documentType}},{key:"isUnknownDocument",value:function(){return 3===this.documentType}},{key:"isEqual",value:function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}},{key:"mutableCopy",value:function(){return new e(this.key,this.documentType,this.version,this.readTime,this.data.clone(),this.documentState)}},{key:"toString",value:function(){return"Document(".concat(this.key,", ").concat(this.version,", ").concat(JSON.stringify(this.data.value),", {documentType: ").concat(this.documentType,"}), {documentState: ").concat(this.documentState,"})")}}],[{key:"newInvalidDocument",value:function(t){return new e(t,0,Fa.min(),Fa.min(),xo.empty(),0)}},{key:"newFoundDocument",value:function(t,n,r){return new e(t,1,n,Fa.min(),r,0)}},{key:"newNoDocument",value:function(t,n){return new e(t,2,n,Fa.min(),xo.empty(),0)}},{key:"newUnknownDocument",value:function(t,n){return new e(t,3,n,Fa.min(),xo.empty(),2)}}]),e}(),Io=p((function e(t,n,r,i){h(this,e),this.indexId=t,this.collectionGroup=n,this.fields=r,this.indexState=i}));Io.UNKNOWN_ID=-1;var To=p((function e(t,n){h(this,e),this.fieldPath=t,this.kind=n})),Co=function(){function e(t,n){h(this,e),this.sequenceNumber=t,this.offset=n}return p(e,null,[{key:"empty",value:function(){return new e(0,_o.min())}}]),e}(),_o=function(){function e(t,n,r){h(this,e),this.readTime=t,this.documentKey=n,this.largestBatchId=r}return p(e,null,[{key:"min",value:function(){return new e(Fa.min(),ao.empty(),-1)}}]),e}(),Ao=p((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;h(this,e),this.path=t,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=a,this.startAt=o,this.endAt=u,this.P=null}));function No(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;return new Ao(e,t,n,r,i,a,o)}function Oo(e){var t=ga(e);if(null===t.P){var n=t.path.canonicalString();null!==t.collectionGroup&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map((function(e){return(t=e).field.canonicalString()+t.op.toString()+ho(t.value);var t})).join(","),n+="|ob:",n+=t.orderBy.map((function(e){return function(e){return e.field.canonicalString()+e.dir}(e)})).join(","),no(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map((function(e){return ho(e)})).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map((function(e){return ho(e)})).join(",")),t.P=n}return t.P}function Do(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(var n=0;n<e.orderBy.length;n++)if(!Go(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(var r=0;r<e.filters.length;r++)if(i=e.filters[r],a=t.filters[r],i.op!==a.op||!i.field.isEqual(a.field)||!so(i.value,a.value))return!1;var i,a;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!Ho(e.startAt,t.startAt)&&Ho(e.endAt,t.endAt)}function Po(e){return ao.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}var Lo=function(e){g(n,e);var t=E(n);function n(e,r,i){var a;return h(this,n),(a=t.call(this)).field=e,a.op=r,a.value=i,a}return p(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return"!="===this.op?null!==t&&this.V(lo(t,this.value)):null!==t&&uo(this.value)===uo(t)&&this.V(lo(t,this.value))}},{key:"V",value:function(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return ya()}}},{key:"S",value:function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}],[{key:"create",value:function(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.v(e,t,r):new Ro(e,t,r):"array-contains"===t?new Bo(e,r):"in"===t?new Uo(e,r):"not-in"===t?new Vo(e,r):"array-contains-any"===t?new qo(e,r):new n(e,t,r)}},{key:"v",value:function(e,t,n){return"in"===t?new Mo(e,n):new Fo(e,n)}}]),n}(function(){return p((function e(){h(this,e)}))}()),Ro=function(e){g(n,e);var t=E(n);function n(e,r,i){var a;return h(this,n),(a=t.call(this,e,r,i)).key=ao.fromName(i.referenceValue),a}return p(n,[{key:"matches",value:function(e){var t=ao.comparator(e.key,this.key);return this.V(t)}}]),n}(Lo),Mo=function(e){g(n,e);var t=E(n);function n(e,r){var i;return h(this,n),(i=t.call(this,e,"in",r)).keys=jo("in",r),i}return p(n,[{key:"matches",value:function(e){return this.keys.some((function(t){return t.isEqual(e.key)}))}}]),n}(Lo),Fo=function(e){g(n,e);var t=E(n);function n(e,r){var i;return h(this,n),(i=t.call(this,e,"not-in",r)).keys=jo("not-in",r),i}return p(n,[{key:"matches",value:function(e){return!this.keys.some((function(t){return t.isEqual(e.key)}))}}]),n}(Lo);function jo(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map((function(e){return ao.fromName(e.referenceValue)}))}var Bo=function(e){g(n,e);var t=E(n);function n(e,r){return h(this,n),t.call(this,e,"array-contains",r)}return p(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return mo(t)&&co(t.arrayValue,this.value)}}]),n}(Lo),Uo=function(e){g(n,e);var t=E(n);function n(e,r){return h(this,n),t.call(this,e,"in",r)}return p(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return null!==t&&co(this.value.arrayValue,t)}}]),n}(Lo),Vo=function(e){g(n,e);var t=E(n);function n(e,r){return h(this,n),t.call(this,e,"not-in",r)}return p(n,[{key:"matches",value:function(e){if(co(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var t=e.data.field(this.field);return null!==t&&!co(this.value.arrayValue,t)}}]),n}(Lo),qo=function(e){g(n,e);var t=E(n);function n(e,r){return h(this,n),t.call(this,e,"array-contains-any",r)}return p(n,[{key:"matches",value:function(e){var t=this,n=e.data.field(this.field);return!(!mo(n)||!n.arrayValue.values)&&n.arrayValue.values.some((function(e){return co(t.value.arrayValue,e)}))}}]),n}(Lo),zo=p((function e(t,n){h(this,e),this.position=t,this.inclusive=n})),Ko=p((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";h(this,e),this.field=t,this.dir=n}));function Go(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}function Qo(e,t,n){for(var r=0,i=0;i<e.position.length;i++){var a=t[i],o=e.position[i];if(r=a.field.isKeyField()?ao.comparator(ao.fromName(o.referenceValue),n.key):lo(o,n.data.field(a.field)),"desc"===a.dir&&(r*=-1),0!==r)break}return r}function Ho(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(var n=0;n<e.position.length;n++)if(!so(e.position[n],t.position[n]))return!1;return!0}var Wo=p((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"F",u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;h(this,e),this.path=t,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=a,this.limitType=o,this.startAt=u,this.endAt=s,this.D=null,this.C=null,this.startAt,this.endAt}));function Yo(e,t,n,r,i,a,o,u){return new Wo(e,t,n,r,i,a,o,u)}function Xo(e){return new Wo(e)}function Jo(e){return!no(e.limit)&&"F"===e.limitType}function $o(e){return!no(e.limit)&&"L"===e.limitType}function Zo(e){return e.explicitOrderBy.length>0?e.explicitOrderBy[0].field:null}function eu(e){var t,n=v(e.filters);try{for(n.s();!(t=n.n()).done;){var r=t.value;if(r.S())return r.field}}catch(i){n.e(i)}finally{n.f()}return null}function tu(e){return null!==e.collectionGroup}function nu(e){var t=ga(e);if(null===t.D){t.D=[];var n=eu(t),r=Zo(t);if(null!==n&&null===r)n.isKeyField()||t.D.push(new Ko(n)),t.D.push(new Ko(Ka.keyField(),"asc"));else{var i,a=!1,o=v(t.explicitOrderBy);try{for(o.s();!(i=o.n()).done;){var u=i.value;t.D.push(u),u.field.isKeyField()&&(a=!0)}}catch(c){o.e(c)}finally{o.f()}if(!a){var s=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.D.push(new Ko(Ka.keyField(),s))}}}return t.D}function ru(e){var t=ga(e);if(!t.C)if("F"===t.limitType)t.C=No(t.path,t.collectionGroup,nu(t),t.filters,t.limit,t.startAt,t.endAt);else{var n,r=[],i=v(nu(t));try{for(i.s();!(n=i.n()).done;){var a=n.value,o="desc"===a.dir?"asc":"desc";r.push(new Ko(a.field,o))}}catch(c){i.e(c)}finally{i.f()}var u=t.endAt?new zo(t.endAt.position,!t.endAt.inclusive):null,s=t.startAt?new zo(t.startAt.position,!t.startAt.inclusive):null;t.C=No(t.path,t.collectionGroup,r,t.filters,t.limit,u,s)}return t.C}function iu(e,t,n){return new Wo(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function au(e,t){return Do(ru(e),ru(t))&&e.limitType===t.limitType}function ou(e){return"".concat(Oo(ru(e)),"|lt:").concat(e.limitType)}function uu(e){return"Query(target=".concat(function(e){var t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=", filters: [".concat(e.filters.map((function(e){return"".concat((t=e).field.canonicalString()," ").concat(t.op," ").concat(ho(t.value));var t})).join(", "),"]")),no(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=", orderBy: [".concat(e.orderBy.map((function(e){return function(e){return"".concat(e.field.canonicalString()," (").concat(e.dir,")")}(e)})).join(", "),"]")),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((function(e){return ho(e)})).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((function(e){return ho(e)})).join(",")),"Target(".concat(t,")")}(ru(e)),"; limitType=").concat(e.limitType,")")}function su(e,t){return t.isFoundDocument()&&function(e,t){var n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):ao.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){var n,r=v(e.explicitOrderBy);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(!i.field.isKeyField()&&null===t.data.field(i.field))return!1}}catch(a){r.e(a)}finally{r.f()}return!0}(e,t)&&function(e,t){var n,r=v(e.filters);try{for(r.s();!(n=r.n()).done;){if(!n.value.matches(t))return!1}}catch(i){r.e(i)}finally{r.f()}return!0}(e,t)&&function(e,t){return!(e.startAt&&!function(e,t,n){var r=Qo(e,t,n);return e.inclusive?r<=0:r<0}(e.startAt,nu(e),t))&&!(e.endAt&&!function(e,t,n){var r=Qo(e,t,n);return e.inclusive?r>=0:r>0}(e.endAt,nu(e),t))}(e,t)}function cu(e){return function(t,n){var r,i=!1,a=v(nu(e));try{for(a.s();!(r=a.n()).done;){var o=r.value,u=lu(o,t,n);if(0!==u)return u;i=i||o.field.isKeyField()}}catch(s){a.e(s)}finally{a.f()}return 0}}function lu(e,t,n){var r=e.field.isKeyField()?ao.comparator(t.key,n.key):function(e,t,n){var r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?lo(r,i):ya()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return ya()}}function fu(e,t){if(e.N){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:ro(t)?"-0":t}}function hu(e){return{integerValue:""+e}}function du(e,t){return io(t)?hu(t):fu(e,t)}var pu=p((function e(){h(this,e),this._=void 0}));function vu(e,t,n){return e instanceof gu?function(e,t){var n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&(n.fields.__previous_value__=t),{mapValue:n}}(n,t):e instanceof ku?wu(e,t):e instanceof bu?xu(e,t):function(e,t){var n=mu(e,t),r=Su(n)+Su(e.k);return yo(n)&&yo(e.k)?hu(r):fu(e.O,r)}(e,t)}function yu(e,t,n){return e instanceof ku?wu(e,t):e instanceof bu?xu(e,t):n}function mu(e,t){return e instanceof Eu?yo(n=t)||function(e){return!!e&&"doubleValue"in e}(n)?t:{integerValue:0}:null;var n}var gu=function(e){g(n,e);var t=E(n);function n(){return h(this,n),t.apply(this,arguments)}return p(n)}(pu),ku=function(e){g(n,e);var t=E(n);function n(e){var r;return h(this,n),(r=t.call(this)).elements=e,r}return p(n)}(pu);function wu(e,t){var n,r=Iu(t),i=v(e.elements);try{var a=function(){var e=n.value;r.some((function(t){return so(t,e)}))||r.push(e)};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return{arrayValue:{values:r}}}var bu=function(e){g(n,e);var t=E(n);function n(e){var r;return h(this,n),(r=t.call(this)).elements=e,r}return p(n)}(pu);function xu(e,t){var n,r=Iu(t),i=v(e.elements);try{var a=function(){var e=n.value;r=r.filter((function(t){return!so(t,e)}))};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return{arrayValue:{values:r}}}var Eu=function(e){g(n,e);var t=E(n);function n(e,r){var i;return h(this,n),(i=t.call(this)).O=e,i.k=r,i}return p(n)}(pu);function Su(e){return Ya(e.integerValue||e.doubleValue)}function Iu(e){return mo(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}var Tu=p((function e(t,n){h(this,e),this.field=t,this.transform=n}));var Cu=p((function e(t,n){h(this,e),this.version=t,this.transformResults=n})),_u=function(){function e(t,n){h(this,e),this.updateTime=t,this.exists=n}return p(e,[{key:"isNone",get:function(){return void 0===this.updateTime&&void 0===this.exists}},{key:"isEqual",value:function(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}],[{key:"none",value:function(){return new e}},{key:"exists",value:function(t){return new e(void 0,t)}},{key:"updateTime",value:function(t){return new e(t)}}]),e}();function Au(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}var Nu=p((function e(){h(this,e)}));function Ou(e,t,n){e instanceof Mu?function(e,t,n){var r=e.value.clone(),i=Bu(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof Fu?function(e,t,n){if(Au(e.precondition,t)){var r=Bu(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(ju(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}else t.convertToUnknownDocument(n.version)}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function Du(e,t,n){e instanceof Mu?function(e,t,n){if(Au(e.precondition,t)){var r=e.value.clone(),i=Uu(e.fieldTransforms,n,t);r.setAll(i),t.convertToFoundDocument(Ru(t),r).setHasLocalMutations()}}(e,t,n):e instanceof Fu?function(e,t,n){if(Au(e.precondition,t)){var r=Uu(e.fieldTransforms,n,t),i=t.data;i.setAll(ju(e)),i.setAll(r),t.convertToFoundDocument(Ru(t),i).setHasLocalMutations()}}(e,t,n):function(e,t){Au(e.precondition,t)&&t.convertToNoDocument(Fa.min())}(e,t)}function Pu(e,t){var n,r=null,i=v(e.fieldTransforms);try{for(i.s();!(n=i.n()).done;){var a=n.value,o=t.data.field(a.field),u=mu(a.transform,o||null);null!=u&&(null==r&&(r=xo.empty()),r.set(a.field,u))}}catch(s){i.e(s)}finally{i.f()}return r||null}function Lu(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&La(e,t,(function(e,t){return function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof ku&&t instanceof ku||e instanceof bu&&t instanceof bu?La(e.elements,t.elements,so):e instanceof Eu&&t instanceof Eu?so(e.k,t.k):e instanceof gu&&t instanceof gu}(e.transform,t.transform)}(e,t)}))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}function Ru(e){return e.isFoundDocument()?e.version:Fa.min()}var Mu=function(e){g(n,e);var t=E(n);function n(e,r,i){var a,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];return h(this,n),(a=t.call(this)).key=e,a.value=r,a.precondition=i,a.fieldTransforms=o,a.type=0,a}return p(n)}(Nu),Fu=function(e){g(n,e);var t=E(n);function n(e,r,i,a){var o,u=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];return h(this,n),(o=t.call(this)).key=e,o.data=r,o.fieldMask=i,o.precondition=a,o.fieldTransforms=u,o.type=1,o}return p(n)}(Nu);function ju(e){var t=new Map;return e.fieldMask.fields.forEach((function(n){if(!n.isEmpty()){var r=e.data.field(n);t.set(n,r)}})),t}function Bu(e,t,n){var r=new Map;ma(e.length===n.length);for(var i=0;i<n.length;i++){var a=e[i],o=a.transform,u=t.data.field(a.field);r.set(a.field,yu(o,u,n[i]))}return r}function Uu(e,t,n){var r,i=new Map,a=v(e);try{for(a.s();!(r=a.n()).done;){var o=r.value,u=o.transform,s=n.data.field(o.field);i.set(o.field,vu(u,s,t))}}catch(c){a.e(c)}finally{a.f()}return i}var Vu,qu,zu=function(e){g(n,e);var t=E(n);function n(e,r){var i;return h(this,n),(i=t.call(this)).key=e,i.precondition=r,i.type=2,i.fieldTransforms=[],i}return p(n)}(Nu),Ku=function(e){g(n,e);var t=E(n);function n(e,r){var i;return h(this,n),(i=t.call(this)).key=e,i.precondition=r,i.type=3,i.fieldTransforms=[],i}return p(n)}(Nu),Gu=p((function e(t){h(this,e),this.count=t}));function Qu(e){switch(e){default:return ya();case ka.CANCELLED:case ka.UNKNOWN:case ka.DEADLINE_EXCEEDED:case ka.RESOURCE_EXHAUSTED:case ka.INTERNAL:case ka.UNAVAILABLE:case ka.UNAUTHENTICATED:return!1;case ka.INVALID_ARGUMENT:case ka.NOT_FOUND:case ka.ALREADY_EXISTS:case ka.PERMISSION_DENIED:case ka.FAILED_PRECONDITION:case ka.ABORTED:case ka.OUT_OF_RANGE:case ka.UNIMPLEMENTED:case ka.DATA_LOSS:return!0}}function Hu(e){if(void 0===e)return da("GRPC error has no .code"),ka.UNKNOWN;switch(e){case Vu.OK:return ka.OK;case Vu.CANCELLED:return ka.CANCELLED;case Vu.UNKNOWN:return ka.UNKNOWN;case Vu.DEADLINE_EXCEEDED:return ka.DEADLINE_EXCEEDED;case Vu.RESOURCE_EXHAUSTED:return ka.RESOURCE_EXHAUSTED;case Vu.INTERNAL:return ka.INTERNAL;case Vu.UNAVAILABLE:return ka.UNAVAILABLE;case Vu.UNAUTHENTICATED:return ka.UNAUTHENTICATED;case Vu.INVALID_ARGUMENT:return ka.INVALID_ARGUMENT;case Vu.NOT_FOUND:return ka.NOT_FOUND;case Vu.ALREADY_EXISTS:return ka.ALREADY_EXISTS;case Vu.PERMISSION_DENIED:return ka.PERMISSION_DENIED;case Vu.FAILED_PRECONDITION:return ka.FAILED_PRECONDITION;case Vu.ABORTED:return ka.ABORTED;case Vu.OUT_OF_RANGE:return ka.OUT_OF_RANGE;case Vu.UNIMPLEMENTED:return ka.UNIMPLEMENTED;case Vu.DATA_LOSS:return ka.DATA_LOSS;default:return ya()}}(qu=Vu||(Vu={}))[qu.OK=0]="OK",qu[qu.CANCELLED=1]="CANCELLED",qu[qu.UNKNOWN=2]="UNKNOWN",qu[qu.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",qu[qu.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",qu[qu.NOT_FOUND=5]="NOT_FOUND",qu[qu.ALREADY_EXISTS=6]="ALREADY_EXISTS",qu[qu.PERMISSION_DENIED=7]="PERMISSION_DENIED",qu[qu.UNAUTHENTICATED=16]="UNAUTHENTICATED",qu[qu.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",qu[qu.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",qu[qu.ABORTED=10]="ABORTED",qu[qu.OUT_OF_RANGE=11]="OUT_OF_RANGE",qu[qu.UNIMPLEMENTED=12]="UNIMPLEMENTED",qu[qu.INTERNAL=13]="INTERNAL",qu[qu.UNAVAILABLE=14]="UNAVAILABLE",qu[qu.DATA_LOSS=15]="DATA_LOSS";var Wu=function(){function e(t,n){h(this,e),this.comparator=t,this.root=n||Xu.EMPTY}return p(e,[{key:"insert",value:function(t,n){return new e(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,Xu.BLACK,null,null))}},{key:"remove",value:function(t){return new e(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Xu.BLACK,null,null))}},{key:"get",value:function(e){for(var t=this.root;!t.isEmpty();){var n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}},{key:"indexOf",value:function(e){for(var t=0,n=this.root;!n.isEmpty();){var r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}},{key:"isEmpty",value:function(){return this.root.isEmpty()}},{key:"size",get:function(){return this.root.size}},{key:"minKey",value:function(){return this.root.minKey()}},{key:"maxKey",value:function(){return this.root.maxKey()}},{key:"inorderTraversal",value:function(e){return this.root.inorderTraversal(e)}},{key:"forEach",value:function(e){this.inorderTraversal((function(t,n){return e(t,n),!1}))}},{key:"toString",value:function(){var e=[];return this.inorderTraversal((function(t,n){return e.push("".concat(t,":").concat(n)),!1})),"{".concat(e.join(", "),"}")}},{key:"reverseTraversal",value:function(e){return this.root.reverseTraversal(e)}},{key:"getIterator",value:function(){return new Yu(this.root,null,this.comparator,!1)}},{key:"getIteratorFrom",value:function(e){return new Yu(this.root,e,this.comparator,!1)}},{key:"getReverseIterator",value:function(){return new Yu(this.root,null,this.comparator,!0)}},{key:"getReverseIteratorFrom",value:function(e){return new Yu(this.root,e,this.comparator,!0)}}]),e}(),Yu=function(){function e(t,n,r,i){h(this,e),this.isReverse=i,this.nodeStack=[];for(var a=1;!t.isEmpty();)if(a=n?r(t.key,n):1,i&&(a*=-1),a<0)t=this.isReverse?t.left:t.right;else{if(0===a){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}return p(e,[{key:"getNext",value:function(){var e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}},{key:"hasNext",value:function(){return this.nodeStack.length>0}},{key:"peek",value:function(){if(0===this.nodeStack.length)return null;var e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}]),e}(),Xu=function(){function e(t,n,r,i,a){h(this,e),this.key=t,this.value=n,this.color=null!=r?r:e.RED,this.left=null!=i?i:e.EMPTY,this.right=null!=a?a:e.EMPTY,this.size=this.left.size+1+this.right.size}return p(e,[{key:"copy",value:function(t,n,r,i,a){return new e(null!=t?t:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=a?a:this.right)}},{key:"isEmpty",value:function(){return!1}},{key:"inorderTraversal",value:function(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}},{key:"reverseTraversal",value:function(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}},{key:"min",value:function(){return this.left.isEmpty()?this:this.left.min()}},{key:"minKey",value:function(){return this.min().key}},{key:"maxKey",value:function(){return this.right.isEmpty()?this.key:this.right.maxKey()}},{key:"insert",value:function(e,t,n){var r=this,i=n(e,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n))).fixUp()}},{key:"removeMin",value:function(){if(this.left.isEmpty())return e.EMPTY;var t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),(t=t.copy(null,null,null,t.left.removeMin(),null)).fixUp()}},{key:"remove",value:function(t,n){var r,i=this;if(n(t,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(t,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(t,i.key)){if(i.right.isEmpty())return e.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(t,n))}return i.fixUp()}},{key:"isRed",value:function(){return this.color}},{key:"fixUp",value:function(){var e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}},{key:"moveRedLeft",value:function(){var e=this.colorFlip();return e.right.left.isRed()&&(e=(e=(e=e.copy(null,null,null,null,e.right.rotateRight())).rotateLeft()).colorFlip()),e}},{key:"moveRedRight",value:function(){var e=this.colorFlip();return e.left.left.isRed()&&(e=(e=e.rotateRight()).colorFlip()),e}},{key:"rotateLeft",value:function(){var t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}},{key:"rotateRight",value:function(){var t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}},{key:"colorFlip",value:function(){var e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}},{key:"checkMaxDepth",value:function(){var e=this.check();return Math.pow(2,e)<=this.size+1}},{key:"check",value:function(){if(this.isRed()&&this.left.isRed())throw ya();if(this.right.isRed())throw ya();var e=this.left.check();if(e!==this.right.check())throw ya();return e+(this.isRed()?0:1)}}]),e}();Xu.EMPTY=null,Xu.RED=!0,Xu.BLACK=!1,Xu.EMPTY=new(function(){function e(){h(this,e),this.size=0}return p(e,[{key:"key",get:function(){throw ya()}},{key:"value",get:function(){throw ya()}},{key:"color",get:function(){throw ya()}},{key:"left",get:function(){throw ya()}},{key:"right",get:function(){throw ya()}},{key:"copy",value:function(e,t,n,r,i){return this}},{key:"insert",value:function(e,t,n){return new Xu(e,t)}},{key:"remove",value:function(e,t){return this}},{key:"isEmpty",value:function(){return!0}},{key:"inorderTraversal",value:function(e){return!1}},{key:"reverseTraversal",value:function(e){return!1}},{key:"minKey",value:function(){return null}},{key:"maxKey",value:function(){return null}},{key:"isRed",value:function(){return!1}},{key:"checkMaxDepth",value:function(){return!0}},{key:"check",value:function(){return 0}}]),e}());var Ju=function(){function e(t){h(this,e),this.comparator=t,this.data=new Wu(this.comparator)}return p(e,[{key:"has",value:function(e){return null!==this.data.get(e)}},{key:"first",value:function(){return this.data.minKey()}},{key:"last",value:function(){return this.data.maxKey()}},{key:"size",get:function(){return this.data.size}},{key:"indexOf",value:function(e){return this.data.indexOf(e)}},{key:"forEach",value:function(e){this.data.inorderTraversal((function(t,n){return e(t),!1}))}},{key:"forEachInRange",value:function(e,t){for(var n=this.data.getIteratorFrom(e[0]);n.hasNext();){var r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}},{key:"forEachWhile",value:function(e,t){var n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}},{key:"firstAfterOrEqual",value:function(e){var t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}},{key:"getIterator",value:function(){return new $u(this.data.getIterator())}},{key:"getIteratorFrom",value:function(e){return new $u(this.data.getIteratorFrom(e))}},{key:"add",value:function(e){return this.copy(this.data.remove(e).insert(e,!0))}},{key:"delete",value:function(e){return this.has(e)?this.copy(this.data.remove(e)):this}},{key:"isEmpty",value:function(){return this.data.isEmpty()}},{key:"unionWith",value:function(e){var t=this;return t.size<e.size&&(t=e,e=this),e.forEach((function(e){t=t.add(e)})),t}},{key:"isEqual",value:function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.data.getIterator(),r=t.data.getIterator();n.hasNext();){var i=n.getNext().key,a=r.getNext().key;if(0!==this.comparator(i,a))return!1}return!0}},{key:"toArray",value:function(){var e=[];return this.forEach((function(t){e.push(t)})),e}},{key:"toString",value:function(){var e=[];return this.forEach((function(t){return e.push(t)})),"SortedSet("+e.toString()+")"}},{key:"copy",value:function(t){var n=new e(this.comparator);return n.data=t,n}}]),e}(),$u=function(){function e(t){h(this,e),this.iter=t}return p(e,[{key:"getNext",value:function(){return this.iter.getNext().key}},{key:"hasNext",value:function(){return this.iter.hasNext()}}]),e}();function Zu(e){return e.hasNext()?e.getNext():void 0}var es=new Wu(ao.comparator);function ts(){return es}var ns=new Wu(ao.comparator);function rs(){return ns}var is=new Wu(ao.comparator),as=new Ju(ao.comparator);function os(){for(var e=as,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e=e.add(o)}return e}var us=new Ju(Pa);function ss(){return us}var cs=function(){function e(t,n,r,i,a){h(this,e),this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=a}return p(e,null,[{key:"createSynthesizedRemoteEventForCurrentChange",value:function(t,n){var r=new Map;return r.set(t,ls.createSynthesizedTargetChangeForCurrentChange(t,n)),new e(Fa.min(),r,ss(),ts(),os())}}]),e}(),ls=function(){function e(t,n,r,i,a){h(this,e),this.resumeToken=t,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=a}return p(e,null,[{key:"createSynthesizedTargetChangeForCurrentChange",value:function(t,n){return new e(Qa.EMPTY_BYTE_STRING,n,os(),os(),os())}}]),e}(),fs=p((function e(t,n,r,i){h(this,e),this.M=t,this.removedTargetIds=n,this.key=r,this.$=i})),hs=p((function e(t,n){h(this,e),this.targetId=t,this.F=n})),ds=p((function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Qa.EMPTY_BYTE_STRING,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;h(this,e),this.state=t,this.targetIds=n,this.resumeToken=r,this.cause=i})),ps=function(){function e(){h(this,e),this.B=0,this.L=ms(),this.U=Qa.EMPTY_BYTE_STRING,this.q=!1,this.K=!0}return p(e,[{key:"current",get:function(){return this.q}},{key:"resumeToken",get:function(){return this.U}},{key:"G",get:function(){return 0!==this.B}},{key:"j",get:function(){return this.K}},{key:"W",value:function(e){e.approximateByteSize()>0&&(this.K=!0,this.U=e)}},{key:"H",value:function(){var e=os(),t=os(),n=os();return this.L.forEach((function(r,i){switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:ya()}})),new ls(this.U,this.q,e,t,n)}},{key:"J",value:function(){this.K=!1,this.L=ms()}},{key:"Y",value:function(e,t){this.K=!0,this.L=this.L.insert(e,t)}},{key:"X",value:function(e){this.K=!0,this.L=this.L.remove(e)}},{key:"Z",value:function(){this.B+=1}},{key:"tt",value:function(){this.B-=1}},{key:"et",value:function(){this.K=!0,this.q=!0}}]),e}(),vs=function(){function e(t){h(this,e),this.nt=t,this.st=new Map,this.it=ts(),this.rt=ys(),this.ot=new Ju(Pa)}return p(e,[{key:"ct",value:function(e){var t,n=v(e.M);try{for(n.s();!(t=n.n()).done;){var r=t.value;e.$&&e.$.isFoundDocument()?this.ut(r,e.$):this.at(r,e.key,e.$)}}catch(u){n.e(u)}finally{n.f()}var i,a=v(e.removedTargetIds);try{for(a.s();!(i=a.n()).done;){var o=i.value;this.at(o,e.key,e.$)}}catch(u){a.e(u)}finally{a.f()}}},{key:"ht",value:function(e){var t=this;this.forEachTarget(e,(function(n){var r=t.lt(n);switch(e.state){case 0:t.ft(n)&&r.W(e.resumeToken);break;case 1:r.tt(),r.G||r.J(),r.W(e.resumeToken);break;case 2:r.tt(),r.G||t.removeTarget(n);break;case 3:t.ft(n)&&(r.et(),r.W(e.resumeToken));break;case 4:t.ft(n)&&(t.dt(n),r.W(e.resumeToken));break;default:ya()}}))}},{key:"forEachTarget",value:function(e,t){var n=this;e.targetIds.length>0?e.targetIds.forEach(t):this.st.forEach((function(e,r){n.ft(r)&&t(r)}))}},{key:"_t",value:function(e){var t=e.targetId,n=e.F.count,r=this.wt(t);if(r){var i=r.target;if(Po(i))if(0===n){var a=new ao(i.path);this.at(t,a,So.newNoDocument(a,Fa.min()))}else ma(1===n);else this.gt(t)!==n&&(this.dt(t),this.ot=this.ot.add(t))}}},{key:"yt",value:function(e){var t=this,n=new Map;this.st.forEach((function(r,i){var a=t.wt(i);if(a){if(r.current&&Po(a.target)){var o=new ao(a.target.path);null!==t.it.get(o)||t.It(i,o)||t.at(i,o,So.newNoDocument(o,e))}r.j&&(n.set(i,r.H()),r.J())}}));var r=os();this.rt.forEach((function(e,n){var i=!0;n.forEachWhile((function(e){var n=t.wt(e);return!n||2===n.purpose||(i=!1,!1)})),i&&(r=r.add(e))})),this.it.forEach((function(t,n){return n.setReadTime(e)}));var i=new cs(e,n,this.ot,this.it,r);return this.it=ts(),this.rt=ys(),this.ot=new Ju(Pa),i}},{key:"ut",value:function(e,t){if(this.ft(e)){var n=this.It(e,t.key)?2:0;this.lt(e).Y(t.key,n),this.it=this.it.insert(t.key,t),this.rt=this.rt.insert(t.key,this.Et(t.key).add(e))}}},{key:"at",value:function(e,t,n){if(this.ft(e)){var r=this.lt(e);this.It(e,t)?r.Y(t,1):r.X(t),this.rt=this.rt.insert(t,this.Et(t).delete(e)),n&&(this.it=this.it.insert(t,n))}}},{key:"removeTarget",value:function(e){this.st.delete(e)}},{key:"gt",value:function(e){var t=this.lt(e).H();return this.nt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}},{key:"Z",value:function(e){this.lt(e).Z()}},{key:"lt",value:function(e){var t=this.st.get(e);return t||(t=new ps,this.st.set(e,t)),t}},{key:"Et",value:function(e){var t=this.rt.get(e);return t||(t=new Ju(Pa),this.rt=this.rt.insert(e,t)),t}},{key:"ft",value:function(e){var t=null!==this.wt(e);return t||ha("WatchChangeAggregator","Detected inactive target",e),t}},{key:"wt",value:function(e){var t=this.st.get(e);return t&&t.G?null:this.nt.Tt(e)}},{key:"dt",value:function(e){var t=this;this.st.set(e,new ps),this.nt.getRemoteKeysForTarget(e).forEach((function(n){t.at(e,n,null)}))}},{key:"It",value:function(e,t){return this.nt.getRemoteKeysForTarget(e).has(t)}}]),e}();function ys(){return new Wu(ao.comparator)}function ms(){return new Wu(ao.comparator)}var gs={asc:"ASCENDING",desc:"DESCENDING"},ks={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},ws=p((function e(t,n){h(this,e),this.databaseId=t,this.N=n}));function bs(e,t){return e.N?"".concat(new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z",""),".").concat(("000000000"+t.nanoseconds).slice(-9),"Z"):{seconds:""+t.seconds,nanos:t.nanoseconds}}function xs(e,t){return e.N?t.toBase64():t.toUint8Array()}function Es(e,t){return bs(e,t.toTimestamp())}function Ss(e){return ma(!!e),Fa.fromTimestamp(function(e){var t=Wa(e);return new Ma(t.seconds,t.nanos)}(e))}function Is(e,t){return function(e){return new qa(["projects",e.projectId,"databases",e.database])}(e).child("documents").child(t).canonicalString()}function Ts(e){var t=qa.fromString(e);return ma(Ys(t)),t}function Cs(e,t){return Is(e.databaseId,t.path)}function _s(e,t){var n=Ts(t);if(n.get(1)!==e.databaseId.projectId)throw new wa(ka.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new wa(ka.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new ao(Ds(n))}function As(e,t){return Is(e.databaseId,t)}function Ns(e){var t=Ts(e);return 4===t.length?qa.emptyPath():Ds(t)}function Os(e){return new qa(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function Ds(e){return ma(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function Ps(e,t,n){return{name:Cs(e,t),fields:n.value.mapValue.fields}}function Ls(e,t,n){var r=_s(e,t.name),i=Ss(t.updateTime),a=new xo({mapValue:{fields:t.fields}}),o=So.newFoundDocument(r,i,a);return n&&o.setHasCommittedMutations(),n?o.setHasCommittedMutations():o}function Rs(e,t){return"found"in t?function(e,t){ma(!!t.found),t.found.name,t.found.updateTime;var n=_s(e,t.found.name),r=Ss(t.found.updateTime),i=new xo({mapValue:{fields:t.found.fields}});return So.newFoundDocument(n,r,i)}(e,t):"missing"in t?function(e,t){ma(!!t.missing),ma(!!t.readTime);var n=_s(e,t.missing),r=Ss(t.readTime);return So.newNoDocument(n,r)}(e,t):ya()}function Ms(e,t){var n;if(t instanceof Mu)n={update:Ps(e,t.key,t.value)};else if(t instanceof zu)n={delete:Cs(e,t.key)};else if(t instanceof Fu)n={update:Ps(e,t.key,t.data),updateMask:Ws(t.fieldMask)};else{if(!(t instanceof Ku))return ya();n={verify:Cs(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((function(e){return function(e,t){var n=t.transform;if(n instanceof gu)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof ku)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof bu)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof Eu)return{fieldPath:t.field.canonicalString(),increment:n.k};throw ya()}(0,e)}))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:Es(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:ya()}(e,t.precondition)),n}function Fs(e,t){var n=t.currentDocument?function(e){return void 0!==e.updateTime?_u.updateTime(Ss(e.updateTime)):void 0!==e.exists?_u.exists(e.exists):_u.none()}(t.currentDocument):_u.none(),r=t.updateTransforms?t.updateTransforms.map((function(t){return function(e,t){var n=null;if("setToServerValue"in t)ma("REQUEST_TIME"===t.setToServerValue),n=new gu;else if("appendMissingElements"in t){var r=t.appendMissingElements.values||[];n=new ku(r)}else if("removeAllFromArray"in t){var i=t.removeAllFromArray.values||[];n=new bu(i)}else"increment"in t?n=new Eu(e,t.increment):ya();var a=Ka.fromServerFormat(t.fieldPath);return new Tu(a,n)}(e,t)})):[];if(t.update){t.update.name;var i=_s(e,t.update.name),a=new xo({mapValue:{fields:t.update.fields}});if(t.updateMask){var o=function(e){var t=e.fieldPaths||[];return new Ga(t.map((function(e){return Ka.fromServerFormat(e)})))}(t.updateMask);return new Fu(i,a,o,n,r)}return new Mu(i,a,n,r)}if(t.delete){var u=_s(e,t.delete);return new zu(u,n)}if(t.verify){var s=_s(e,t.verify);return new Ku(s,n)}return ya()}function js(e,t){return{documents:[As(e,t.path)]}}function Bs(e,t){var n={structuredQuery:{}},r=t.path;null!==t.collectionGroup?(n.parent=As(e,r),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=As(e,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);var i=function(e){if(0!==e.length){var t=e.map((function(e){return function(e){if("=="===e.op){if(ko(e.value))return{unaryFilter:{field:Ks(e.field),op:"IS_NAN"}};if(go(e.value))return{unaryFilter:{field:Ks(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(ko(e.value))return{unaryFilter:{field:Ks(e.field),op:"IS_NOT_NAN"}};if(go(e.value))return{unaryFilter:{field:Ks(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ks(e.field),op:zs(e.op),value:e.value}}}(e)}));return 1===t.length?t[0]:{compositeFilter:{op:"AND",filters:t}}}}(t.filters);i&&(n.structuredQuery.where=i);var a=function(e){if(0!==e.length)return e.map((function(e){return function(e){return{field:Ks(e.field),direction:qs(e.dir)}}(e)}))}(t.orderBy);a&&(n.structuredQuery.orderBy=a);var o,u=function(e,t){return e.N||no(t)?t:{value:t}}(e,t.limit);return null!==u&&(n.structuredQuery.limit=u),t.startAt&&(n.structuredQuery.startAt={before:(o=t.startAt).inclusive,values:o.position}),t.endAt&&(n.structuredQuery.endAt=function(e){return{before:!e.inclusive,values:e.position}}(t.endAt)),n}function Us(e){var t=Ns(e.parent),n=e.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){ma(1===r);var a=n.from[0];a.allDescendants?i=a.collectionId:t=t.child(a.collectionId)}var o=[];n.where&&(o=Vs(n.where));var u=[];n.orderBy&&(u=n.orderBy.map((function(e){return function(e){return new Ko(Gs(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e)})));var s=null;n.limit&&(s=function(e){var t;return no(t="object"==typeof e?e.value:e)?null:t}(n.limit));var c=null;n.startAt&&(c=function(e){var t=!!e.before,n=e.values||[];return new zo(n,t)}(n.startAt));var l=null;return n.endAt&&(l=function(e){var t=!e.before,n=e.values||[];return new zo(n,t)}(n.endAt)),Yo(t,i,u,o,s,"F",c,l)}function Vs(e){return e?void 0!==e.unaryFilter?[Hs(e)]:void 0!==e.fieldFilter?[Qs(e)]:void 0!==e.compositeFilter?e.compositeFilter.filters.map((function(e){return Vs(e)})).reduce((function(e,t){return e.concat(t)})):ya():[]}function qs(e){return gs[e]}function zs(e){return ks[e]}function Ks(e){return{fieldPath:e.canonicalString()}}function Gs(e){return Ka.fromServerFormat(e.fieldPath)}function Qs(e){return Lo.create(Gs(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return ya()}}(e.fieldFilter.op),e.fieldFilter.value)}function Hs(e){switch(e.unaryFilter.op){case"IS_NAN":var t=Gs(e.unaryFilter.field);return Lo.create(t,"==",{doubleValue:NaN});case"IS_NULL":var n=Gs(e.unaryFilter.field);return Lo.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=Gs(e.unaryFilter.field);return Lo.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=Gs(e.unaryFilter.field);return Lo.create(i,"!=",{nullValue:"NULL_VALUE"});default:return ya()}}function Ws(e){var t=[];return e.fields.forEach((function(e){return t.push(e.canonicalString())})),{fieldPaths:t}}function Ys(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}function Xs(e){for(var t="",n=0;n<e.length;n++)t.length>0&&(t=$s(t)),t=Js(e.get(n),t);return $s(t)}function Js(e,t){for(var n=t,r=e.length,i=0;i<r;i++){var a=e.charAt(i);switch(a){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=a}}return n}function $s(e){return e+"\x01\x01"}function Zs(e){var t=e.length;if(ma(t>=2),2===t)return ma("\x01"===e.charAt(0)&&"\x01"===e.charAt(1)),qa.emptyPath();for(var n=t-2,r=[],i="",a=0;a<t;){var o=e.indexOf("\x01",a);switch((o<0||o>n)&&ya(),e.charAt(o+1)){case"\x01":var u=e.substring(a,o),s=void 0;0===i.length?s=u:(s=i+=u,i=""),r.push(s);break;case"\x10":i+=e.substring(a,o),i+="\0";break;case"\x11":i+=e.substring(a,o+1);break;default:ya()}a=o+2}return new qa(r)}var ec=p((function e(t,n){h(this,e),this.seconds=t,this.nanoseconds=n})),tc=p((function e(t,n,r){h(this,e),this.ownerId=t,this.allowTabSynchronization=n,this.leaseTimestampMs=r}));tc.store="owner",tc.key="owner";var nc=p((function e(t,n,r){h(this,e),this.userId=t,this.lastAcknowledgedBatchId=n,this.lastStreamToken=r}));nc.store="mutationQueues",nc.keyPath="userId";var rc=p((function e(t,n,r,i,a){h(this,e),this.userId=t,this.batchId=n,this.localWriteTimeMs=r,this.baseMutations=i,this.mutations=a}));rc.store="mutations",rc.keyPath="batchId",rc.userMutationsIndex="userMutationsIndex",rc.userMutationsKeyPath=["userId","batchId"];var ic=function(){function e(){h(this,e)}return p(e,null,[{key:"prefixForUser",value:function(e){return[e]}},{key:"prefixForPath",value:function(e,t){return[e,Xs(t)]}},{key:"key",value:function(e,t,n){return[e,Xs(t),n]}}]),e}();ic.store="documentMutations",ic.PLACEHOLDER=new ic;var ac=p((function e(t,n){h(this,e),this.path=t,this.readTime=n})),oc=p((function e(t,n){h(this,e),this.path=t,this.version=n})),uc=p((function e(t,n,r,i,a,o){h(this,e),this.unknownDocument=t,this.noDocument=n,this.document=r,this.hasCommittedMutations=i,this.readTime=a,this.parentPath=o}));uc.store="remoteDocuments",uc.readTimeIndex="readTimeIndex",uc.readTimeIndexPath="readTime",uc.collectionReadTimeIndex="collectionReadTimeIndex",uc.collectionReadTimeIndexPath=["parentPath","readTime"];var sc=p((function e(t){h(this,e),this.byteSize=t}));sc.store="remoteDocumentGlobal",sc.key="remoteDocumentGlobalKey";var cc=p((function e(t,n,r,i,a,o,u){h(this,e),this.targetId=t,this.canonicalId=n,this.readTime=r,this.resumeToken=i,this.lastListenSequenceNumber=a,this.lastLimboFreeSnapshotVersion=o,this.query=u}));cc.store="targets",cc.keyPath="targetId",cc.queryTargetsIndexName="queryTargetsIndex",cc.queryTargetsKeyPath=["canonicalId","targetId"];var lc=p((function e(t,n,r){h(this,e),this.targetId=t,this.path=n,this.sequenceNumber=r}));lc.store="targetDocuments",lc.keyPath=["targetId","path"],lc.documentTargetsIndex="documentTargetsIndex",lc.documentTargetsKeyPath=["path","targetId"];var fc=p((function e(t,n,r,i){h(this,e),this.highestTargetId=t,this.highestListenSequenceNumber=n,this.lastRemoteSnapshotVersion=r,this.targetCount=i}));fc.key="targetGlobalKey",fc.store="targetGlobal";var hc=p((function e(t,n){h(this,e),this.collectionId=t,this.parent=n}));hc.store="collectionParents",hc.keyPath=["collectionId","parent"];var dc=p((function e(t,n,r,i){h(this,e),this.clientId=t,this.updateTimeMs=n,this.networkEnabled=r,this.inForeground=i}));dc.store="clientMetadata",dc.keyPath="clientId";var pc=p((function e(t,n,r){h(this,e),this.bundleId=t,this.createTime=n,this.version=r}));pc.store="bundles",pc.keyPath="bundleId";var vc=p((function e(t,n,r){h(this,e),this.name=t,this.readTime=n,this.bundledQuery=r}));vc.store="namedQueries",vc.keyPath="name";var yc=p((function e(t,n,r){h(this,e),this.indexId=t,this.collectionGroup=n,this.fields=r}));yc.store="indexConfiguration",yc.keyPath="indexId",yc.collectionGroupIndex="collectionGroupIndex",yc.collectionGroupIndexPath="collectionGroup";var mc=p((function e(t,n,r,i,a,o){h(this,e),this.indexId=t,this.uid=n,this.sequenceNumber=r,this.readTime=i,this.documentKey=a,this.largestBatchId=o}));mc.store="indexState",mc.keyPath=["indexId","uid"],mc.sequenceNumberIndex="sequenceNumberIndex",mc.sequenceNumberIndexPath=["uid","sequenceNumber"];var gc=p((function e(t,n,r,i,a){h(this,e),this.indexId=t,this.uid=n,this.arrayValue=r,this.directionalValue=i,this.documentKey=a}));gc.store="indexEntries",gc.keyPath=["indexId","uid","arrayValue","directionalValue","documentKey"],gc.documentKeyIndex="documentKeyIndex",gc.documentKeyIndexPath=["indexId","uid","documentKey"];var kc=p((function e(t,n,r,i,a,o){h(this,e),this.userId=t,this.collectionPath=n,this.documentId=r,this.collectionGroup=i,this.largestBatchId=a,this.overlayMutation=o}));kc.store="documentOverlays",kc.keyPath=["userId","collectionPath","documentId"],kc.collectionPathOverlayIndex="collectionPathOverlayIndex",kc.collectionPathOverlayIndexPath=["userId","collectionPath","largestBatchId"],kc.collectionGroupOverlayIndex="collectionGroupOverlayIndex",kc.collectionGroupOverlayIndexPath=["userId","collectionGroup","largestBatchId"];var wc=[nc.store,rc.store,ic.store,uc.store,cc.store,tc.store,fc.store,lc.store].concat([dc.store]).concat([sc.store]).concat([hc.store]).concat([pc.store,vc.store]),bc=[].concat(G(wc),[kc.store]),xc=[].concat(G(bc),[yc.store,mc.store,gc.store]),Ec="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",Sc=function(){function e(){h(this,e),this.onCommittedListeners=[]}return p(e,[{key:"addOnCommittedListener",value:function(e){this.onCommittedListeners.push(e)}},{key:"raiseOnCommittedEvent",value:function(){this.onCommittedListeners.forEach((function(e){return e()}))}}]),e}(),Ic=function(){function e(t){var n=this;h(this,e),this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((function(e){n.isDone=!0,n.result=e,n.nextCallback&&n.nextCallback(e)}),(function(e){n.isDone=!0,n.error=e,n.catchCallback&&n.catchCallback(e)}))}return p(e,[{key:"catch",value:function(e){return this.next(void 0,e)}},{key:"next",value:function(t,n){var r=this;return this.callbackAttached&&ya(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new e((function(e,i){r.nextCallback=function(n){r.wrapSuccess(t,n).next(e,i)},r.catchCallback=function(t){r.wrapFailure(n,t).next(e,i)}}))}},{key:"toPromise",value:function(){var e=this;return new Promise((function(t,n){e.next(t,n)}))}},{key:"wrapUserFunction",value:function(t){try{var n=t();return n instanceof e?n:e.resolve(n)}catch(t){return e.reject(t)}}},{key:"wrapSuccess",value:function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.resolve(n)}},{key:"wrapFailure",value:function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.reject(n)}}],[{key:"resolve",value:function(t){return new e((function(e,n){e(t)}))}},{key:"reject",value:function(t){return new e((function(e,n){n(t)}))}},{key:"waitFor",value:function(t){return new e((function(e,n){var r=0,i=0,a=!1;t.forEach((function(t){++r,t.next((function(){++i,a&&i===r&&e()}),(function(e){return n(e)}))})),a=!0,i===r&&e()}))}},{key:"or",value:function(t){var n,r=e.resolve(!1),i=v(t);try{var a=function(){var t=n.value;r=r.next((function(n){return n?e.resolve(n):t()}))};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return r}},{key:"forEach",value:function(e,t){var n=this,r=[];return e.forEach((function(e,i){r.push(t.call(n,e,i))})),this.waitFor(r)}}]),e}(),Tc=function(){function e(t,n){var r=this;h(this,e),this.action=t,this.transaction=n,this.aborted=!1,this.At=new ba,this.transaction.oncomplete=function(){r.At.resolve()},this.transaction.onabort=function(){n.error?r.At.reject(new Ac(t,n.error)):r.At.resolve()},this.transaction.onerror=function(e){var n=Lc(e.target.error);r.At.reject(new Ac(t,n))}}return p(e,[{key:"Rt",get:function(){return this.At.promise}},{key:"abort",value:function(e){e&&this.At.reject(e),this.aborted||(ha("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}},{key:"Pt",value:function(){var e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}},{key:"store",value:function(e){var t=this.transaction.objectStore(e);return new Oc(t)}}],[{key:"open",value:function(t,n,r,i){try{return new e(n,t.transaction(i,r))}catch(t){throw new Ac(n,t)}}}]),e}(),Cc=function(){function e(t,n,r){h(this,e),this.name=t,this.version=n,this.bt=r,12.2===e.vt(D())&&da("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return p(e,[{key:"xt",value:function(){var e=H(Y().mark((function e(t){var n=this;return Y().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.db,e.t0){e.next=6;break}return ha("SimpleDb","Opening database:",this.name),e.next=5,new Promise((function(e,r){var i=indexedDB.open(n.name,n.version);i.onsuccess=function(t){var n=t.target.result;e(n)},i.onblocked=function(){r(new Ac(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=function(e){var n=e.target.error;"VersionError"===n.name?r(new wa(ka.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):"InvalidStateError"===n.name?r(new wa(ka.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+n)):r(new Ac(t,n))},i.onupgradeneeded=function(e){ha("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',e.oldVersion);var t=e.target.result;n.bt.kt(t,i.transaction,e.oldVersion,n.version).next((function(){ha("SimpleDb","Database upgrade to version "+n.version+" complete")}))}}));case 5:this.db=e.sent;case 6:return this.Ot&&(this.db.onversionchange=function(e){return n.Ot(e)}),e.abrupt("return",this.db);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"Mt",value:function(e){this.Ot=e,this.db&&(this.db.onversionchange=function(t){return e(t)})}},{key:"runTransaction",value:function(){var e=H(Y().mark((function e(t,n,r,i){var a,o,u,s,c=this;return Y().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a="readonly"===n,o=0;case 2:return++o,e.prev=3,e.delegateYield(Y().mark((function e(){var n,o;return Y().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c.xt(t);case 2:return c.db=e.sent,n=Tc.open(c.db,t,a?"readonly":"readwrite",r),o=i(n).next((function(e){return n.Pt(),e})).catch((function(e){return n.abort(e),Ic.reject(e)})).toPromise(),o.catch((function(){})),e.next=7,n.Rt;case 7:return e.t0=o,e.abrupt("return",{v:e.t0});case 9:case"end":return e.stop()}}),e)}))(),"t0",5);case 5:if("object"!==typeof(u=e.t0)){e.next=8;break}return e.abrupt("return",u.v);case 8:e.next=15;break;case 10:if(e.prev=10,e.t1=e.catch(3),s="FirebaseError"!==e.t1.name&&o<3,ha("SimpleDb","Transaction failed with error:",e.t1.message,"Retrying:",s),this.close(),s){e.next=15;break}return e.abrupt("return",Promise.reject(e.t1));case 15:e.next=2;break;case 17:case"end":return e.stop()}}),e,this,[[3,10]])})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"close",value:function(){this.db&&this.db.close(),this.db=void 0}}],[{key:"delete",value:function(e){return ha("SimpleDb","Removing database:",e),Dc(window.indexedDB.deleteDatabase(e)).toPromise()}},{key:"Vt",value:function(){if("object"!==typeof indexedDB)return!1;if(e.St())return!0;var t=D(),n=e.vt(t),r=0<n&&n<10,i=e.Dt(t),a=0<i&&i<4.5;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0||r||a)}},{key:"St",value:function(){var e;return"undefined"!=typeof process&&"YES"===(null===(e={NODE_ENV:"production",PUBLIC_URL:"/god-gun-app",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0})||void 0===e?void 0:e.Ct)}},{key:"Nt",value:function(e,t){return e.store(t)}},{key:"vt",value:function(e){var t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(n)}},{key:"Dt",value:function(e){var t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}}]),e}(),_c=function(){function e(t){h(this,e),this.$t=t,this.Ft=!1,this.Bt=null}return p(e,[{key:"isDone",get:function(){return this.Ft}},{key:"Lt",get:function(){return this.Bt}},{key:"cursor",set:function(e){this.$t=e}},{key:"done",value:function(){this.Ft=!0}},{key:"Ut",value:function(e){this.Bt=e}},{key:"delete",value:function(){return Dc(this.$t.delete())}}]),e}(),Ac=function(e){g(n,e);var t=E(n);function n(e,r){var i;return h(this,n),(i=t.call(this,ka.UNAVAILABLE,"IndexedDB transaction '".concat(e,"' failed: ").concat(r))).name="IndexedDbTransactionError",i}return p(n)}(wa);function Nc(e){return"IndexedDbTransactionError"===e.name}var Oc=function(){function e(t){h(this,e),this.store=t}return p(e,[{key:"put",value:function(e,t){var n;return void 0!==t?(ha("SimpleDb","PUT",this.store.name,e,t),n=this.store.put(t,e)):(ha("SimpleDb","PUT",this.store.name,"<auto-key>",e),n=this.store.put(e)),Dc(n)}},{key:"add",value:function(e){return ha("SimpleDb","ADD",this.store.name,e,e),Dc(this.store.add(e))}},{key:"get",value:function(e){var t=this;return Dc(this.store.get(e)).next((function(n){return void 0===n&&(n=null),ha("SimpleDb","GET",t.store.name,e,n),n}))}},{key:"delete",value:function(e){return ha("SimpleDb","DELETE",this.store.name,e),Dc(this.store.delete(e))}},{key:"count",value:function(){return ha("SimpleDb","COUNT",this.store.name),Dc(this.store.count())}},{key:"qt",value:function(e,t){var n=this.options(e,t);if(n.index||"function"!=typeof this.store.getAll){var r=this.cursor(n),i=[];return this.Kt(r,(function(e,t){i.push(t)})).next((function(){return i}))}var a=this.store.getAll(n.range);return new Ic((function(e,t){a.onerror=function(e){t(e.target.error)},a.onsuccess=function(t){e(t.target.result)}}))}},{key:"Gt",value:function(e,t){ha("SimpleDb","DELETE ALL",this.store.name);var n=this.options(e,t);n.jt=!1;var r=this.cursor(n);return this.Kt(r,(function(e,t,n){return n.delete()}))}},{key:"Qt",value:function(e,t){var n;t?n=e:(n={},t=e);var r=this.cursor(n);return this.Kt(r,t)}},{key:"Wt",value:function(e){var t=this.cursor({});return new Ic((function(n,r){t.onerror=function(e){var t=Lc(e.target.error);r(t)},t.onsuccess=function(t){var r=t.target.result;r?e(r.primaryKey,r.value).next((function(e){e?r.continue():n()})):n()}}))}},{key:"Kt",value:function(e,t){var n=[];return new Ic((function(r,i){e.onerror=function(e){i(e.target.error)},e.onsuccess=function(e){var i=e.target.result;if(i){var a=new _c(i),o=t(i.primaryKey,i.value,a);if(o instanceof Ic){var u=o.catch((function(e){return a.done(),Ic.reject(e)}));n.push(u)}a.isDone?r():null===a.Lt?i.continue():i.continue(a.Lt)}else r()}})).next((function(){return Ic.waitFor(n)}))}},{key:"options",value:function(e,t){var n;return void 0!==e&&("string"==typeof e?n=e:t=e),{index:n,range:t}}},{key:"cursor",value:function(e){var t="next";if(e.reverse&&(t="prev"),e.index){var n=this.store.index(e.index);return e.jt?n.openKeyCursor(e.range,t):n.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}]),e}();function Dc(e){return new Ic((function(t,n){e.onsuccess=function(e){var n=e.target.result;t(n)},e.onerror=function(e){var t=Lc(e.target.error);n(t)}}))}var Pc=!1;function Lc(e){var t=Cc.vt(D());if(t>=12.2&&t<13){var n="An internal error was encountered in the Indexed Database server";if(e.message.indexOf(n)>=0){var r=new wa("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '".concat(n,"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround."));return Pc||(Pc=!0,setTimeout((function(){throw r}),0)),r}}return e}var Rc=function(e){g(n,e);var t=E(n);function n(e,r){var i;return h(this,n),(i=t.call(this)).zt=e,i.currentSequenceNumber=r,i}return p(n)}(Sc);function Mc(e,t){var n=ga(e);return Cc.Nt(n.zt,t)}var Fc=function(){function e(t,n,r,i){h(this,e),this.batchId=t,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}return p(e,[{key:"applyToRemoteDocument",value:function(e,t){for(var n=t.mutationResults,r=0;r<this.mutations.length;r++){var i=this.mutations[r];i.key.isEqual(e.key)&&Ou(i,e,n[r])}}},{key:"applyToLocalView",value:function(e){var t,n=v(this.baseMutations);try{for(n.s();!(t=n.n()).done;){var r=t.value;r.key.isEqual(e.key)&&Du(r,e,this.localWriteTime)}}catch(u){n.e(u)}finally{n.f()}var i,a=v(this.mutations);try{for(a.s();!(i=a.n()).done;){var o=i.value;o.key.isEqual(e.key)&&Du(o,e,this.localWriteTime)}}catch(u){a.e(u)}finally{a.f()}}},{key:"applyToLocalDocumentSet",value:function(e){var t=this;this.mutations.forEach((function(n){var r=e.get(n.key),i=r;t.applyToLocalView(i),r.isValidDocument()||i.convertToNoDocument(Fa.min())}))}},{key:"keys",value:function(){return this.mutations.reduce((function(e,t){return e.add(t.key)}),os())}},{key:"isEqual",value:function(e){return this.batchId===e.batchId&&La(this.mutations,e.mutations,(function(e,t){return Lu(e,t)}))&&La(this.baseMutations,e.baseMutations,(function(e,t){return Lu(e,t)}))}}]),e}(),jc=function(){function e(t,n,r,i){h(this,e),this.batch=t,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}return p(e,null,[{key:"from",value:function(t,n,r){ma(t.mutations.length===r.length);for(var i=is,a=t.mutations,o=0;o<a.length;o++)i=i.insert(a[o].key,r[o].version);return new e(t,n,r,i)}}]),e}(),Bc=function(){function e(t,n){h(this,e),this.largestBatchId=t,this.mutation=n}return p(e,[{key:"getKey",value:function(){return this.mutation.key}},{key:"isEqual",value:function(e){return null!==e&&this.mutation===e.mutation}},{key:"toString",value:function(){return"Overlay{\n      largestBatchId: ".concat(this.largestBatchId,",\n      mutation: ").concat(this.mutation.toString(),"\n    }")}}]),e}(),Uc=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Fa.min(),o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:Fa.min(),u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:Qa.EMPTY_BYTE_STRING;h(this,e),this.target=t,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=u}return p(e,[{key:"withSequenceNumber",value:function(t){return new e(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}},{key:"withResumeToken",value:function(t,n){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t)}},{key:"withLastLimboFreeSnapshotVersion",value:function(t){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken)}}]),e}(),Vc=p((function e(t){h(this,e),this.Ht=t}));function qc(e,t){var n;if(t.document)n=Ls(e.Ht,t.document,!!t.hasCommittedMutations);else if(t.noDocument){var r=ao.fromSegments(t.noDocument.path),i=Hc(t.noDocument.readTime);n=So.newNoDocument(r,i),t.hasCommittedMutations&&n.setHasCommittedMutations()}else{if(!t.unknownDocument)return ya();var a=ao.fromSegments(t.unknownDocument.path),o=Hc(t.unknownDocument.version);n=So.newUnknownDocument(a,o)}return t.readTime&&n.setReadTime(Gc(t.readTime)),n}function zc(e,t){var n=Kc(t.readTime),r=t.key.path.popLast().toArray();if(t.isFoundDocument()){var i=function(e,t){return{name:Cs(e,t.key),fields:t.data.value.mapValue.fields,updateTime:bs(e,t.version.toTimestamp())}}(e.Ht,t),a=t.hasCommittedMutations;return new uc(null,null,i,a,n,r)}if(t.isNoDocument()){var o=t.key.path.toArray(),u=Qc(t.version),s=t.hasCommittedMutations;return new uc(null,new ac(o,u),null,s,n,r)}if(t.isUnknownDocument()){var c=t.key.path.toArray(),l=Qc(t.version);return new uc(new oc(c,l),null,null,!0,n,r)}return ya()}function Kc(e){var t=e.toTimestamp();return[t.seconds,t.nanoseconds]}function Gc(e){var t=new Ma(e[0],e[1]);return Fa.fromTimestamp(t)}function Qc(e){var t=e.toTimestamp();return new ec(t.seconds,t.nanoseconds)}function Hc(e){var t=new Ma(e.seconds,e.nanoseconds);return Fa.fromTimestamp(t)}function Wc(e,t){for(var n=(t.baseMutations||[]).map((function(t){return Fs(e.Ht,t)})),r=0;r<t.mutations.length-1;++r){var i=t.mutations[r];if(r+1<t.mutations.length&&void 0!==t.mutations[r+1].transform){var a=t.mutations[r+1];i.updateTransforms=a.transform.fieldTransforms,t.mutations.splice(r+1,1),++r}}var o=t.mutations.map((function(t){return Fs(e.Ht,t)})),u=Ma.fromMillis(t.localWriteTimeMs);return new Fc(t.batchId,u,n,o)}function Yc(e){var t,n,r=Hc(e.readTime),i=void 0!==e.lastLimboFreeSnapshotVersion?Hc(e.lastLimboFreeSnapshotVersion):Fa.min();return void 0!==e.query.documents?(ma(1===(n=e.query).documents.length),t=ru(Xo(Ns(n.documents[0])))):t=function(e){return ru(Us(e))}(e.query),new Uc(t,e.targetId,0,e.lastListenSequenceNumber,r,i,Qa.fromBase64String(e.resumeToken))}function Xc(e,t){var n,r=Qc(t.snapshotVersion),i=Qc(t.lastLimboFreeSnapshotVersion);n=Po(t.target)?js(e.Ht,t.target):Bs(e.Ht,t.target);var a=t.resumeToken.toBase64();return new cc(t.targetId,Oo(t.target),r,a,t.sequenceNumber,i,n)}function Jc(e){var t=Us({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?iu(t,t.limit,"L"):t}function $c(e,t){return new Bc(t.largestBatchId,Fs(e.Ht,t.overlayMutation))}function Zc(e,t){var n=t.path.lastSegment();return[e,Xs(t.path.popLast()),n]}var el=function(){function e(){h(this,e)}return p(e,[{key:"getBundleMetadata",value:function(e,t){return tl(e).get(t).next((function(e){if(e)return{id:(t=e).bundleId,createTime:Hc(t.createTime),version:t.version};var t}))}},{key:"saveBundleMetadata",value:function(e,t){return tl(e).put({bundleId:(n=t).id,createTime:Qc(Ss(n.createTime)),version:n.version});var n}},{key:"getNamedQuery",value:function(e,t){return nl(e).get(t).next((function(e){if(e)return{name:(t=e).name,query:Jc(t.bundledQuery),readTime:Hc(t.readTime)};var t}))}},{key:"saveNamedQuery",value:function(e,t){return nl(e).put(function(e){return{name:e.name,readTime:Qc(Ss(e.readTime)),bundledQuery:e.bundledQuery}}(t))}}]),e}();function tl(e){return Mc(e,pc.store)}function nl(e){return Mc(e,vc.store)}var rl=function(){function e(t,n){h(this,e),this.O=t,this.userId=n}return p(e,[{key:"getOverlay",value:function(e,t){var n=this;return il(e).get(Zc(this.userId,t)).next((function(e){return e?$c(n.O,e):null}))}},{key:"saveOverlays",value:function(e,t,n){var r=this,i=[];return n.forEach((function(n){var a=new Bc(t,n);i.push(r.Yt(e,a))})),Ic.waitFor(i)}},{key:"removeOverlaysForBatchId",value:function(e,t,n){var r=this,i=new Set;t.forEach((function(e){return i.add(Xs(e.getCollectionPath()))}));var a=[];return i.forEach((function(t){var i=IDBKeyRange.bound([r.userId,t,n],[r.userId,t,n+1],!1,!0);a.push(il(e).Gt(kc.collectionPathOverlayIndex,i))})),Ic.waitFor(a)}},{key:"getOverlaysForCollection",value:function(e,t,n){var r=this,i=new Map,a=Xs(t),o=IDBKeyRange.bound([this.userId,a,n],[this.userId,a,Number.POSITIVE_INFINITY],!0);return il(e).qt(kc.collectionPathOverlayIndex,o).next((function(e){var t,n=v(e);try{for(n.s();!(t=n.n()).done;){var a=t.value,o=$c(r.O,a);i.set(o.getKey(),o)}}catch(u){n.e(u)}finally{n.f()}return i}))}},{key:"getOverlaysForCollectionGroup",value:function(e,t,n,r){var i,a=this,o=new Map,u=IDBKeyRange.bound([this.userId,t,n],[this.userId,t,Number.POSITIVE_INFINITY],!0);return il(e).Qt({index:kc.collectionGroupOverlayIndex,range:u},(function(e,t,n){var u=$c(a.O,t);o.size<r||u.largestBatchId===i?(o.set(u.getKey(),u),i=u.largestBatchId):n.done()})).next((function(){return o}))}},{key:"Yt",value:function(e,t){return il(e).put(function(e,t,n){var r=o(Zc(t,n.mutation.key),3),i=(r[0],r[1]),a=r[2];return new kc(t,i,a,n.mutation.key.getCollectionGroup(),n.largestBatchId,Ms(e.Ht,n.mutation))}(this.O,this.userId,t))}}],[{key:"Jt",value:function(t,n){return new e(t,n.uid||"")}}]),e}();function il(e){return Mc(e,kc.store)}var al=function(){function e(){h(this,e)}return p(e,[{key:"Xt",value:function(e,t){this.Zt(e,t),t.te()}},{key:"Zt",value:function(e,t){if("nullValue"in e)this.ee(t,5);else if("booleanValue"in e)this.ee(t,10),t.ne(e.booleanValue?1:0);else if("integerValue"in e)this.ee(t,15),t.ne(Ya(e.integerValue));else if("doubleValue"in e){var n=Ya(e.doubleValue);isNaN(n)?this.ee(t,13):(this.ee(t,15),ro(n)?t.ne(0):t.ne(n))}else if("timestampValue"in e){var r=e.timestampValue;this.ee(t,20),"string"==typeof r?t.se(r):(t.se("".concat(r.seconds||"")),t.ne(r.nanos||0))}else if("stringValue"in e)this.ie(e.stringValue,t),this.re(t);else if("bytesValue"in e)this.ee(t,30),t.oe(Xa(e.bytesValue)),this.re(t);else if("referenceValue"in e)this.ce(e.referenceValue,t);else if("geoPointValue"in e){var i=e.geoPointValue;this.ee(t,45),t.ne(i.latitude||0),t.ne(i.longitude||0)}else"mapValue"in e?so(e,oo)?this.ee(t,Number.MAX_SAFE_INTEGER):(this.ue(e.mapValue,t),this.re(t)):"arrayValue"in e?(this.ae(e.arrayValue,t),this.re(t)):ya()}},{key:"ie",value:function(e,t){this.ee(t,25),this.he(e,t)}},{key:"he",value:function(e,t){t.se(e)}},{key:"ue",value:function(e,t){var n=e.fields||{};this.ee(t,55);for(var r=0,i=Object.keys(n);r<i.length;r++){var a=i[r];this.ie(a,t),this.Zt(n[a],t)}}},{key:"ae",value:function(e,t){var n=e.values||[];this.ee(t,50);var r,i=v(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;this.Zt(a,t)}}catch(o){i.e(o)}finally{i.f()}}},{key:"ce",value:function(e,t){var n=this;this.ee(t,37),ao.fromName(e).path.forEach((function(e){n.ee(t,60),n.he(e,t)}))}},{key:"ee",value:function(e,t){e.ne(t)}},{key:"re",value:function(e){e.ne(2)}}]),e}();function ol(e){if(0===e)return 8;var t=0;return e>>4==0&&(t+=4,e<<=4),e>>6==0&&(t+=2,e<<=2),e>>7==0&&(t+=1),t}function ul(e){var t=64-function(e){for(var t=0,n=0;n<8;++n){var r=ol(255&e[n]);if(t+=r,8!==r)break}return t}(e);return Math.ceil(t/8)}al.le=new al;var sl=function(){function e(){h(this,e),this.buffer=new Uint8Array(1024),this.position=0}return p(e,[{key:"fe",value:function(e){for(var t=e[Symbol.iterator](),n=t.next();!n.done;)this.de(n.value),n=t.next();this._e()}},{key:"we",value:function(e){for(var t=e[Symbol.iterator](),n=t.next();!n.done;)this.me(n.value),n=t.next();this.ge()}},{key:"ye",value:function(e){var t,n=v(e);try{for(n.s();!(t=n.n()).done;){var r=t.value,i=r.charCodeAt(0);if(i<128)this.de(i);else if(i<2048)this.de(960|i>>>6),this.de(128|63&i);else if(r<"\ud800"||"\udbff"<r)this.de(480|i>>>12),this.de(128|63&i>>>6),this.de(128|63&i);else{var a=r.codePointAt(0);this.de(240|a>>>18),this.de(128|63&a>>>12),this.de(128|63&a>>>6),this.de(128|63&a)}}}catch(o){n.e(o)}finally{n.f()}this._e()}},{key:"pe",value:function(e){var t,n=v(e);try{for(n.s();!(t=n.n()).done;){var r=t.value,i=r.charCodeAt(0);if(i<128)this.me(i);else if(i<2048)this.me(960|i>>>6),this.me(128|63&i);else if(r<"\ud800"||"\udbff"<r)this.me(480|i>>>12),this.me(128|63&i>>>6),this.me(128|63&i);else{var a=r.codePointAt(0);this.me(240|a>>>18),this.me(128|63&a>>>12),this.me(128|63&a>>>6),this.me(128|63&a)}}}catch(o){n.e(o)}finally{n.f()}this.ge()}},{key:"Ie",value:function(e){var t=this.Ee(e),n=ul(t);this.Te(1+n),this.buffer[this.position++]=255&n;for(var r=t.length-n;r<t.length;++r)this.buffer[this.position++]=255&t[r]}},{key:"Ae",value:function(e){var t=this.Ee(e),n=ul(t);this.Te(1+n),this.buffer[this.position++]=~(255&n);for(var r=t.length-n;r<t.length;++r)this.buffer[this.position++]=~(255&t[r])}},{key:"Re",value:function(){this.Pe(255),this.Pe(255)}},{key:"be",value:function(){this.ve(255),this.ve(255)}},{key:"reset",value:function(){this.position=0}},{key:"seed",value:function(e){this.Te(e.length),this.buffer.set(e,this.position),this.position+=e.length}},{key:"Ve",value:function(){return this.buffer.slice(0,this.position)}},{key:"Ee",value:function(e){var t=function(e){var t=new DataView(new ArrayBuffer(8));return t.setFloat64(0,e,!1),new Uint8Array(t.buffer)}(e),n=0!=(128&t[0]);t[0]^=n?255:128;for(var r=1;r<t.length;++r)t[r]^=n?255:0;return t}},{key:"de",value:function(e){var t=255&e;0===t?(this.Pe(0),this.Pe(255)):255===t?(this.Pe(255),this.Pe(0)):this.Pe(t)}},{key:"me",value:function(e){var t=255&e;0===t?(this.ve(0),this.ve(255)):255===t?(this.ve(255),this.ve(0)):this.ve(e)}},{key:"_e",value:function(){this.Pe(0),this.Pe(1)}},{key:"ge",value:function(){this.ve(0),this.ve(1)}},{key:"Pe",value:function(e){this.Te(1),this.buffer[this.position++]=e}},{key:"ve",value:function(e){this.Te(1),this.buffer[this.position++]=~e}},{key:"Te",value:function(e){var t=e+this.position;if(!(t<=this.buffer.length)){var n=2*this.buffer.length;n<t&&(n=t);var r=new Uint8Array(n);r.set(this.buffer),this.buffer=r}}}]),e}(),cl=function(){function e(t){h(this,e),this.Se=t}return p(e,[{key:"oe",value:function(e){this.Se.fe(e)}},{key:"se",value:function(e){this.Se.ye(e)}},{key:"ne",value:function(e){this.Se.Ie(e)}},{key:"te",value:function(){this.Se.Re()}}]),e}(),ll=function(){function e(t){h(this,e),this.Se=t}return p(e,[{key:"oe",value:function(e){this.Se.we(e)}},{key:"se",value:function(e){this.Se.pe(e)}},{key:"ne",value:function(e){this.Se.Ae(e)}},{key:"te",value:function(){this.Se.be()}}]),e}(),fl=function(){function e(){h(this,e),this.Se=new sl,this.De=new cl(this.Se),this.Ce=new ll(this.Se)}return p(e,[{key:"seed",value:function(e){this.Se.seed(e)}},{key:"Ne",value:function(e){return 0===e?this.De:this.Ce}},{key:"Ve",value:function(){return this.Se.Ve()}},{key:"reset",value:function(){this.Se.reset()}}]),e}(),hl=p((function e(t,n,r,i){h(this,e),this.indexId=t,this.documentKey=n,this.arrayValue=r,this.directionalValue=i}));function dl(e,t){var n=e.indexId-t.indexId;return 0!==n?n:0!==(n=ao.comparator(e.documentKey,t.documentKey))?n:0!==(n=pl(e.arrayValue,t.arrayValue))?n:pl(e.directionalValue,t.directionalValue)}function pl(e,t){for(var n=0;n<e.length&&n<t.length;++n){var r=e[n]-t[n];if(0!==r)return r}return e.length-t.length}var vl=function(){function e(){h(this,e),this.xe=new yl}return p(e,[{key:"addToCollectionParentIndex",value:function(e,t){return this.xe.add(t),Ic.resolve()}},{key:"getCollectionParents",value:function(e,t){return Ic.resolve(this.xe.getEntries(t))}},{key:"addFieldIndex",value:function(e,t){return Ic.resolve()}},{key:"deleteFieldIndex",value:function(e,t){return Ic.resolve()}},{key:"getDocumentsMatchingTarget",value:function(e,t,n){return Ic.resolve(os())}},{key:"getFieldIndex",value:function(e,t){return Ic.resolve(null)}},{key:"getFieldIndexes",value:function(e,t){return Ic.resolve([])}},{key:"getNextCollectionGroupToUpdate",value:function(e){return Ic.resolve(null)}},{key:"updateCollectionGroup",value:function(e,t,n){return Ic.resolve()}},{key:"updateIndexEntries",value:function(e,t){return Ic.resolve()}}]),e}(),yl=function(){function e(){h(this,e),this.index={}}return p(e,[{key:"add",value:function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new Ju(qa.comparator),i=!r.has(n);return this.index[t]=r.add(n),i}},{key:"has",value:function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}},{key:"getEntries",value:function(e){return(this.index[e]||new Ju(qa.comparator)).toArray()}}]),e}(),ml=function(){function e(t){h(this,e),this.user=t,this.ke=new yl,this.uid=t.uid||""}return p(e,[{key:"addToCollectionParentIndex",value:function(e,t){var n=this;if(!this.ke.has(t)){var r=t.lastSegment(),i=t.popLast();e.addOnCommittedListener((function(){n.ke.add(t)}));var a={collectionId:r,parent:Xs(i)};return gl(e).put(a)}return Ic.resolve()}},{key:"getCollectionParents",value:function(e,t){var n=[],r=IDBKeyRange.bound([t,""],[Ra(t),""],!1,!0);return gl(e).qt(r).next((function(e){var r,i=v(e);try{for(i.s();!(r=i.n()).done;){var a=r.value;if(a.collectionId!==t)break;n.push(Zs(a.parent))}}catch(o){i.e(o)}finally{i.f()}return n}))}},{key:"addFieldIndex",value:function(e,t){var n=wl(e),r=function(e){return new yc(e.indexId,e.collectionGroup,e.fields.map((function(e){return[e.fieldPath.canonicalString(),e.kind]})))}(t);return delete r.indexId,n.add(r).next()}},{key:"deleteFieldIndex",value:function(e,t){var n=wl(e),r=bl(e),i=kl(e);return n.delete(t.indexId).next((function(){return r.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))})).next((function(){return i.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))}))}},{key:"getDocumentsMatchingTarget",value:function(e,t,n){return Ic.resolve(os())}},{key:"getFieldIndex",value:function(e,t){return Ic.resolve(null)}},{key:"Oe",value:function(e,t){var n,r=new fl,i=v(function(e){return e.fields.filter((function(e){return 2!==e.kind}))}(e));try{for(i.s();!(n=i.n()).done;){var a=n.value,o=t.data.field(a.fieldPath);if(null==o)return null;var u=r.Ne(a.kind);al.le.Xt(o,u)}}catch(s){i.e(s)}finally{i.f()}return r.Ve()}},{key:"Me",value:function(e){var t=new fl;return al.le.Xt(e,t.Ne(0)),t.Ve()}},{key:"getFieldIndexes",value:function(e,t){var n=this,r=wl(e),i=bl(e);return(t?r.qt(yc.collectionGroupIndex,IDBKeyRange.bound(t,t)):r.qt()).next((function(e){var t=[];return Ic.forEach(e,(function(e){return i.get([e.indexId,n.uid]).next((function(n){t.push(function(e,t){var n=t?new Co(t.sequenceNumber,new _o(Hc(t.readTime),new ao(Zs(t.documentKey)),t.largestBatchId)):Co.empty(),r=e.fields.map((function(e){var t=o(e,2),n=t[0],r=t[1];return new To(Ka.fromServerFormat(n),r)}));return new Io(e.indexId,e.collectionGroup,r,n)}(e,n))}))})).next((function(){return t}))}))}},{key:"getNextCollectionGroupToUpdate",value:function(e){return this.getFieldIndexes(e).next((function(e){return 0===e.length?null:(e.sort((function(e,t){return e.indexState.sequenceNumber-t.indexState.sequenceNumber})),e[0].collectionGroup)}))}},{key:"updateCollectionGroup",value:function(e,t,n){var r=this,i=wl(e),a=bl(e);return this.$e(e).next((function(e){return i.qt(yc.collectionGroupIndex,IDBKeyRange.bound(t,t)).next((function(t){return Ic.forEach(t,(function(t){return a.put(function(e,t,n,r){return new mc(e,t.uid||"",n,Qc(r.readTime),Xs(r.documentKey.path),r.largestBatchId)}(t.indexId,r.user,e,n))}))}))}))}},{key:"updateIndexEntries",value:function(e,t){var n=this,r=new Map;return Ic.forEach(t,(function(t,i){var a=r.get(t.collectionGroup);return(a?Ic.resolve(a):n.getFieldIndexes(e,t.collectionGroup)).next((function(a){return r.set(t.collectionGroup,a),Ic.forEach(a,(function(r){return n.Fe(e,t,r).next((function(t){var a=n.Be(i,r);return t.isEqual(a)?Ic.resolve():n.Le(e,i,t,a)}))}))}))}))}},{key:"Ue",value:function(e,t,n){return kl(e).put(new gc(n.indexId,this.uid,n.arrayValue,n.directionalValue,Xs(t.key.path)))}},{key:"qe",value:function(e,t,n){return kl(e).delete([n.indexId,this.uid,n.arrayValue,n.directionalValue,Xs(t.key.path)])}},{key:"Fe",value:function(e,t,n){var r=kl(e),i=new Ju(dl);return r.Qt({index:gc.documentKeyIndex,range:IDBKeyRange.only([n.indexId,this.uid,Xs(t.path)])},(function(e,r){i=i.add(new hl(n.indexId,t,r.arrayValue,r.directionalValue))})).next((function(){return i}))}},{key:"Be",value:function(e,t){var n=new Ju(dl),r=this.Oe(t,e);if(null==r)return n;var i=function(e){return e.fields.find((function(e){return 2===e.kind}))}(t);if(null!=i){var a=e.data.field(i.fieldPath);if(mo(a)){var o,u=v(a.arrayValue.values||[]);try{for(u.s();!(o=u.n()).done;){var s=o.value;n=n.add(new hl(t.indexId,e.key,this.Me(s),r))}}catch(c){u.e(c)}finally{u.f()}}}else n=n.add(new hl(t.indexId,e.key,new Uint8Array,r));return n}},{key:"Le",value:function(e,t,n,r){var i=this;ha("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);var a=[];return function(e,t,n,r,i){for(var a=e.getIterator(),o=t.getIterator(),u=Zu(a),s=Zu(o);u||s;){var c=!1,l=!1;if(u&&s){var f=n(u,s);f<0?l=!0:f>0&&(c=!0)}else null!=u?l=!0:c=!0;c?(r(s),s=Zu(o)):l?(i(u),u=Zu(a)):(u=Zu(a),s=Zu(o))}}(n,r,dl,(function(n){a.push(i.Ue(e,t,n))}),(function(n){a.push(i.qe(e,t,n))})),Ic.waitFor(a)}},{key:"$e",value:function(e){var t=1;return bl(e).Qt({index:mc.sequenceNumberIndex,reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(function(e,n,r){r.done(),t=n.sequenceNumber+1})).next((function(){return t}))}}]),e}();function gl(e){return Mc(e,hc.store)}function kl(e){return Mc(e,gc.store)}function wl(e){return Mc(e,yc.store)}function bl(e){return Mc(e,mc.store)}var xl={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},El=function(){function e(t,n,r){h(this,e),this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}return p(e,null,[{key:"withCacheSize",value:function(t){return new e(t,e.DEFAULT_COLLECTION_PERCENTILE,e.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}]),e}();function Sl(e,t,n){var r=e.store(rc.store),i=e.store(ic.store),a=[],o=IDBKeyRange.only(n.batchId),u=0,s=r.Qt({range:o},(function(e,t,n){return u++,n.delete()}));a.push(s.next((function(){ma(1===u)})));var c,l=[],f=v(n.mutations);try{for(f.s();!(c=f.n()).done;){var h=c.value,d=ic.key(t,h.key.path,n.batchId);a.push(i.delete(d)),l.push(h.key)}}catch(p){f.e(p)}finally{f.f()}return Ic.waitFor(a).next((function(){return l}))}function Il(e){if(!e)return 0;var t;if(e.document)t=e.document;else if(e.unknownDocument)t=e.unknownDocument;else{if(!e.noDocument)throw ya();t=e.noDocument}return JSON.stringify(t).length}El.DEFAULT_COLLECTION_PERCENTILE=10,El.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,El.DEFAULT=new El(41943040,El.DEFAULT_COLLECTION_PERCENTILE,El.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),El.DISABLED=new El(-1,0,0);var Tl=function(){function e(t,n,r,i){h(this,e),this.userId=t,this.O=n,this.indexManager=r,this.referenceDelegate=i,this.Ke={}}return p(e,[{key:"checkEmpty",value:function(e){var t=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return _l(e).Qt({index:rc.userMutationsIndex,range:n},(function(e,n,r){t=!1,r.done()})).next((function(){return t}))}},{key:"addMutationBatch",value:function(e,t,n,r){var i=this,a=Al(e),o=_l(e);return o.add({}).next((function(u){ma("number"==typeof u);var s,c=new Fc(u,t,n,r),l=function(e,t,n){var r=n.baseMutations.map((function(t){return Ms(e.Ht,t)})),i=n.mutations.map((function(t){return Ms(e.Ht,t)}));return new rc(t,n.batchId,n.localWriteTime.toMillis(),r,i)}(i.O,i.userId,c),f=[],h=new Ju((function(e,t){return Pa(e.canonicalString(),t.canonicalString())})),d=v(r);try{for(d.s();!(s=d.n()).done;){var p=s.value,y=ic.key(i.userId,p.key.path,u);h=h.add(p.key.path.popLast()),f.push(o.put(l)),f.push(a.put(y,ic.PLACEHOLDER))}}catch(m){d.e(m)}finally{d.f()}return h.forEach((function(t){f.push(i.indexManager.addToCollectionParentIndex(e,t))})),e.addOnCommittedListener((function(){i.Ke[u]=c.keys()})),Ic.waitFor(f).next((function(){return c}))}))}},{key:"lookupMutationBatch",value:function(e,t){var n=this;return _l(e).get(t).next((function(e){return e?(ma(e.userId===n.userId),Wc(n.O,e)):null}))}},{key:"Ge",value:function(e,t){var n=this;return this.Ke[t]?Ic.resolve(this.Ke[t]):this.lookupMutationBatch(e,t).next((function(e){if(e){var r=e.keys();return n.Ke[t]=r,r}return null}))}},{key:"getNextMutationBatchAfterBatchId",value:function(e,t){var n=this,r=t+1,i=IDBKeyRange.lowerBound([this.userId,r]),a=null;return _l(e).Qt({index:rc.userMutationsIndex,range:i},(function(e,t,i){t.userId===n.userId&&(ma(t.batchId>=r),a=Wc(n.O,t)),i.done()})).next((function(){return a}))}},{key:"getHighestUnacknowledgedBatchId",value:function(e){var t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return _l(e).Qt({index:rc.userMutationsIndex,range:t,reverse:!0},(function(e,t,r){n=t.batchId,r.done()})).next((function(){return n}))}},{key:"getAllMutationBatches",value:function(e){var t=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return _l(e).qt(rc.userMutationsIndex,n).next((function(e){return e.map((function(e){return Wc(t.O,e)}))}))}},{key:"getAllMutationBatchesAffectingDocumentKey",value:function(e,t){var n=this,r=ic.prefixForPath(this.userId,t.path),i=IDBKeyRange.lowerBound(r),a=[];return Al(e).Qt({range:i},(function(r,i,u){var s=o(r,3),c=s[0],l=s[1],f=s[2],h=Zs(l);if(c===n.userId&&t.path.isEqual(h))return _l(e).get(f).next((function(e){if(!e)throw ya();ma(e.userId===n.userId),a.push(Wc(n.O,e))}));u.done()})).next((function(){return a}))}},{key:"getAllMutationBatchesAffectingDocumentKeys",value:function(e,t){var n=this,r=new Ju(Pa),i=[];return t.forEach((function(t){var a=ic.prefixForPath(n.userId,t.path),u=IDBKeyRange.lowerBound(a),s=Al(e).Qt({range:u},(function(e,i,a){var u=o(e,3),s=u[0],c=u[1],l=u[2],f=Zs(c);s===n.userId&&t.path.isEqual(f)?r=r.add(l):a.done()}));i.push(s)})),Ic.waitFor(i).next((function(){return n.je(e,r)}))}},{key:"getAllMutationBatchesAffectingQuery",value:function(e,t){var n=this,r=t.path,i=r.length+1,a=ic.prefixForPath(this.userId,r),u=IDBKeyRange.lowerBound(a),s=new Ju(Pa);return Al(e).Qt({range:u},(function(e,t,a){var u=o(e,3),c=u[0],l=u[1],f=u[2],h=Zs(l);c===n.userId&&r.isPrefixOf(h)?h.length===i&&(s=s.add(f)):a.done()})).next((function(){return n.je(e,s)}))}},{key:"je",value:function(e,t){var n=this,r=[],i=[];return t.forEach((function(t){i.push(_l(e).get(t).next((function(e){if(null===e)throw ya();ma(e.userId===n.userId),r.push(Wc(n.O,e))})))})),Ic.waitFor(i).next((function(){return r}))}},{key:"removeMutationBatch",value:function(e,t){var n=this;return Sl(e.zt,this.userId,t).next((function(r){return e.addOnCommittedListener((function(){n.Qe(t.batchId)})),Ic.forEach(r,(function(t){return n.referenceDelegate.markPotentiallyOrphaned(e,t)}))}))}},{key:"Qe",value:function(e){delete this.Ke[e]}},{key:"performConsistencyCheck",value:function(e){var t=this;return this.checkEmpty(e).next((function(n){if(!n)return Ic.resolve();var r=IDBKeyRange.lowerBound(ic.prefixForUser(t.userId)),i=[];return Al(e).Qt({range:r},(function(e,n,r){if(e[0]===t.userId){var a=Zs(e[1]);i.push(a)}else r.done()})).next((function(){ma(0===i.length)}))}))}},{key:"containsKey",value:function(e,t){return Cl(e,this.userId,t)}},{key:"We",value:function(e){var t=this;return Nl(e).get(this.userId).next((function(e){return e||new nc(t.userId,-1,"")}))}}],[{key:"Jt",value:function(t,n,r,i){return ma(""!==t.uid),new e(t.isAuthenticated()?t.uid:"",n,r,i)}}]),e}();function Cl(e,t,n){var r=ic.prefixForPath(t,n.path),i=r[1],a=IDBKeyRange.lowerBound(r),u=!1;return Al(e).Qt({range:a,jt:!0},(function(e,n,r){var a=o(e,3),s=a[0],c=a[1];a[2];s===t&&c===i&&(u=!0),r.done()})).next((function(){return u}))}function _l(e){return Mc(e,rc.store)}function Al(e){return Mc(e,ic.store)}function Nl(e){return Mc(e,nc.store)}var Ol=function(){function e(t){h(this,e),this.ze=t}return p(e,[{key:"next",value:function(){return this.ze+=2,this.ze}}],[{key:"He",value:function(){return new e(0)}},{key:"Je",value:function(){return new e(-1)}}]),e}(),Dl=function(){function e(t,n){h(this,e),this.referenceDelegate=t,this.O=n}return p(e,[{key:"allocateTargetId",value:function(e){var t=this;return this.Ye(e).next((function(n){var r=new Ol(n.highestTargetId);return n.highestTargetId=r.next(),t.Xe(e,n).next((function(){return n.highestTargetId}))}))}},{key:"getLastRemoteSnapshotVersion",value:function(e){return this.Ye(e).next((function(e){return Fa.fromTimestamp(new Ma(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds))}))}},{key:"getHighestSequenceNumber",value:function(e){return this.Ye(e).next((function(e){return e.highestListenSequenceNumber}))}},{key:"setTargetsMetadata",value:function(e,t,n){var r=this;return this.Ye(e).next((function(i){return i.highestListenSequenceNumber=t,n&&(i.lastRemoteSnapshotVersion=n.toTimestamp()),t>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=t),r.Xe(e,i)}))}},{key:"addTargetData",value:function(e,t){var n=this;return this.Ze(e,t).next((function(){return n.Ye(e).next((function(r){return r.targetCount+=1,n.tn(t,r),n.Xe(e,r)}))}))}},{key:"updateTargetData",value:function(e,t){return this.Ze(e,t)}},{key:"removeTargetData",value:function(e,t){var n=this;return this.removeMatchingKeysForTargetId(e,t.targetId).next((function(){return Pl(e).delete(t.targetId)})).next((function(){return n.Ye(e)})).next((function(t){return ma(t.targetCount>0),t.targetCount-=1,n.Xe(e,t)}))}},{key:"removeTargets",value:function(e,t,n){var r=this,i=0,a=[];return Pl(e).Qt((function(o,u){var s=Yc(u);s.sequenceNumber<=t&&null===n.get(s.targetId)&&(i++,a.push(r.removeTargetData(e,s)))})).next((function(){return Ic.waitFor(a)})).next((function(){return i}))}},{key:"forEachTarget",value:function(e,t){return Pl(e).Qt((function(e,n){var r=Yc(n);t(r)}))}},{key:"Ye",value:function(e){return Ll(e).get(fc.key).next((function(e){return ma(null!==e),e}))}},{key:"Xe",value:function(e,t){return Ll(e).put(fc.key,t)}},{key:"Ze",value:function(e,t){return Pl(e).put(Xc(this.O,t))}},{key:"tn",value:function(e,t){var n=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,n=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,n=!0),n}},{key:"getTargetCount",value:function(e){return this.Ye(e).next((function(e){return e.targetCount}))}},{key:"getTargetData",value:function(e,t){var n=Oo(t),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]),i=null;return Pl(e).Qt({range:r,index:cc.queryTargetsIndexName},(function(e,n,r){var a=Yc(n);Do(t,a.target)&&(i=a,r.done())})).next((function(){return i}))}},{key:"addMatchingKeys",value:function(e,t,n){var r=this,i=[],a=Rl(e);return t.forEach((function(t){var o=Xs(t.path);i.push(a.put(new lc(n,o))),i.push(r.referenceDelegate.addReference(e,n,t))})),Ic.waitFor(i)}},{key:"removeMatchingKeys",value:function(e,t,n){var r=this,i=Rl(e);return Ic.forEach(t,(function(t){var a=Xs(t.path);return Ic.waitFor([i.delete([n,a]),r.referenceDelegate.removeReference(e,n,t)])}))}},{key:"removeMatchingKeysForTargetId",value:function(e,t){var n=Rl(e),r=IDBKeyRange.bound([t],[t+1],!1,!0);return n.delete(r)}},{key:"getMatchingKeysForTargetId",value:function(e,t){var n=IDBKeyRange.bound([t],[t+1],!1,!0),r=Rl(e),i=os();return r.Qt({range:n,jt:!0},(function(e,t,n){var r=Zs(e[1]),a=new ao(r);i=i.add(a)})).next((function(){return i}))}},{key:"containsKey",value:function(e,t){var n=Xs(t.path),r=IDBKeyRange.bound([n],[Ra(n)],!1,!0),i=0;return Rl(e).Qt({index:lc.documentTargetsIndex,jt:!0,range:r},(function(e,t,n){var r=o(e,2),a=r[0];r[1];0!==a&&(i++,n.done())})).next((function(){return i>0}))}},{key:"Tt",value:function(e,t){return Pl(e).get(t).next((function(e){return e?Yc(e):null}))}}]),e}();function Pl(e){return Mc(e,cc.store)}function Ll(e){return Mc(e,fc.store)}function Rl(e){return Mc(e,lc.store)}function Ml(e){return Fl.apply(this,arguments)}function Fl(){return Fl=H(Y().mark((function e(t){return Y().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.code===ka.FAILED_PRECONDITION&&t.message===Ec){e.next=2;break}throw t;case 2:ha("LocalStore","Unexpectedly lost primary lease");case 3:case"end":return e.stop()}}),e)}))),Fl.apply(this,arguments)}function jl(e,t){var n=o(e,2),r=n[0],i=n[1],a=o(t,2),u=a[0],s=a[1],c=Pa(r,u);return 0===c?Pa(i,s):c}var Bl=function(){function e(t){h(this,e),this.en=t,this.buffer=new Ju(jl),this.nn=0}return p(e,[{key:"sn",value:function(){return++this.nn}},{key:"rn",value:function(e){var t=[e,this.sn()];if(this.buffer.size<this.en)this.buffer=this.buffer.add(t);else{var n=this.buffer.last();jl(t,n)<0&&(this.buffer=this.buffer.delete(n).add(t))}}},{key:"maxValue",get:function(){return this.buffer.last()[0]}}]),e}(),Ul=function(){function e(t,n){h(this,e),this.garbageCollector=t,this.asyncQueue=n,this.on=!1,this.cn=null}return p(e,[{key:"start",value:function(e){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.un(e)}},{key:"stop",value:function(){this.cn&&(this.cn.cancel(),this.cn=null)}},{key:"started",get:function(){return null!==this.cn}},{key:"un",value:function(e){var t=this,n=this.on?3e5:6e4;ha("LruGarbageCollector","Garbage collection scheduled in ".concat(n,"ms")),this.cn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",n,H(Y().mark((function n(){return Y().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t.cn=null,t.on=!0,n.prev=1,n.next=4,e.collectGarbage(t.garbageCollector);case 4:n.next=14;break;case 6:if(n.prev=6,n.t0=n.catch(1),!Nc(n.t0)){n.next=12;break}ha("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",n.t0),n.next=14;break;case 12:return n.next=14,Ml(n.t0);case 14:return n.next=16,t.un(e);case 16:case"end":return n.stop()}}),n,null,[[1,6]])}))))}}]),e}(),Vl=function(){function e(t,n){h(this,e),this.an=t,this.params=n}return p(e,[{key:"calculateTargetCount",value:function(e,t){return this.an.hn(e).next((function(e){return Math.floor(t/100*e)}))}},{key:"nthSequenceNumber",value:function(e,t){var n=this;if(0===t)return Ic.resolve(Na.A);var r=new Bl(t);return this.an.forEachTarget(e,(function(e){return r.rn(e.sequenceNumber)})).next((function(){return n.an.ln(e,(function(e){return r.rn(e)}))})).next((function(){return r.maxValue}))}},{key:"removeTargets",value:function(e,t,n){return this.an.removeTargets(e,t,n)}},{key:"removeOrphanedDocuments",value:function(e,t){return this.an.removeOrphanedDocuments(e,t)}},{key:"collect",value:function(e,t){var n=this;return-1===this.params.cacheSizeCollectionThreshold?(ha("LruGarbageCollector","Garbage collection skipped; disabled"),Ic.resolve(xl)):this.getCacheSize(e).next((function(r){return r<n.params.cacheSizeCollectionThreshold?(ha("LruGarbageCollector","Garbage collection skipped; Cache size ".concat(r," is lower than threshold ").concat(n.params.cacheSizeCollectionThreshold)),xl):n.fn(e,t)}))}},{key:"getCacheSize",value:function(e){return this.an.getCacheSize(e)}},{key:"fn",value:function(e,t){var n,r,i,a,o,u,s,c=this,l=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((function(t){return t>c.params.maximumSequenceNumbersToCollect?(ha("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of ".concat(c.params.maximumSequenceNumbersToCollect," from ").concat(t)),r=c.params.maximumSequenceNumbersToCollect):r=t,a=Date.now(),c.nthSequenceNumber(e,r)})).next((function(r){return n=r,o=Date.now(),c.removeTargets(e,n,t)})).next((function(t){return i=t,u=Date.now(),c.removeOrphanedDocuments(e,n)})).next((function(e){return s=Date.now(),fa()<=ee.DEBUG&&ha("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in ".concat(a-l,"ms\n\tDetermined least recently used ").concat(r," in ")+(o-a)+"ms\n"+"\tRemoved ".concat(i," targets in ")+(u-o)+"ms\n"+"\tRemoved ".concat(e," documents in ")+(s-u)+"ms\n"+"Total Duration: ".concat(s-l,"ms")),Ic.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:e})}))}}]),e}(),ql=function(){function e(t,n){h(this,e),this.db=t,this.garbageCollector=function(e,t){return new Vl(e,t)}(this,n)}return p(e,[{key:"hn",value:function(e){var t=this.dn(e);return this.db.getTargetCache().getTargetCount(e).next((function(e){return t.next((function(t){return e+t}))}))}},{key:"dn",value:function(e){var t=0;return this.ln(e,(function(e){t++})).next((function(){return t}))}},{key:"forEachTarget",value:function(e,t){return this.db.getTargetCache().forEachTarget(e,t)}},{key:"ln",value:function(e,t){return this._n(e,(function(e,n){return t(n)}))}},{key:"addReference",value:function(e,t,n){return zl(e,n)}},{key:"removeReference",value:function(e,t,n){return zl(e,n)}},{key:"removeTargets",value:function(e,t,n){return this.db.getTargetCache().removeTargets(e,t,n)}},{key:"markPotentiallyOrphaned",value:function(e,t){return zl(e,t)}},{key:"wn",value:function(e,t){return function(e,t){var n=!1;return Nl(e).Wt((function(r){return Cl(e,r,t).next((function(e){return e&&(n=!0),Ic.resolve(!e)}))})).next((function(){return n}))}(e,t)}},{key:"removeOrphanedDocuments",value:function(e,t){var n=this,r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[],a=0;return this._n(e,(function(o,u){if(u<=t){var s=n.wn(e,o).next((function(t){if(!t)return a++,r.getEntry(e,o).next((function(){return r.removeEntry(o,Fa.min()),Rl(e).delete([0,Xs(o.path)])}))}));i.push(s)}})).next((function(){return Ic.waitFor(i)})).next((function(){return r.apply(e)})).next((function(){return a}))}},{key:"removeTarget",value:function(e,t){var n=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,n)}},{key:"updateLimboDocument",value:function(e,t){return zl(e,t)}},{key:"_n",value:function(e,t){var n,r=Rl(e),i=Na.A;return r.Qt({index:lc.documentTargetsIndex},(function(e,r){var a=o(e,2),u=a[0],s=(a[1],r.path),c=r.sequenceNumber;0===u?(i!==Na.A&&t(new ao(Zs(n)),i),i=c,n=s):i=Na.A})).next((function(){i!==Na.A&&t(new ao(Zs(n)),i)}))}},{key:"getCacheSize",value:function(e){return this.db.getRemoteDocumentCache().getSize(e)}}]),e}();function zl(e,t){return Rl(e).put(function(e,t){return new lc(0,Xs(e.path),t)}(t,e.currentSequenceNumber))}var Kl=function(){function e(t,n){h(this,e),this.mapKeyFn=t,this.equalsFn=n,this.inner={}}return p(e,[{key:"get",value:function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n){var r,i=v(n);try{for(i.s();!(r=i.n()).done;){var a=o(r.value,2),u=a[0],s=a[1];if(this.equalsFn(u,e))return s}}catch(c){i.e(c)}finally{i.f()}}}},{key:"has",value:function(e){return void 0!==this.get(e)}},{key:"set",value:function(e,t){var n=this.mapKeyFn(e),r=this.inner[n];if(void 0!==r){for(var i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,t]);r.push([e,t])}else this.inner[n]=[[e,t]]}},{key:"delete",value:function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),!0;return!1}},{key:"forEach",value:function(e){Ba(this.inner,(function(t,n){var r,i=v(n);try{for(i.s();!(r=i.n()).done;){var a=o(r.value,2),u=a[0],s=a[1];e(u,s)}}catch(c){i.e(c)}finally{i.f()}}))}},{key:"isEmpty",value:function(){return Ua(this.inner)}}]),e}(),Gl=function(){function e(){h(this,e),this.changes=new Kl((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),this.changesApplied=!1}return p(e,[{key:"addEntry",value:function(e){this.assertNotApplied(),this.changes.set(e.key,e)}},{key:"removeEntry",value:function(e,t){this.assertNotApplied(),this.changes.set(e,So.newInvalidDocument(e).setReadTime(t))}},{key:"getEntry",value:function(e,t){this.assertNotApplied();var n=this.changes.get(t);return void 0!==n?Ic.resolve(n):this.getFromCache(e,t)}},{key:"getEntries",value:function(e,t){return this.getAllFromCache(e,t)}},{key:"apply",value:function(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}},{key:"assertNotApplied",value:function(){}}]),e}(),Ql=function(){function e(t){h(this,e),this.O=t}return p(e,[{key:"setIndexManager",value:function(e){this.indexManager=e}},{key:"addEntry",value:function(e,t,n){return Yl(e).put(Xl(t),n)}},{key:"removeEntry",value:function(e,t){var n=Yl(e),r=Xl(t);return n.delete(r)}},{key:"updateMetadata",value:function(e,t){var n=this;return this.getMetadata(e).next((function(r){return r.byteSize+=t,n.mn(e,r)}))}},{key:"getEntry",value:function(e,t){var n=this;return Yl(e).get(Xl(t)).next((function(e){return n.gn(t,e)}))}},{key:"yn",value:function(e,t){var n=this;return Yl(e).get(Xl(t)).next((function(e){return{document:n.gn(t,e),size:Il(e)}}))}},{key:"getEntries",value:function(e,t){var n=this,r=ts();return this.pn(e,t,(function(e,t){var i=n.gn(e,t);r=r.insert(e,i)})).next((function(){return r}))}},{key:"In",value:function(e,t){var n=this,r=ts(),i=new Wu(ao.comparator);return this.pn(e,t,(function(e,t){var a=n.gn(e,t);r=r.insert(e,a),i=i.insert(e,Il(t))})).next((function(){return{documents:r,En:i}}))}},{key:"pn",value:function(e,t,n){if(t.isEmpty())return Ic.resolve();var r=IDBKeyRange.bound(t.first().path.toArray(),t.last().path.toArray()),i=t.getIterator(),a=i.getNext();return Yl(e).Qt({range:r},(function(e,t,r){for(var o=ao.fromSegments(e);a&&ao.comparator(a,o)<0;)n(a,null),a=i.getNext();a&&a.isEqual(o)&&(n(a,t),a=i.hasNext()?i.getNext():null),a?r.Ut(a.path.toArray()):r.done()})).next((function(){for(;a;)n(a,null),a=i.hasNext()?i.getNext():null}))}},{key:"getAll",value:function(e,t,n){var r=this,i=ts(),a=t.length+1,o={};if(n.isEqual(Fa.min())){var u=t.toArray();o.range=IDBKeyRange.lowerBound(u)}else{var s=t.toArray(),c=Kc(n);o.range=IDBKeyRange.lowerBound([s,c],!0),o.index=uc.collectionReadTimeIndex}return Yl(e).Qt(o,(function(e,n,o){if(e.length===a){var u=r.gn(ao.fromSegments(e),n);t.isPrefixOf(u.key.path)?i=i.insert(u.key,u):o.done()}})).next((function(){return i}))}},{key:"newChangeBuffer",value:function(e){return new Hl(this,!!e&&e.trackRemovals)}},{key:"getSize",value:function(e){return this.getMetadata(e).next((function(e){return e.byteSize}))}},{key:"getMetadata",value:function(e){return Wl(e).get(sc.key).next((function(e){return ma(!!e),e}))}},{key:"mn",value:function(e,t){return Wl(e).put(sc.key,t)}},{key:"gn",value:function(e,t){if(t){var n=qc(this.O,t);if(!n.isNoDocument()||!n.version.isEqual(Fa.min()))return n}return So.newInvalidDocument(e)}}]),e}(),Hl=function(e){g(n,e);var t=E(n);function n(e,r){var i;return h(this,n),(i=t.call(this)).Tn=e,i.trackRemovals=r,i.An=new Kl((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),i}return p(n,[{key:"applyChanges",value:function(e){var t=this,n=[],r=0,i=new Ju((function(e,t){return Pa(e.canonicalString(),t.canonicalString())}));return this.changes.forEach((function(a,o){var u=t.An.get(a);if(o.isValidDocument()){var s=zc(t.Tn.O,o);i=i.add(a.path.popLast());var c=Il(s);r+=c-u,n.push(t.Tn.addEntry(e,a,s))}else if(r-=u,t.trackRemovals){var l=zc(t.Tn.O,o.convertToNoDocument(Fa.min()));n.push(t.Tn.addEntry(e,a,l))}else n.push(t.Tn.removeEntry(e,a))})),i.forEach((function(r){n.push(t.Tn.indexManager.addToCollectionParentIndex(e,r))})),n.push(this.Tn.updateMetadata(e,r)),Ic.waitFor(n)}},{key:"getFromCache",value:function(e,t){var n=this;return this.Tn.yn(e,t).next((function(e){return n.An.set(t,e.size),e.document}))}},{key:"getAllFromCache",value:function(e,t){var n=this;return this.Tn.In(e,t).next((function(e){var t=e.documents;return e.En.forEach((function(e,t){n.An.set(e,t)})),t}))}}]),n}(Gl);function Wl(e){return Mc(e,sc.store)}function Yl(e){return Mc(e,uc.store)}function Xl(e){return e.path.toArray()}var Jl=function(){function e(t){h(this,e),this.O=t}return p(e,[{key:"kt",value:function(e,t,n,r){var i=this,a=new Tc("createOrUpgrade",t);n<1&&r>=1&&(function(e){e.createObjectStore(tc.store)}(e),function(e){e.createObjectStore(nc.store,{keyPath:nc.keyPath}),e.createObjectStore(rc.store,{keyPath:rc.keyPath,autoIncrement:!0}).createIndex(rc.userMutationsIndex,rc.userMutationsKeyPath,{unique:!0}),e.createObjectStore(ic.store)}(e),$l(e),function(e){e.createObjectStore(uc.store)}(e));var o=Ic.resolve();return n<3&&r>=3&&(0!==n&&(function(e){e.deleteObjectStore(lc.store),e.deleteObjectStore(cc.store),e.deleteObjectStore(fc.store)}(e),$l(e)),o=o.next((function(){return function(e){var t=e.store(fc.store),n=new fc(0,0,Fa.min().toTimestamp(),0);return t.put(fc.key,n)}(a)}))),n<4&&r>=4&&(0!==n&&(o=o.next((function(){return function(e,t){return t.store(rc.store).qt().next((function(n){e.deleteObjectStore(rc.store),e.createObjectStore(rc.store,{keyPath:rc.keyPath,autoIncrement:!0}).createIndex(rc.userMutationsIndex,rc.userMutationsKeyPath,{unique:!0});var r=t.store(rc.store),i=n.map((function(e){return r.put(e)}));return Ic.waitFor(i)}))}(e,a)}))),o=o.next((function(){!function(e){e.createObjectStore(dc.store,{keyPath:dc.keyPath})}(e)}))),n<5&&r>=5&&(o=o.next((function(){return i.Rn(a)}))),n<6&&r>=6&&(o=o.next((function(){return function(e){e.createObjectStore(sc.store)}(e),i.Pn(a)}))),n<7&&r>=7&&(o=o.next((function(){return i.bn(a)}))),n<8&&r>=8&&(o=o.next((function(){return i.vn(e,a)}))),n<9&&r>=9&&(o=o.next((function(){!function(e){e.objectStoreNames.contains("remoteDocumentChanges")&&e.deleteObjectStore("remoteDocumentChanges")}(e),function(e){var t=e.objectStore(uc.store);t.createIndex(uc.readTimeIndex,uc.readTimeIndexPath,{unique:!1}),t.createIndex(uc.collectionReadTimeIndex,uc.collectionReadTimeIndexPath,{unique:!1})}(t)}))),n<10&&r>=10&&(o=o.next((function(){return i.Vn(a)}))),n<11&&r>=11&&(o=o.next((function(){!function(e){e.createObjectStore(pc.store,{keyPath:pc.keyPath})}(e),function(e){e.createObjectStore(vc.store,{keyPath:vc.keyPath})}(e)}))),n<12&&r>=12&&(o=o.next((function(){!function(e){var t=e.createObjectStore(kc.store,{keyPath:kc.keyPath});t.createIndex(kc.collectionPathOverlayIndex,kc.collectionPathOverlayIndexPath,{unique:!1}),t.createIndex(kc.collectionGroupOverlayIndex,kc.collectionGroupOverlayIndexPath,{unique:!1})}(e)}))),n<13&&r>=13&&(o=o.next((function(){!function(e){e.createObjectStore(yc.store,{keyPath:yc.keyPath,autoIncrement:!0}).createIndex(yc.collectionGroupIndex,yc.collectionGroupIndexPath,{unique:!1}),e.createObjectStore(mc.store,{keyPath:mc.keyPath}).createIndex(mc.sequenceNumberIndex,mc.sequenceNumberIndexPath,{unique:!1}),e.createObjectStore(gc.store,{keyPath:gc.keyPath}).createIndex(gc.documentKeyIndex,gc.documentKeyIndexPath,{unique:!1})}(e)}))),o}},{key:"Pn",value:function(e){var t=0;return e.store(uc.store).Qt((function(e,n){t+=Il(n)})).next((function(){var n=new sc(t);return e.store(sc.store).put(sc.key,n)}))}},{key:"Rn",value:function(e){var t=this,n=e.store(nc.store),r=e.store(rc.store);return n.qt().next((function(n){return Ic.forEach(n,(function(n){var i=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return r.qt(rc.userMutationsIndex,i).next((function(r){return Ic.forEach(r,(function(r){ma(r.userId===n.userId);var i=Wc(t.O,r);return Sl(e,n.userId,i).next((function(){}))}))}))}))}))}},{key:"bn",value:function(e){var t=e.store(lc.store),n=e.store(uc.store);return e.store(fc.store).get(fc.key).next((function(e){var r=[];return n.Qt((function(n,i){var a=new qa(n),o=function(e){return[0,Xs(e)]}(a);r.push(t.get(o).next((function(n){return n?Ic.resolve():function(n){return t.put(new lc(0,Xs(n),e.highestListenSequenceNumber))}(a)})))})).next((function(){return Ic.waitFor(r)}))}))}},{key:"vn",value:function(e,t){e.createObjectStore(hc.store,{keyPath:hc.keyPath});var n=t.store(hc.store),r=new yl,i=function(e){if(r.add(e)){var t=e.lastSegment(),i=e.popLast();return n.put({collectionId:t,parent:Xs(i)})}};return t.store(uc.store).Qt({jt:!0},(function(e,t){var n=new qa(e);return i(n.popLast())})).next((function(){return t.store(ic.store).Qt({jt:!0},(function(e,t){var n=o(e,3),r=(n[0],n[1]),a=(n[2],Zs(r));return i(a.popLast())}))}))}},{key:"Vn",value:function(e){var t=this,n=e.store(cc.store);return n.Qt((function(e,r){var i=Yc(r),a=Xc(t.O,i);return n.put(a)}))}}]),e}();function $l(e){e.createObjectStore(lc.store,{keyPath:lc.keyPath}).createIndex(lc.documentTargetsIndex,lc.documentTargetsKeyPath,{unique:!0}),e.createObjectStore(cc.store,{keyPath:cc.keyPath}).createIndex(cc.queryTargetsIndexName,cc.queryTargetsKeyPath,{unique:!0}),e.createObjectStore(fc.store)}var Zl="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",ef=function(){function e(t,n,r,i,a,o,u,s,c,l){var f=arguments.length>10&&void 0!==arguments[10]?arguments[10]:12;if(h(this,e),this.allowTabSynchronization=t,this.persistenceKey=n,this.clientId=r,this.Sn=a,this.window=o,this.document=u,this.Dn=c,this.Cn=l,this.schemaVersion=f,this.Nn=null,this.xn=!1,this.isPrimary=!1,this.networkEnabled=!0,this.kn=null,this.inForeground=!1,this.On=null,this.Mn=null,this.$n=Number.NEGATIVE_INFINITY,this.Fn=function(e){return Promise.resolve()},!e.Vt())throw new wa(ka.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new ql(this,i),this.Bn=n+"main",this.O=new Vc(s),this.Ln=new Cc(this.Bn,this.schemaVersion,new Jl(this.O)),this.Un=new Dl(this.referenceDelegate,this.O),this.qn=function(e){return new Ql(e)}(this.O),this.Kn=new el,this.window&&this.window.localStorage?this.Gn=this.window.localStorage:(this.Gn=null,!1===l&&da("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return p(e,[{key:"start",value:function(){var e=this;return this.jn().then((function(){if(!e.isPrimary&&!e.allowTabSynchronization)throw new wa(ka.FAILED_PRECONDITION,Zl);return e.Qn(),e.Wn(),e.zn(),e.runTransaction("getHighestListenSequenceNumber","readonly",(function(t){return e.Un.getHighestSequenceNumber(t)}))})).then((function(t){e.Nn=new Na(t,e.Dn)})).then((function(){e.xn=!0})).catch((function(t){return e.Ln&&e.Ln.close(),Promise.reject(t)}))}},{key:"Hn",value:function(e){var t=this;return this.Fn=function(){var n=H(Y().mark((function n(r){return Y().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!t.started){n.next=2;break}return n.abrupt("return",e(r));case 2:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),e(this.isPrimary)}},{key:"setDatabaseDeletedListener",value:function(e){this.Ln.Mt(function(){var t=H(Y().mark((function t(n){return Y().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.t0=null===n.newVersion,!t.t0){t.next=4;break}return t.next=4,e();case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}},{key:"setNetworkEnabled",value:function(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Sn.enqueueAndForget(H(Y().mark((function e(){return Y().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.started,!e.t0){e.next=4;break}return e.next=4,t.jn();case 4:case"end":return e.stop()}}),e)})))))}},{key:"jn",value:function(){var e=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(function(t){return nf(t).put(new dc(e.clientId,Date.now(),e.networkEnabled,e.inForeground)).next((function(){if(e.isPrimary)return e.Jn(t).next((function(t){t||(e.isPrimary=!1,e.Sn.enqueueRetryable((function(){return e.Fn(!1)})))}))})).next((function(){return e.Yn(t)})).next((function(n){return e.isPrimary&&!n?e.Xn(t).next((function(){return!1})):!!n&&e.Zn(t).next((function(){return!0}))}))})).catch((function(t){if(Nc(t))return ha("IndexedDbPersistence","Failed to extend owner lease: ",t),e.isPrimary;if(!e.allowTabSynchronization)throw t;return ha("IndexedDbPersistence","Releasing owner lease after error during lease refresh",t),!1})).then((function(t){e.isPrimary!==t&&e.Sn.enqueueRetryable((function(){return e.Fn(t)})),e.isPrimary=t}))}},{key:"Jn",value:function(e){var t=this;return tf(e).get(tc.key).next((function(e){return Ic.resolve(t.ts(e))}))}},{key:"es",value:function(e){return nf(e).delete(this.clientId)}},{key:"ns",value:function(){var e=H(Y().mark((function e(){var t,n,r,i,a=this;return Y().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.isPrimary||this.ss(this.$n,18e5)){e.next=6;break}return this.$n=Date.now(),e.next=4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(function(e){var t=Mc(e,dc.store);return t.qt().next((function(e){var n=a.rs(e,18e5),r=e.filter((function(e){return-1===n.indexOf(e)}));return Ic.forEach(r,(function(e){return t.delete(e.clientId)})).next((function(){return r}))}))})).catch((function(){return[]}));case 4:if(t=e.sent,this.Gn){n=v(t);try{for(n.s();!(r=n.n()).done;)i=r.value,this.Gn.removeItem(this.os(i.clientId))}catch(o){n.e(o)}finally{n.f()}}case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"zn",value:function(){var e=this;this.Mn=this.Sn.enqueueAfterDelay("client_metadata_refresh",4e3,(function(){return e.jn().then((function(){return e.ns()})).then((function(){return e.zn()}))}))}},{key:"ts",value:function(e){return!!e&&e.ownerId===this.clientId}},{key:"Yn",value:function(e){var t=this;return this.Cn?Ic.resolve(!0):tf(e).get(tc.key).next((function(n){if(null!==n&&t.ss(n.leaseTimestampMs,5e3)&&!t.cs(n.ownerId)){if(t.ts(n)&&t.networkEnabled)return!0;if(!t.ts(n)){if(!n.allowTabSynchronization)throw new wa(ka.FAILED_PRECONDITION,Zl);return!1}}return!(!t.networkEnabled||!t.inForeground)||nf(e).qt().next((function(e){return void 0===t.rs(e,5e3).find((function(e){if(t.clientId!==e.clientId){var n=!t.networkEnabled&&e.networkEnabled,r=!t.inForeground&&e.inForeground,i=t.networkEnabled===e.networkEnabled;if(n||r&&i)return!0}return!1}))}))})).next((function(e){return t.isPrimary!==e&&ha("IndexedDbPersistence","Client ".concat(e?"is":"is not"," eligible for a primary lease.")),e}))}},{key:"shutdown",value:function(){var e=H(Y().mark((function e(){var t=this;return Y().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.xn=!1,this.us(),this.Mn&&(this.Mn.cancel(),this.Mn=null),this.hs(),this.ls(),e.next=7,this.Ln.runTransaction("shutdown","readwrite",[tc.store,dc.store],(function(e){var n=new Rc(e,Na.A);return t.Xn(n).next((function(){return t.es(n)}))}));case 7:this.Ln.close(),this.fs();case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"rs",value:function(e,t){var n=this;return e.filter((function(e){return n.ss(e.updateTimeMs,t)&&!n.cs(e.clientId)}))}},{key:"ds",value:function(){var e=this;return this.runTransaction("getActiveClients","readonly",(function(t){return nf(t).qt().next((function(t){return e.rs(t,18e5).map((function(e){return e.clientId}))}))}))}},{key:"started",get:function(){return this.xn}},{key:"getMutationQueue",value:function(e,t){return Tl.Jt(e,this.O,t,this.referenceDelegate)}},{key:"getTargetCache",value:function(){return this.Un}},{key:"getRemoteDocumentCache",value:function(){return this.qn}},{key:"getIndexManager",value:function(e){return new ml(e)}},{key:"getDocumentOverlayCache",value:function(e){return rl.Jt(this.O,e)}},{key:"getBundleCache",value:function(){return this.Kn}},{key:"runTransaction",value:function(e,t,n){var r=this;ha("IndexedDbPersistence","Starting transaction:",e);var i,a,o="readonly"===t?"readonly":"readwrite",u=13===(i=this.schemaVersion)?xc:12===i?bc:11===i?wc:void ya();return this.Ln.runTransaction(e,o,u,(function(i){return a=new Rc(i,r.Nn?r.Nn.next():Na.A),"readwrite-primary"===t?r.Jn(a).next((function(e){return!!e||r.Yn(a)})).next((function(t){if(!t)throw da("Failed to obtain primary lease for action '".concat(e,"'.")),r.isPrimary=!1,r.Sn.enqueueRetryable((function(){return r.Fn(!1)})),new wa(ka.FAILED_PRECONDITION,Ec);return n(a)})).next((function(e){return r.Zn(a).next((function(){return e}))})):r._s(a).next((function(){return n(a)}))})).then((function(e){return a.raiseOnCommittedEvent(),e}))}},{key:"_s",value:function(e){var t=this;return tf(e).get(tc.key).next((function(e){if(null!==e&&t.ss(e.leaseTimestampMs,5e3)&&!t.cs(e.ownerId)&&!t.ts(e)&&!(t.Cn||t.allowTabSynchronization&&e.allowTabSynchronization))throw new wa(ka.FAILED_PRECONDITION,Zl)}))}},{key:"Zn",value:function(e){var t=new tc(this.clientId,this.allowTabSynchronization,Date.now());return tf(e).put(tc.key,t)}},{key:"Xn",value:function(e){var t=this,n=tf(e);return n.get(tc.key).next((function(e){return t.ts(e)?(ha("IndexedDbPersistence","Releasing primary lease."),n.delete(tc.key)):Ic.resolve()}))}},{key:"ss",value:function(e,t){var n=Date.now();return!(e<n-t)&&(!(e>n)||(da("Detected an update time that is in the future: ".concat(e," > ").concat(n)),!1))}},{key:"Qn",value:function(){var e=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.On=function(){e.Sn.enqueueAndForget((function(){return e.inForeground="visible"===e.document.visibilityState,e.jn()}))},this.document.addEventListener("visibilitychange",this.On),this.inForeground="visible"===this.document.visibilityState)}},{key:"hs",value:function(){this.On&&(this.document.removeEventListener("visibilitychange",this.On),this.On=null)}},{key:"Wn",value:function(){var e,t=this;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.kn=function(){t.us(),P()&&navigator.appVersion.match(/Version\/1[45]/)&&t.Sn.enterRestrictedMode(!0),t.Sn.enqueueAndForget((function(){return t.shutdown()}))},this.window.addEventListener("pagehide",this.kn))}},{key:"ls",value:function(){this.kn&&(this.window.removeEventListener("pagehide",this.kn),this.kn=null)}},{key:"cs",value:function(e){var t;try{var n=null!==(null===(t=this.Gn)||void 0===t?void 0:t.getItem(this.os(e)));return ha("IndexedDbPersistence","Client '".concat(e,"' ").concat(n?"is":"is not"," zombied in LocalStorage")),n}catch(e){return da("IndexedDbPersistence","Failed to get zombied client id.",e),!1}}},{key:"us",value:function(){if(this.Gn)try{this.Gn.setItem(this.os(this.clientId),String(Date.now()))}catch(ut){da("Failed to set zombie client id.",ut)}}},{key:"fs",value:function(){if(this.Gn)try{this.Gn.removeItem(this.os(this.clientId))}catch(ut){}}},{key:"os",value:function(e){return"firestore_zombie_".concat(this.persistenceKey,"_").concat(e)}}],[{key:"Vt",value:function(){return Cc.Vt()}}]),e}();function tf(e){return Mc(e,tc.store)}function nf(e){return Mc(e,dc.store)}function rf(e,t){var n=e.projectId;return e.isDefaultDatabase||(n+="."+e.database),"firestore/"+t+"/"+n+"/"}var af=p((function e(t,n){h(this,e),this.progress=t,this.ws=n})),of=function(){function e(t,n,r){h(this,e),this.qn=t,this.gs=n,this.indexManager=r}return p(e,[{key:"ys",value:function(e,t){var n=this;return this.gs.getAllMutationBatchesAffectingDocumentKey(e,t).next((function(r){return n.ps(e,t,r)}))}},{key:"ps",value:function(e,t,n){return this.qn.getEntry(e,t).next((function(e){var t,r=v(n);try{for(r.s();!(t=r.n()).done;){t.value.applyToLocalView(e)}}catch(i){r.e(i)}finally{r.f()}return e}))}},{key:"Is",value:function(e,t){e.forEach((function(e,n){var r,i=v(t);try{for(i.s();!(r=i.n()).done;){r.value.applyToLocalView(n)}}catch(a){i.e(a)}finally{i.f()}}))}},{key:"Es",value:function(e,t){var n=this;return this.qn.getEntries(e,t).next((function(t){return n.Ts(e,t).next((function(){return t}))}))}},{key:"Ts",value:function(e,t){var n=this;return this.gs.getAllMutationBatchesAffectingDocumentKeys(e,t).next((function(e){return n.Is(t,e)}))}},{key:"As",value:function(e,t,n){return function(e){return ao.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.Rs(e,t.path):tu(t)?this.Ps(e,t,n):this.bs(e,t,n)}},{key:"Rs",value:function(e,t){return this.ys(e,new ao(t)).next((function(e){var t=rs();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t}))}},{key:"Ps",value:function(e,t,n){var r=this,i=t.collectionGroup,a=rs();return this.indexManager.getCollectionParents(e,i).next((function(o){return Ic.forEach(o,(function(o){var u=function(e,t){return new Wo(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,o.child(i));return r.bs(e,u,n).next((function(e){e.forEach((function(e,t){a=a.insert(e,t)}))}))})).next((function(){return a}))}))}},{key:"bs",value:function(e,t,n){var r,i=this;return this.qn.getAll(e,t.path,n).next((function(n){return r=n,i.gs.getAllMutationBatchesAffectingQuery(e,t)})).next((function(e){var t,n=v(e);try{for(n.s();!(t=n.n()).done;){var i,a=t.value,o=v(a.mutations);try{for(o.s();!(i=o.n()).done;){var u=i.value,s=u.key,c=r.get(s);null==c&&(c=So.newInvalidDocument(s),r=r.insert(s,c)),Du(u,c,a.localWriteTime),c.isFoundDocument()||(r=r.remove(s))}}catch(l){o.e(l)}finally{o.f()}}}catch(l){n.e(l)}finally{n.f()}})).next((function(){return r.forEach((function(e,n){su(t,n)||(r=r.remove(e))})),r}))}}]),e}(),uf=function(){function e(t,n,r,i){h(this,e),this.targetId=t,this.fromCache=n,this.vs=r,this.Vs=i}return p(e,null,[{key:"Ss",value:function(t,n){var r,i=os(),a=os(),o=v(n.docChanges);try{for(o.s();!(r=o.n()).done;){var u=r.value;switch(u.type){case 0:i=i.add(u.doc.key);break;case 1:a=a.add(u.doc.key)}}}catch(s){o.e(s)}finally{o.f()}return new e(t,n.fromCache,i,a)}}]),e}(),sf=function(){function e(){h(this,e)}return p(e,[{key:"Ds",value:function(e){this.Cs=e}},{key:"As",value:function(e,t,n,r){var i=this;return function(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}(t)||n.isEqual(Fa.min())?this.Ns(e,t):this.Cs.Es(e,r).next((function(a){var o=i.xs(t,a);return(Jo(t)||$o(t))&&i.ks(t.limitType,o,r,n)?i.Ns(e,t):(fa()<=ee.DEBUG&&ha("QueryEngine","Re-using previous result from %s to execute query: %s",n.toString(),uu(t)),i.Cs.As(e,t,n).next((function(e){return o.forEach((function(t){e=e.insert(t.key,t)})),e})))}))}},{key:"xs",value:function(e,t){var n=new Ju(cu(e));return t.forEach((function(t,r){su(e,r)&&(n=n.add(r))})),n}},{key:"ks",value:function(e,t,n,r){if(n.size!==t.size)return!0;var i="F"===e?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}},{key:"Ns",value:function(e,t){return fa()<=ee.DEBUG&&ha("QueryEngine","Using full collection scan to execute query:",uu(t)),this.Cs.As(e,t,Fa.min())}}]),e}(),cf=function(){function e(t,n,r,i){h(this,e),this.persistence=t,this.Os=n,this.O=i,this.Ms=new Wu(Pa),this.$s=new Kl((function(e){return Oo(e)}),Do),this.Fs=Fa.min(),this.Bs=t.getRemoteDocumentCache(),this.Un=t.getTargetCache(),this.Kn=t.getBundleCache(),this.Ls(r)}return p(e,[{key:"Ls",value:function(e){this.indexManager=this.persistence.getIndexManager(e),this.gs=this.persistence.getMutationQueue(e,this.indexManager),this.Us=new of(this.Bs,this.gs,this.indexManager),this.Bs.setIndexManager(this.indexManager),this.Os.Ds(this.Us)}},{key:"collectGarbage",value:function(e){var t=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",(function(n){return e.collect(n,t.Ms)}))}}]),e}();function lf(e,t,n,r){return new cf(e,t,n,r)}function ff(e,t){return hf.apply(this,arguments)}function hf(){return hf=H(Y().mark((function e(t,n){var r;return Y().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=ga(t),e.next=3,r.persistence.runTransaction("Handle user change","readonly",(function(e){var t;return r.gs.getAllMutationBatches(e).next((function(i){return t=i,r.Ls(n),r.gs.getAllMutationBatches(e)})).next((function(n){var i,a=[],o=[],u=os(),s=v(t);try{for(s.s();!(i=s.n()).done;){var c=i.value;a.push(c.batchId);var l,f=v(c.mutations);try{for(f.s();!(l=f.n()).done;){var h=l.value;u=u.add(h.key)}}catch(w){f.e(w)}finally{f.f()}}}catch(w){s.e(w)}finally{s.f()}var d,p=v(n);try{for(p.s();!(d=p.n()).done;){var y=d.value;o.push(y.batchId);var m,g=v(y.mutations);try{for(g.s();!(m=g.n()).done;){var k=m.value;u=u.add(k.key)}}catch(w){g.e(w)}finally{g.f()}}}catch(w){p.e(w)}finally{p.f()}return r.Us.Es(e,u).next((function(e){return{qs:e,removedBatchIds:a,addedBatchIds:o}}))}))}));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)}))),hf.apply(this,arguments)}function df(e,t){var n=ga(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(function(e){var r=t.batch.keys(),i=n.Bs.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){var i=n.batch,a=i.keys(),o=Ic.resolve();return a.forEach((function(e){o=o.next((function(){return r.getEntry(t,e)})).next((function(t){var a=n.docVersions.get(e);ma(null!==a),t.version.compareTo(a)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&(t.setReadTime(n.commitVersion),r.addEntry(t)))}))})),o.next((function(){return e.gs.removeMutationBatch(t,i)}))}(n,e,t,i).next((function(){return i.apply(e)})).next((function(){return n.gs.performConsistencyCheck(e)})).next((function(){return n.Us.Es(e,r)}))}))}function pf(e){var t=ga(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(function(e){return t.Un.getLastRemoteSnapshotVersion(e)}))}function vf(e,t){var n=ga(e),r=t.snapshotVersion,i=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(function(e){var a=n.Bs.newChangeBuffer({trackRemovals:!0});i=n.Ms;var o=[];t.targetChanges.forEach((function(a,u){var s=i.get(u);if(s){o.push(n.Un.removeMatchingKeys(e,a.removedDocuments,u).next((function(){return n.Un.addMatchingKeys(e,a.addedDocuments,u)})));var c=s.withSequenceNumber(e.currentSequenceNumber);t.targetMismatches.has(u)?c=c.withResumeToken(Qa.EMPTY_BYTE_STRING,Fa.min()).withLastLimboFreeSnapshotVersion(Fa.min()):a.resumeToken.approximateByteSize()>0&&(c=c.withResumeToken(a.resumeToken,r)),i=i.insert(u,c),function(e,t,n){return 0===e.resumeToken.approximateByteSize()||(t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0)}(s,c,a)&&o.push(n.Un.updateTargetData(e,c))}}));var u=ts();if(t.documentUpdates.forEach((function(r){t.resolvedLimboDocuments.has(r)&&o.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))})),o.push(yf(e,a,t.documentUpdates).next((function(e){u=e}))),!r.isEqual(Fa.min())){var s=n.Un.getLastRemoteSnapshotVersion(e).next((function(t){return n.Un.setTargetsMetadata(e,e.currentSequenceNumber,r)}));o.push(s)}return Ic.waitFor(o).next((function(){return a.apply(e)})).next((function(){return n.Us.Ts(e,u)})).next((function(){return u}))})).then((function(e){return n.Ms=i,e}))}function yf(e,t,n){var r=os();return n.forEach((function(e){return r=r.add(e)})),t.getEntries(e,r).next((function(e){var r=ts();return n.forEach((function(n,i){var a=e.get(n);i.isNoDocument()&&i.version.isEqual(Fa.min())?(t.removeEntry(n,i.readTime),r=r.insert(n,i)):!a.isValidDocument()||i.version.compareTo(a.version)>0||0===i.version.compareTo(a.version)&&a.hasPendingWrites?(t.addEntry(i),r=r.insert(n,i)):ha("LocalStore","Ignoring outdated watch update for ",n,". Current version:",a.version," Watch version:",i.version)})),r}))}function mf(e,t){var n=ga(e);return n.persistence.runTransaction("Get next mutation batch","readonly",(function(e){return void 0===t&&(t=-1),n.gs.getNextMutationBatchAfterBatchId(e,t)}))}function gf(e,t){var n=ga(e);return n.persistence.runTransaction("Allocate target","readwrite",(function(e){var r;return n.Un.getTargetData(e,t).next((function(i){return i?(r=i,Ic.resolve(r)):n.Un.allocateTargetId(e).next((function(i){return r=new Uc(t,i,0,e.currentSequenceNumber),n.Un.addTargetData(e,r).next((function(){return r}))}))}))})).then((function(e){var r=n.Ms.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(e.targetId,e),n.$s.set(t,e.targetId)),e}))}function kf(e,t,n){return wf.apply(this,arguments)}function wf(){return wf=H(Y().mark((function e(t,n,r){var i,a,o;return Y().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=ga(t),a=i.Ms.get(n),o=r?"readwrite":"readwrite-primary",e.prev=1,e.t0=r,e.t0){e.next=6;break}return e.next=6,i.persistence.runTransaction("Release target",o,(function(e){return i.persistence.referenceDelegate.removeTarget(e,a)}));case 6:e.next=13;break;case 8:if(e.prev=8,e.t1=e.catch(1),Nc(e.t1)){e.next=12;break}throw e.t1;case 12:ha("LocalStore","Failed to update sequence numbers for target ".concat(n,": ").concat(e.t1));case 13:i.Ms=i.Ms.remove(n),i.$s.delete(a.target);case 14:case"end":return e.stop()}}),e,null,[[1,8]])}))),wf.apply(this,arguments)}function bf(e,t,n){var r=ga(e),i=Fa.min(),a=os();return r.persistence.runTransaction("Execute query","readonly",(function(e){return function(e,t,n){var r=ga(e),i=r.$s.get(n);return void 0!==i?Ic.resolve(r.Ms.get(i)):r.Un.getTargetData(t,n)}(r,e,ru(t)).next((function(t){if(t)return i=t.lastLimboFreeSnapshotVersion,r.Un.getMatchingKeysForTargetId(e,t.targetId).next((function(e){a=e}))})).next((function(){return r.Os.As(e,t,n?i:Fa.min(),n?a:os())})).next((function(e){return{documents:e,Ks:a}}))}))}function xf(e,t){var n=ga(e),r=ga(n.Un),i=n.Ms.get(t);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",(function(e){return r.Tt(e,t).next((function(e){return e?e.target:null}))}))}function Ef(e){var t=ga(e);return t.persistence.runTransaction("Get new document changes","readonly",(function(e){return function(e,t,n){var r=ga(e),i=ts(),a=Kc(n),o=Yl(t),u=IDBKeyRange.lowerBound(a,!0);return o.Qt({index:uc.readTimeIndex,range:u},(function(e,t){var n=qc(r.O,t);i=i.insert(n.key,n),a=t.readTime})).next((function(){return{ws:i,readTime:Gc(a)}}))}(t.Bs,e,t.Fs)})).then((function(e){var n=e.ws,r=e.readTime;return t.Fs=r,n}))}function Sf(e){return If.apply(this,arguments)}function If(){return If=H(Y().mark((function e(t){var n;return Y().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=ga(t),e.abrupt("return",n.persistence.runTransaction("Synchronize last document change read time","readonly",(function(e){return function(e){var t=Yl(e),n=Fa.min();return t.Qt({index:uc.readTimeIndex,reverse:!0},(function(e,t,r){t.readTime&&(n=Gc(t.readTime)),r.done()})).next((function(){return n}))}(e)})).then((function(e){n.Fs=e})));case 2:case"end":return e.stop()}}),e)}))),If.apply(this,arguments)}function Tf(e,t,n,r){return Cf.apply(this,arguments)}function Cf(){return Cf=H(Y().mark((function e(t,n,r,i){var a,o,u,s,c,l,f,h,d,p;return Y().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=ga(t),o=os(),u=ts(),s=v(r);try{for(s.s();!(c=s.n()).done;)l=c.value,f=n.Gs(l.metadata.name),l.document&&(o=o.add(f)),(h=n.js(l)).setReadTime(n.Qs(l.metadata.readTime)),u=u.insert(f,h)}catch(y){s.e(y)}finally{s.f()}return d=a.Bs.newChangeBuffer({trackRemovals:!0}),e.next=7,gf(a,function(e){return ru(Xo(qa.fromString("__bundle__/docs/".concat(e))))}(i));case 7:return p=e.sent,e.abrupt("return",a.persistence.runTransaction("Apply bundle documents","readwrite",(function(e){return yf(e,d,u).next((function(t){return d.apply(e),t})).next((function(t){return a.Un.removeMatchingKeysForTargetId(e,p.targetId).next((function(){return a.Un.addMatchingKeys(e,o,p.targetId)})).next((function(){return a.Us.Ts(e,t)})).next((function(){return t}))}))})));case 9:case"end":return e.stop()}}),e)}))),Cf.apply(this,arguments)}function _f(e,t){return Af.apply(this,arguments)}function Af(){return Af=H(Y().mark((function e(t,n){var r,i,a,o=arguments;return Y().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=o.length>2&&void 0!==o[2]?o[2]:os(),e.next=3,gf(t,ru(Jc(n.bundledQuery)));case 3:return i=e.sent,a=ga(t),e.abrupt("return",a.persistence.runTransaction("Save named query","readwrite",(function(e){var t=Ss(n.readTime);if(i.snapshotVersion.compareTo(t)>=0)return a.Kn.saveNamedQuery(e,n);var o=i.withResumeToken(Qa.EMPTY_BYTE_STRING,t);return a.Ms=a.Ms.insert(o.targetId,o),a.Un.updateTargetData(e,o).next((function(){return a.Un.removeMatchingKeysForTargetId(e,i.targetId)})).next((function(){return a.Un.addMatchingKeys(e,r,i.targetId)})).next((function(){return a.Kn.saveNamedQuery(e,n)}))})));case 6:case"end":return e.stop()}}),e)}))),Af.apply(this,arguments)}var Nf=function(){function e(t){h(this,e),this.O=t,this.Ws=new Map,this.zs=new Map}return p(e,[{key:"getBundleMetadata",value:function(e,t){return Ic.resolve(this.Ws.get(t))}},{key:"saveBundleMetadata",value:function(e,t){var n;return this.Ws.set(t.id,{id:(n=t).id,version:n.version,createTime:Ss(n.createTime)}),Ic.resolve()}},{key:"getNamedQuery",value:function(e,t){return Ic.resolve(this.zs.get(t))}},{key:"saveNamedQuery",value:function(e,t){return this.zs.set(t.name,function(e){return{name:e.name,query:Jc(e.bundledQuery),readTime:Ss(e.readTime)}}(t)),Ic.resolve()}}]),e}(),Of=function(){function e(){h(this,e),this.overlays=new Wu(ao.comparator),this.Hs=new Map}return p(e,[{key:"getOverlay",value:function(e,t){return Ic.resolve(this.overlays.get(t))}},{key:"saveOverlays",value:function(e,t,n){var r=this;return n.forEach((function(n){r.Yt(e,t,n)})),Ic.resolve()}},{key:"removeOverlaysForBatchId",value:function(e,t,n){var r=this,i=this.Hs.get(n);return void 0!==i&&(i.forEach((function(e){return r.overlays=r.overlays.remove(e)})),this.Hs.delete(n)),Ic.resolve()}},{key:"getOverlaysForCollection",value:function(e,t,n){for(var r=new Map,i=t.length+1,a=new ao(t.child("")),o=this.overlays.getIteratorFrom(a);o.hasNext();){var u=o.getNext().value,s=u.getKey();if(!t.isPrefixOf(s.path))break;s.path.length===i&&u.largestBatchId>n&&r.set(u.getKey(),u)}return Ic.resolve(r)}},{key:"getOverlaysForCollectionGroup",value:function(e,t,n,r){for(var i=new Wu((function(e,t){return e-t})),a=this.overlays.getIterator();a.hasNext();){var o=a.getNext().value;if(o.getKey().getCollectionGroup()===t&&o.largestBatchId>n){var u=i.get(o.largestBatchId);null===u&&(u=new Map,i=i.insert(o.largestBatchId,u)),u.set(o.getKey(),o)}}for(var s=new Map,c=i.getIterator();c.hasNext()&&(c.getNext().value.forEach((function(e,t){return s.set(t,e)})),!(s.size>=r)););return Ic.resolve(s)}},{key:"Yt",value:function(e,t,n){if(null!==n){var r=this.overlays.get(n.key);null!==r&&this.Hs.get(r.largestBatchId).delete(n.key),this.overlays=this.overlays.insert(n.key,new Bc(t,n));var i=this.Hs.get(t);void 0===i&&(i=new Set,this.Hs.set(t,i)),i.add(n.key)}}}]),e}(),Df=function(){function e(){h(this,e),this.Js=new Ju(Pf.Ys),this.Xs=new Ju(Pf.Zs)}return p(e,[{key:"isEmpty",value:function(){return this.Js.isEmpty()}},{key:"addReference",value:function(e,t){var n=new Pf(e,t);this.Js=this.Js.add(n),this.Xs=this.Xs.add(n)}},{key:"ti",value:function(e,t){var n=this;e.forEach((function(e){return n.addReference(e,t)}))}},{key:"removeReference",value:function(e,t){this.ei(new Pf(e,t))}},{key:"ni",value:function(e,t){var n=this;e.forEach((function(e){return n.removeReference(e,t)}))}},{key:"si",value:function(e){var t=this,n=new ao(new qa([])),r=new Pf(n,e),i=new Pf(n,e+1),a=[];return this.Xs.forEachInRange([r,i],(function(e){t.ei(e),a.push(e.key)})),a}},{key:"ii",value:function(){var e=this;this.Js.forEach((function(t){return e.ei(t)}))}},{key:"ei",value:function(e){this.Js=this.Js.delete(e),this.Xs=this.Xs.delete(e)}},{key:"ri",value:function(e){var t=new ao(new qa([])),n=new Pf(t,e),r=new Pf(t,e+1),i=os();return this.Xs.forEachInRange([n,r],(function(e){i=i.add(e.key)})),i}},{key:"containsKey",value:function(e){var t=new Pf(e,0),n=this.Js.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}]),e}(),Pf=function(){function e(t,n){h(this,e),this.key=t,this.oi=n}return p(e,null,[{key:"Ys",value:function(e,t){return ao.comparator(e.key,t.key)||Pa(e.oi,t.oi)}},{key:"Zs",value:function(e,t){return Pa(e.oi,t.oi)||ao.comparator(e.key,t.key)}}]),e}(),Lf=function(){function e(t,n){h(this,e),this.indexManager=t,this.referenceDelegate=n,this.gs=[],this.ci=1,this.ui=new Ju(Pf.Ys)}return p(e,[{key:"checkEmpty",value:function(e){return Ic.resolve(0===this.gs.length)}},{key:"addMutationBatch",value:function(e,t,n,r){var i=this.ci;this.ci++,this.gs.length>0&&this.gs[this.gs.length-1];var a=new Fc(i,t,n,r);this.gs.push(a);var o,u=v(r);try{for(u.s();!(o=u.n()).done;){var s=o.value;this.ui=this.ui.add(new Pf(s.key,i)),this.indexManager.addToCollectionParentIndex(e,s.key.path.popLast())}}catch(c){u.e(c)}finally{u.f()}return Ic.resolve(a)}},{key:"lookupMutationBatch",value:function(e,t){return Ic.resolve(this.ai(t))}},{key:"getNextMutationBatchAfterBatchId",value:function(e,t){var n=t+1,r=this.hi(n),i=r<0?0:r;return Ic.resolve(this.gs.length>i?this.gs[i]:null)}},{key:"getHighestUnacknowledgedBatchId",value:function(){return Ic.resolve(0===this.gs.length?-1:this.ci-1)}},{key:"getAllMutationBatches",value:function(e){return Ic.resolve(this.gs.slice())}},{key:"getAllMutationBatchesAffectingDocumentKey",value:function(e,t){var n=this,r=new Pf(t,0),i=new Pf(t,Number.POSITIVE_INFINITY),a=[];return this.ui.forEachInRange([r,i],(function(e){var t=n.ai(e.oi);a.push(t)})),Ic.resolve(a)}},{key:"getAllMutationBatchesAffectingDocumentKeys",value:function(e,t){var n=this,r=new Ju(Pa);return t.forEach((function(e){var t=new Pf(e,0),i=new Pf(e,Number.POSITIVE_INFINITY);n.ui.forEachInRange([t,i],(function(e){r=r.add(e.oi)}))})),Ic.resolve(this.li(r))}},{key:"getAllMutationBatchesAffectingQuery",value:function(e,t){var n=t.path,r=n.length+1,i=n;ao.isDocumentKey(i)||(i=i.child(""));var a=new Pf(new ao(i),0),o=new Ju(Pa);return this.ui.forEachWhile((function(e){var t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(o=o.add(e.oi)),!0)}),a),Ic.resolve(this.li(o))}},{key:"li",value:function(e){var t=this,n=[];return e.forEach((function(e){var r=t.ai(e);null!==r&&n.push(r)})),n}},{key:"removeMutationBatch",value:function(e,t){var n=this;ma(0===this.fi(t.batchId,"removed")),this.gs.shift();var r=this.ui;return Ic.forEach(t.mutations,(function(i){var a=new Pf(i.key,t.batchId);return r=r.delete(a),n.referenceDelegate.markPotentiallyOrphaned(e,i.key)})).next((function(){n.ui=r}))}},{key:"Qe",value:function(e){}},{key:"containsKey",value:function(e,t){var n=new Pf(t,0),r=this.ui.firstAfterOrEqual(n);return Ic.resolve(t.isEqual(r&&r.key))}},{key:"performConsistencyCheck",value:function(e){return this.gs.length,Ic.resolve()}},{key:"fi",value:function(e,t){return this.hi(e)}},{key:"hi",value:function(e){return 0===this.gs.length?0:e-this.gs[0].batchId}},{key:"ai",value:function(e){var t=this.hi(e);return t<0||t>=this.gs.length?null:this.gs[t]}}]),e}(),Rf=function(){function e(t){h(this,e),this.di=t,this.docs=new Wu(ao.comparator),this.size=0}return p(e,[{key:"setIndexManager",value:function(e){this.indexManager=e}},{key:"addEntry",value:function(e,t){var n=t.key,r=this.docs.get(n),i=r?r.size:0,a=this.di(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:a}),this.size+=a-i,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}},{key:"removeEntry",value:function(e){var t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}},{key:"getEntry",value:function(e,t){var n=this.docs.get(t);return Ic.resolve(n?n.document.mutableCopy():So.newInvalidDocument(t))}},{key:"getEntries",value:function(e,t){var n=this,r=ts();return t.forEach((function(e){var t=n.docs.get(e);r=r.insert(e,t?t.document.mutableCopy():So.newInvalidDocument(e))})),Ic.resolve(r)}},{key:"getAll",value:function(e,t,n){for(var r=ts(),i=new ao(t.child("")),a=this.docs.getIteratorFrom(i);a.hasNext();){var o=a.getNext(),u=o.key,s=o.value.document;if(!t.isPrefixOf(u.path))break;u.path.length>t.length+1||s.readTime.compareTo(n)<=0||(r=r.insert(s.key,s.mutableCopy()))}return Ic.resolve(r)}},{key:"_i",value:function(e,t){return Ic.forEach(this.docs,(function(e){return t(e)}))}},{key:"newChangeBuffer",value:function(e){return new Mf(this)}},{key:"getSize",value:function(e){return Ic.resolve(this.size)}}]),e}(),Mf=function(e){g(n,e);var t=E(n);function n(e){var r;return h(this,n),(r=t.call(this)).Tn=e,r}return p(n,[{key:"applyChanges",value:function(e){var t=this,n=[];return this.changes.forEach((function(r,i){i.isValidDocument()?n.push(t.Tn.addEntry(e,i)):t.Tn.removeEntry(r)})),Ic.waitFor(n)}},{key:"getFromCache",value:function(e,t){return this.Tn.getEntry(e,t)}},{key:"getAllFromCache",value:function(e,t){return this.Tn.getEntries(e,t)}}]),n}(Gl),Ff=function(){function e(t){h(this,e),this.persistence=t,this.wi=new Kl((function(e){return Oo(e)}),Do),this.lastRemoteSnapshotVersion=Fa.min(),this.highestTargetId=0,this.mi=0,this.gi=new Df,this.targetCount=0,this.yi=Ol.He()}return p(e,[{key:"forEachTarget",value:function(e,t){return this.wi.forEach((function(e,n){return t(n)})),Ic.resolve()}},{key:"getLastRemoteSnapshotVersion",value:function(e){return Ic.resolve(this.lastRemoteSnapshotVersion)}},{key:"getHighestSequenceNumber",value:function(e){return Ic.resolve(this.mi)}},{key:"allocateTargetId",value:function(e){return this.highestTargetId=this.yi.next(),Ic.resolve(this.highestTargetId)}},{key:"setTargetsMetadata",value:function(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.mi&&(this.mi=t),Ic.resolve()}},{key:"Ze",value:function(e){this.wi.set(e.target,e);var t=e.targetId;t>this.highestTargetId&&(this.yi=new Ol(t),this.highestTargetId=t),e.sequenceNumber>this.mi&&(this.mi=e.sequenceNumber)}},{key:"addTargetData",value:function(e,t){return this.Ze(t),this.targetCount+=1,Ic.resolve()}},{key:"updateTargetData",value:function(e,t){return this.Ze(t),Ic.resolve()}},{key:"removeTargetData",value:function(e,t){return this.wi.delete(t.target),this.gi.si(t.targetId),this.targetCount-=1,Ic.resolve()}},{key:"removeTargets",value:function(e,t,n){var r=this,i=0,a=[];return this.wi.forEach((function(o,u){u.sequenceNumber<=t&&null===n.get(u.targetId)&&(r.wi.delete(o),a.push(r.removeMatchingKeysForTargetId(e,u.targetId)),i++)})),Ic.waitFor(a).next((function(){return i}))}},{key:"getTargetCount",value:function(e){return Ic.resolve(this.targetCount)}},{key:"getTargetData",value:function(e,t){var n=this.wi.get(t)||null;return Ic.resolve(n)}},{key:"addMatchingKeys",value:function(e,t,n){return this.gi.ti(t,n),Ic.resolve()}},{key:"removeMatchingKeys",value:function(e,t,n){this.gi.ni(t,n);var r=this.persistence.referenceDelegate,i=[];return r&&t.forEach((function(t){i.push(r.markPotentiallyOrphaned(e,t))})),Ic.waitFor(i)}},{key:"removeMatchingKeysForTargetId",value:function(e,t){return this.gi.si(t),Ic.resolve()}},{key:"getMatchingKeysForTargetId",value:function(e,t){var n=this.gi.ri(t);return Ic.resolve(n)}},{key:"containsKey",value:function(e,t){return Ic.resolve(this.gi.containsKey(t))}}]),e}(),jf=function(){function e(t,n){var r=this;h(this,e),this.pi={},this.overlays={},this.Nn=new Na(0),this.xn=!1,this.xn=!0,this.referenceDelegate=t(this),this.Un=new Ff(this),this.indexManager=new vl,this.qn=new Rf((function(e){return r.referenceDelegate.Ii(e)})),this.O=new Vc(n),this.Kn=new Nf(this.O)}return p(e,[{key:"start",value:function(){return Promise.resolve()}},{key:"shutdown",value:function(){return this.xn=!1,Promise.resolve()}},{key:"started",get:function(){return this.xn}},{key:"setDatabaseDeletedListener",value:function(){}},{key:"setNetworkEnabled",value:function(){}},{key:"getIndexManager",value:function(e){return this.indexManager}},{key:"getDocumentOverlayCache",value:function(e){var t=this.overlays[e.toKey()];return t||(t=new Of,this.overlays[e.toKey()]=t),t}},{key:"getMutationQueue",value:function(e,t){var n=this.pi[e.toKey()];return n||(n=new Lf(t,this.referenceDelegate),this.pi[e.toKey()]=n),n}},{key:"getTargetCache",value:function(){return this.Un}},{key:"getRemoteDocumentCache",value:function(){return this.qn}},{key:"getBundleCache",value:function(){return this.Kn}},{key:"runTransaction",value:function(e,t,n){var r=this;ha("MemoryPersistence","Starting transaction:",e);var i=new Bf(this.Nn.next());return this.referenceDelegate.Ei(),n(i).next((function(e){return r.referenceDelegate.Ti(i).next((function(){return e}))})).toPromise().then((function(e){return i.raiseOnCommittedEvent(),e}))}},{key:"Ai",value:function(e,t){return Ic.or(Object.values(this.pi).map((function(n){return function(){return n.containsKey(e,t)}})))}}]),e}(),Bf=function(e){g(n,e);var t=E(n);function n(e){var r;return h(this,n),(r=t.call(this)).currentSequenceNumber=e,r}return p(n)}(Sc),Uf=function(){function e(t){h(this,e),this.persistence=t,this.Ri=new Df,this.Pi=null}return p(e,[{key:"vi",get:function(){if(this.Pi)return this.Pi;throw ya()}},{key:"addReference",value:function(e,t,n){return this.Ri.addReference(n,t),this.vi.delete(n.toString()),Ic.resolve()}},{key:"removeReference",value:function(e,t,n){return this.Ri.removeReference(n,t),this.vi.add(n.toString()),Ic.resolve()}},{key:"markPotentiallyOrphaned",value:function(e,t){return this.vi.add(t.toString()),Ic.resolve()}},{key:"removeTarget",value:function(e,t){var n=this;this.Ri.si(t.targetId).forEach((function(e){return n.vi.add(e.toString())}));var r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next((function(e){e.forEach((function(e){return n.vi.add(e.toString())}))})).next((function(){return r.removeTargetData(e,t)}))}},{key:"Ei",value:function(){this.Pi=new Set}},{key:"Ti",value:function(e){var t=this,n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Ic.forEach(this.vi,(function(r){var i=ao.fromPath(r);return t.Vi(e,i).next((function(e){e||n.removeEntry(i,Fa.min())}))})).next((function(){return t.Pi=null,n.apply(e)}))}},{key:"updateLimboDocument",value:function(e,t){var n=this;return this.Vi(e,t).next((function(e){e?n.vi.delete(t.toString()):n.vi.add(t.toString())}))}},{key:"Ii",value:function(e){return 0}},{key:"Vi",value:function(e,t){var n=this;return Ic.or([function(){return Ic.resolve(n.Ri.containsKey(t))},function(){return n.persistence.getTargetCache().containsKey(e,t)},function(){return n.persistence.Ai(e,t)}])}}],[{key:"bi",value:function(t){return new e(t)}}]),e}();function Vf(e,t){return"firestore_clients_".concat(e,"_").concat(t)}function qf(e,t,n){var r="firestore_mutations_".concat(e,"_").concat(n);return t.isAuthenticated()&&(r+="_".concat(t.uid)),r}function zf(e,t){return"firestore_targets_".concat(e,"_").concat(t)}var Kf=function(){function e(t,n,r,i){h(this,e),this.user=t,this.batchId=n,this.state=r,this.error=i}return p(e,[{key:"Di",value:function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}],[{key:"Si",value:function(t,n,r){var i,a=JSON.parse(r),o="object"==typeof a&&-1!==["pending","acknowledged","rejected"].indexOf(a.state)&&(void 0===a.error||"object"==typeof a.error);return o&&a.error&&((o="string"==typeof a.error.message&&"string"==typeof a.error.code)&&(i=new wa(a.error.code,a.error.message))),o?new e(t,n,a.state,i):(da("SharedClientState","Failed to parse mutation state for ID '".concat(n,"': ").concat(r)),null)}}]),e}(),Gf=function(){function e(t,n,r){h(this,e),this.targetId=t,this.state=n,this.error=r}return p(e,[{key:"Di",value:function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}],[{key:"Si",value:function(t,n){var r,i=JSON.parse(n),a="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return a&&i.error&&((a="string"==typeof i.error.message&&"string"==typeof i.error.code)&&(r=new wa(i.error.code,i.error.message))),a?new e(t,i.state,r):(da("SharedClientState","Failed to parse target state for ID '".concat(t,"': ").concat(n)),null)}}]),e}(),Qf=function(){function e(t,n){h(this,e),this.clientId=t,this.activeTargetIds=n}return p(e,null,[{key:"Si",value:function(t,n){for(var r=JSON.parse(n),i="object"==typeof r&&r.activeTargetIds instanceof Array,a=ss(),o=0;i&&o<r.activeTargetIds.length;++o)i=io(r.activeTargetIds[o]),a=a.add(r.activeTargetIds[o]);return i?new e(t,a):(da("SharedClientState","Failed to parse client data for instance '".concat(t,"': ").concat(n)),null)}}]),e}(),Hf=function(){function e(t,n){h(this,e),this.clientId=t,this.onlineState=n}return p(e,null,[{key:"Si",value:function(t){var n=JSON.parse(t);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new e(n.clientId,n.onlineState):(da("SharedClientState","Failed to parse online state: ".concat(t)),null)}}]),e}(),Wf=function(){function e(){h(this,e),this.activeTargetIds=ss()}return p(e,[{key:"Ci",value:function(e){this.activeTargetIds=this.activeTargetIds.add(e)}},{key:"Ni",value:function(e){this.activeTargetIds=this.activeTargetIds.delete(e)}},{key:"Di",value:function(){var e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}]),e}(),Yf=function(){function e(t,n,r,i,a){h(this,e),this.window=t,this.Sn=n,this.persistenceKey=r,this.xi=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.ki=this.Oi.bind(this),this.Mi=new Wu(Pa),this.started=!1,this.$i=[];var o=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=a,this.Fi=Vf(this.persistenceKey,this.xi),this.Bi=function(e){return"firestore_sequence_number_".concat(e)}(this.persistenceKey),this.Mi=this.Mi.insert(this.xi,new Wf),this.Li=new RegExp("^firestore_clients_".concat(o,"_([^_]*)$")),this.Ui=new RegExp("^firestore_mutations_".concat(o,"_(\\d+)(?:_(.*))?$")),this.qi=new RegExp("^firestore_targets_".concat(o,"_(\\d+)$")),this.Ki=function(e){return"firestore_online_state_".concat(e)}(this.persistenceKey),this.Gi=function(e){return"firestore_bundle_loaded_".concat(e)}(this.persistenceKey),this.window.addEventListener("storage",this.ki)}return p(e,[{key:"start",value:function(){var e=H(Y().mark((function e(){var t,n,r,i,a,o,u,s,c,l,f,h=this;return Y().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.syncEngine.ds();case 2:t=e.sent,n=v(t),e.prev=4,n.s();case 6:if((r=n.n()).done){e.next=14;break}if((i=r.value)!==this.xi){e.next=10;break}return e.abrupt("continue",12);case 10:(a=this.getItem(Vf(this.persistenceKey,i)))&&(o=Qf.Si(i,a))&&(this.Mi=this.Mi.insert(o.clientId,o));case 12:e.next=6;break;case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(4),n.e(e.t0);case 19:return e.prev=19,n.f(),e.finish(19);case 22:this.ji(),(u=this.storage.getItem(this.Ki))&&(s=this.Qi(u))&&this.Wi(s),c=v(this.$i);try{for(c.s();!(l=c.n()).done;)f=l.value,this.Oi(f)}catch(d){c.e(d)}finally{c.f()}this.$i=[],this.window.addEventListener("pagehide",(function(){return h.shutdown()})),this.started=!0;case 28:case"end":return e.stop()}}),e,this,[[4,16,19,22]])})));return function(){return e.apply(this,arguments)}}()},{key:"writeSequenceNumber",value:function(e){this.setItem(this.Bi,JSON.stringify(e))}},{key:"getAllActiveQueryTargets",value:function(){return this.zi(this.Mi)}},{key:"isActiveQueryTarget",value:function(e){var t=!1;return this.Mi.forEach((function(n,r){r.activeTargetIds.has(e)&&(t=!0)})),t}},{key:"addPendingMutation",value:function(e){this.Hi(e,"pending")}},{key:"updateMutationState",value:function(e,t,n){this.Hi(e,t,n),this.Ji(e)}},{key:"addLocalQueryTarget",value:function(e){var t="not-current";if(this.isActiveQueryTarget(e)){var n=this.storage.getItem(zf(this.persistenceKey,e));if(n){var r=Gf.Si(e,n);r&&(t=r.state)}}return this.Yi.Ci(e),this.ji(),t}},{key:"removeLocalQueryTarget",value:function(e){this.Yi.Ni(e),this.ji()}},{key:"isLocalQueryTarget",value:function(e){return this.Yi.activeTargetIds.has(e)}},{key:"clearQueryState",value:function(e){this.removeItem(zf(this.persistenceKey,e))}},{key:"updateQueryState",value:function(e,t,n){this.Xi(e,t,n)}},{key:"handleUserChange",value:function(e,t,n){var r=this;t.forEach((function(e){r.Ji(e)})),this.currentUser=e,n.forEach((function(e){r.addPendingMutation(e)}))}},{key:"setOnlineState",value:function(e){this.Zi(e)}},{key:"notifyBundleLoaded",value:function(){this.tr()}},{key:"shutdown",value:function(){this.started&&(this.window.removeEventListener("storage",this.ki),this.removeItem(this.Fi),this.started=!1)}},{key:"getItem",value:function(e){var t=this.storage.getItem(e);return ha("SharedClientState","READ",e,t),t}},{key:"setItem",value:function(e,t){ha("SharedClientState","SET",e,t),this.storage.setItem(e,t)}},{key:"removeItem",value:function(e){ha("SharedClientState","REMOVE",e),this.storage.removeItem(e)}},{key:"Oi",value:function(e){var t=this,n=e;if(n.storageArea===this.storage){if(ha("SharedClientState","EVENT",n.key,n.newValue),n.key===this.Fi)return void da("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Sn.enqueueRetryable(H(Y().mark((function e(){var r,i,a,o,u,s;return Y().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.started){e.next=41;break}if(null===n.key){e.next=39;break}if(!t.Li.test(n.key)){e.next=11;break}if(null!=n.newValue){e.next=6;break}return r=t.er(n.key),e.abrupt("return",t.nr(r,null));case 6:if(!(i=t.sr(n.key,n.newValue))){e.next=9;break}return e.abrupt("return",t.nr(i.clientId,i));case 9:e.next=39;break;case 11:if(!t.Ui.test(n.key)){e.next=18;break}if(null===n.newValue){e.next=16;break}if(!(a=t.ir(n.key,n.newValue))){e.next=16;break}return e.abrupt("return",t.rr(a));case 16:e.next=39;break;case 18:if(!t.qi.test(n.key)){e.next=25;break}if(null===n.newValue){e.next=23;break}if(!(o=t.cr(n.key,n.newValue))){e.next=23;break}return e.abrupt("return",t.ur(o));case 23:e.next=39;break;case 25:if(n.key!==t.Ki){e.next=32;break}if(null===n.newValue){e.next=30;break}if(!(u=t.Qi(n.newValue))){e.next=30;break}return e.abrupt("return",t.Wi(u));case 30:e.next=39;break;case 32:if(n.key!==t.Bi){e.next=37;break}s=function(e){var t=Na.A;if(null!=e)try{var n=JSON.parse(e);ma("number"==typeof n),t=n}catch(e){da("SharedClientState","Failed to read sequence number from WebStorage",e)}return t}(n.newValue),s!==Na.A&&t.sequenceNumberHandler(s),e.next=39;break;case 37:if(n.key!==t.Gi){e.next=39;break}return e.abrupt("return",t.syncEngine.ar());case 39:e.next=42;break;case 41:t.$i.push(n);case 42:case"end":return e.stop()}}),e)}))))}}},{key:"Yi",get:function(){return this.Mi.get(this.xi)}},{key:"ji",value:function(){this.setItem(this.Fi,this.Yi.Di())}},{key:"Hi",value:function(e,t,n){var r=new Kf(this.currentUser,e,t,n),i=qf(this.persistenceKey,this.currentUser,e);this.setItem(i,r.Di())}},{key:"Ji",value:function(e){var t=qf(this.persistenceKey,this.currentUser,e);this.removeItem(t)}},{key:"Zi",value:function(e){var t={clientId:this.xi,onlineState:e};this.storage.setItem(this.Ki,JSON.stringify(t))}},{key:"Xi",value:function(e,t,n){var r=zf(this.persistenceKey,e),i=new Gf(e,t,n);this.setItem(r,i.Di())}},{key:"tr",value:function(){this.setItem(this.Gi,"value-not-used")}},{key:"er",value:function(e){var t=this.Li.exec(e);return t?t[1]:null}},{key:"sr",value:function(e,t){var n=this.er(e);return Qf.Si(n,t)}},{key:"ir",value:function(e,t){var n=this.Ui.exec(e),r=Number(n[1]),i=void 0!==n[2]?n[2]:null;return Kf.Si(new sa(i),r,t)}},{key:"cr",value:function(e,t){var n=this.qi.exec(e),r=Number(n[1]);return Gf.Si(r,t)}},{key:"Qi",value:function(e){return Hf.Si(e)}},{key:"rr",value:function(){var e=H(Y().mark((function e(t){return Y().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.user.uid!==this.currentUser.uid){e.next=2;break}return e.abrupt("return",this.syncEngine.hr(t.batchId,t.state,t.error));case 2:ha("SharedClientState","Ignoring mutation for non-active user ".concat(t.user.uid));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"ur",value:function(e){return this.syncEngine.lr(e.targetId,e.state,e.error)}},{key:"nr",value:function(e,t){var n=this,r=t?this.Mi.insert(e,t):this.Mi.remove(e),i=this.zi(this.Mi),a=this.zi(r),o=[],u=[];return a.forEach((function(e){i.has(e)||o.push(e)})),i.forEach((function(e){a.has(e)||u.push(e)})),this.syncEngine.dr(o,u).then((function(){n.Mi=r}))}},{key:"Wi",value:function(e){this.Mi.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}},{key:"zi",value:function(e){var t=ss();return e.forEach((function(e,n){t=t.unionWith(n.activeTargetIds)})),t}}],[{key:"Vt",value:function(e){return!(!e||!e.localStorage)}}]),e}(),Xf=function(){function e(){h(this,e),this._r=new Wf,this.wr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}return p(e,[{key:"addPendingMutation",value:function(e){}},{key:"updateMutationState",value:function(e,t,n){}},{key:"addLocalQueryTarget",value:function(e){return this._r.Ci(e),this.wr[e]||"not-current"}},{key:"updateQueryState",value:function(e,t,n){this.wr[e]=t}},{key:"removeLocalQueryTarget",value:function(e){this._r.Ni(e)}},{key:"isLocalQueryTarget",value:function(e){return this._r.activeTargetIds.has(e)}},{key:"clearQueryState",value:function(e){delete this.wr[e]}},{key:"getAllActiveQueryTargets",value:function(){return this._r.activeTargetIds}},{key:"isActiveQueryTarget",value:function(e){return this._r.activeTargetIds.has(e)}},{key:"start",value:function(){return this._r=new Wf,Promise.resolve()}},{key:"handleUserChange",value:function(e,t,n){}},{key:"setOnlineState",value:function(e){}},{key:"shutdown",value:function(){}},{key:"writeSequenceNumber",value:function(e){}},{key:"notifyBundleLoaded",value:function(){}}]),e}(),Jf=function(){function e(){h(this,e)}return p(e,[{key:"mr",value:function(e){}},{key:"shutdown",value:function(){}}]),e}(),$f=function(){function e(){var t=this;h(this,e),this.gr=function(){return t.yr()},this.pr=function(){return t.Ir()},this.Er=[],this.Tr()}return p(e,[{key:"mr",value:function(e){this.Er.push(e)}},{key:"shutdown",value:function(){window.removeEventListener("online",this.gr),window.removeEventListener("offline",this.pr)}},{key:"Tr",value:function(){window.addEventListener("online",this.gr),window.addEventListener("offline",this.pr)}},{key:"yr",value:function(){ha("ConnectivityMonitor","Network connectivity changed: AVAILABLE");var e,t=v(this.Er);try{for(t.s();!(e=t.n()).done;){(0,e.value)(0)}}catch(n){t.e(n)}finally{t.f()}}},{key:"Ir",value:function(){ha("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");var e,t=v(this.Er);try{for(t.s();!(e=t.n()).done;){(0,e.value)(1)}}catch(n){t.e(n)}finally{t.f()}}}],[{key:"Vt",value:function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}]),e}(),Zf={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},eh=function(){function e(t){h(this,e),this.Ar=t.Ar,this.Rr=t.Rr}return p(e,[{key:"Pr",value:function(e){this.br=e}},{key:"vr",value:function(e){this.Vr=e}},{key:"onMessage",value:function(e){this.Sr=e}},{key:"close",value:function(){this.Rr()}},{key:"send",value:function(e){this.Ar(e)}},{key:"Dr",value:function(){this.br()}},{key:"Cr",value:function(e){this.Vr(e)}},{key:"Nr",value:function(e){this.Sr(e)}}]),e}(),th=function(e){g(n,e);var t=E(n);function n(e){var r;return h(this,n),(r=t.call(this,e)).forceLongPolling=e.forceLongPolling,r.autoDetectLongPolling=e.autoDetectLongPolling,r.useFetchStreams=e.useFetchStreams,r}return p(n,[{key:"Br",value:function(e,t,n,r){return new Promise((function(i,a){var o=new oa;o.listenOnce(ta.COMPLETE,(function(){try{switch(o.getLastErrorCode()){case ea.NO_ERROR:var t=o.getResponseJson();ha("Connection","XHR received:",JSON.stringify(t)),i(t);break;case ea.TIMEOUT:ha("Connection",'RPC "'+e+'" timed out'),a(new wa(ka.DEADLINE_EXCEEDED,"Request time out"));break;case ea.HTTP_ERROR:var n=o.getStatus();if(ha("Connection",'RPC "'+e+'" failed with status:',n,"response text:",o.getResponseText()),n>0){var r=o.getResponseJson().error;if(r&&r.status&&r.message){var u=function(e){var t=e.toLowerCase().replace(/_/g,"-");return Object.values(ka).indexOf(t)>=0?t:ka.UNKNOWN}(r.status);a(new wa(u,r.message))}else a(new wa(ka.UNKNOWN,"Server responded with status "+o.getStatus()))}else a(new wa(ka.UNAVAILABLE,"Connection failed."));break;default:ya()}}finally{ha("Connection",'RPC "'+e+'" completed.')}}));var u=JSON.stringify(r);o.send(t,"POST",u,n,15)}))}},{key:"Ur",value:function(e,t,n){var r=[this.kr,"/","google.firestore.v1.Firestore","/",e,"/channel"],i=$i(),a=Zi(),o={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/".concat(this.databaseId.projectId,"/databases/").concat(this.databaseId.database)},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(o.xmlHttpFactory=new ia({})),this.Fr(o.initMessageHeaders,t,n),"undefined"!==typeof window&&(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(D())||"object"===typeof navigator&&"ReactNative"===navigator.product||D().indexOf("Electron/")>=0||function(){var e=D();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}()||D().indexOf("MSAppHost/")>=0||function(){var e="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof e&&void 0!==e.id}()||(o.httpHeadersOverwriteParam="$httpHeaders");var u=r.join("");ha("Connection","Creating WebChannel: "+u,o);var s=i.createWebChannel(u,o),c=!1,l=!1,f=new eh({Ar:function(e){l?ha("Connection","Not sending because WebChannel is closed:",e):(c||(ha("Connection","Opening WebChannel transport."),s.open(),c=!0),ha("Connection","WebChannel sending:",e),s.send(e))},Rr:function(){return s.close()}}),h=function(e,t,n){e.listen(t,(function(e){try{n(e)}catch(e){setTimeout((function(){throw e}),0)}}))};return h(s,aa.EventType.OPEN,(function(){l||ha("Connection","WebChannel transport opened.")})),h(s,aa.EventType.CLOSE,(function(){l||(l=!0,ha("Connection","WebChannel transport closed"),f.Cr())})),h(s,aa.EventType.ERROR,(function(e){l||(l=!0,pa("Connection","WebChannel transport errored:",e),f.Cr(new wa(ka.UNAVAILABLE,"The operation could not be completed")))})),h(s,aa.EventType.MESSAGE,(function(e){var t;if(!l){var n=e.data[0];ma(!!n);var r=n,i=r.error||(null===(t=r[0])||void 0===t?void 0:t.error);if(i){ha("Connection","WebChannel received error:",i);var a=i.status,o=function(e){var t=Vu[e];if(void 0!==t)return Hu(t)}(a),u=i.message;void 0===o&&(o=ka.INTERNAL,u="Unknown error status: "+a+" with message "+i.message),l=!0,f.Cr(new wa(o,u)),s.close()}else ha("Connection","WebChannel received:",n),f.Nr(n)}})),h(a,na.STAT_EVENT,(function(e){e.stat===ra.PROXY?ha("Connection","Detected buffering proxy"):e.stat===ra.NOPROXY&&ha("Connection","Detected no buffering proxy")})),setTimeout((function(){f.Dr()}),0),f}}]),n}(function(){function e(t){h(this,e),this.databaseInfo=t,this.databaseId=t.databaseId;var n=t.ssl?"https":"http";this.kr=n+"://"+t.host,this.Or="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}return p(e,[{key:"Mr",value:function(e,t,n,r,i){var a=this.$r(e,t);ha("RestConnection","Sending: ",a,n);var o={};return this.Fr(o,r,i),this.Br(e,a,o,n).then((function(e){return ha("RestConnection","Received: ",e),e}),(function(t){throw pa("RestConnection","".concat(e," failed with error: "),t,"url: ",a,"request:",n),t}))}},{key:"Lr",value:function(e,t,n,r,i){return this.Mr(e,t,n,r,i)}},{key:"Fr",value:function(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+ca,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((function(t,n){return e[n]=t})),n&&n.headers.forEach((function(t,n){return e[n]=t}))}},{key:"$r",value:function(e,t){var n=Zf[e];return"".concat(this.kr,"/v1/").concat(t,":").concat(n)}}]),e}());function nh(){return"undefined"!=typeof window?window:null}function rh(){return"undefined"!=typeof document?document:null}function ih(e){return new ws(e,!0)}var ah=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.5,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:6e4;h(this,e),this.Sn=t,this.timerId=n,this.qr=r,this.Kr=i,this.Gr=a,this.jr=0,this.Qr=null,this.Wr=Date.now(),this.reset()}return p(e,[{key:"reset",value:function(){this.jr=0}},{key:"zr",value:function(){this.jr=this.Gr}},{key:"Hr",value:function(e){var t=this;this.cancel();var n=Math.floor(this.jr+this.Jr()),r=Math.max(0,Date.now()-this.Wr),i=Math.max(0,n-r);i>0&&ha("ExponentialBackoff","Backing off for ".concat(i," ms (base delay: ").concat(this.jr," ms, delay with jitter: ").concat(n," ms, last attempt: ").concat(r," ms ago)")),this.Qr=this.Sn.enqueueAfterDelay(this.timerId,i,(function(){return t.Wr=Date.now(),e()})),this.jr*=this.Kr,this.jr<this.qr&&(this.jr=this.qr),this.jr>this.Gr&&(this.jr=this.Gr)}},{key:"Yr",value:function(){null!==this.Qr&&(this.Qr.skipDelay(),this.Qr=null)}},{key:"cancel",value:function(){null!==this.Qr&&(this.Qr.cancel(),this.Qr=null)}},{key:"Jr",value:function(){return(Math.random()-.5)*this.jr}}]),e}(),oh=function(){function e(t,n,r,i,a,o,u,s){h(this,e),this.Sn=t,this.Xr=r,this.Zr=i,this.eo=a,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=u,this.listener=s,this.state=0,this.no=0,this.so=null,this.io=null,this.stream=null,this.ro=new ah(t,n)}return p(e,[{key:"oo",value:function(){return 1===this.state||5===this.state||this.co()}},{key:"co",value:function(){return 2===this.state||3===this.state}},{key:"start",value:function(){4!==this.state?this.auth():this.uo()}},{key:"stop",value:function(){var e=H(Y().mark((function e(){return Y().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.oo(),!e.t0){e.next=4;break}return e.next=4,this.close(0);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"ao",value:function(){this.state=0,this.ro.reset()}},{key:"ho",value:function(){var e=this;this.co()&&null===this.so&&(this.so=this.Sn.enqueueAfterDelay(this.Xr,6e4,(function(){return e.lo()})))}},{key:"fo",value:function(e){this._o(),this.stream.send(e)}},{key:"lo",value:function(){var e=H(Y().mark((function e(){return Y().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.co()){e.next=2;break}return e.abrupt("return",this.close(0));case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_o",value:function(){this.so&&(this.so.cancel(),this.so=null)}},{key:"wo",value:function(){this.io&&(this.io.cancel(),this.io=null)}},{key:"close",value:function(){var e=H(Y().mark((function e(t,n){return Y().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this._o(),this.wo(),this.ro.cancel(),this.no++,4!==t?this.ro.reset():n&&n.code===ka.RESOURCE_EXHAUSTED?(da(n.toString()),da("Using maximum backoff delay to prevent overloading the backend."),this.ro.zr()):n&&n.code===ka.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.mo(),this.stream.close(),this.stream=null),this.state=t,e.next=9,this.listener.vr(n);case 9:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"mo",value:function(){}},{key:"auth",value:function(){var e=this;this.state=1;var t=this.yo(this.no),n=this.no;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((function(t){var r=o(t,2),i=r[0],a=r[1];e.no===n&&e.po(i,a)}),(function(n){t((function(){var t=new wa(ka.UNKNOWN,"Fetching auth token failed: "+n.message);return e.Io(t)}))}))}},{key:"po",value:function(e,t){var n=this,r=this.yo(this.no);this.stream=this.Eo(e,t),this.stream.Pr((function(){r((function(){return n.state=2,n.io=n.Sn.enqueueAfterDelay(n.Zr,1e4,(function(){return n.co()&&(n.state=3),Promise.resolve()})),n.listener.Pr()}))})),this.stream.vr((function(e){r((function(){return n.Io(e)}))})),this.stream.onMessage((function(e){r((function(){return n.onMessage(e)}))}))}},{key:"uo",value:function(){var e=this;this.state=5,this.ro.Hr(H(Y().mark((function t(){return Y().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.state=0,e.start();case 1:case"end":return t.stop()}}),t)}))))}},{key:"Io",value:function(e){return ha("PersistentStream","close with error: ".concat(e)),this.stream=null,this.close(4,e)}},{key:"yo",value:function(e){var t=this;return function(n){t.Sn.enqueueAndForget((function(){return t.no===e?n():(ha("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())}))}}}]),e}(),uh=function(e){g(n,e);var t=E(n);function n(e,r,i,a,o,u){var s;return h(this,n),(s=t.call(this,e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",r,i,a,u)).O=o,s}return p(n,[{key:"Eo",value:function(e,t){return this.eo.Ur("Listen",e,t)}},{key:"onMessage",value:function(e){this.ro.reset();var t=function(e,t){var n;if("targetChange"in t){t.targetChange;var r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:ya()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],a=function(e,t){return e.N?(ma(void 0===t||"string"==typeof t),Qa.fromBase64String(t||"")):(ma(void 0===t||t instanceof Uint8Array),Qa.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),o=t.targetChange.cause,u=o&&function(e){var t=void 0===e.code?ka.UNKNOWN:Hu(e.code);return new wa(t,e.message||"")}(o);n=new ds(r,i,a,u||null)}else if("documentChange"in t){t.documentChange;var s=t.documentChange;s.document,s.document.name,s.document.updateTime;var c=_s(e,s.document.name),l=Ss(s.document.updateTime),f=new xo({mapValue:{fields:s.document.fields}}),h=So.newFoundDocument(c,l,f),d=s.targetIds||[],p=s.removedTargetIds||[];n=new fs(d,p,h.key,h)}else if("documentDelete"in t){t.documentDelete;var v=t.documentDelete;v.document;var y=_s(e,v.document),m=v.readTime?Ss(v.readTime):Fa.min(),g=So.newNoDocument(y,m),k=v.removedTargetIds||[];n=new fs([],k,g.key,g)}else if("documentRemove"in t){t.documentRemove;var w=t.documentRemove;w.document;var b=_s(e,w.document),x=w.removedTargetIds||[];n=new fs([],x,b,null)}else{if(!("filter"in t))return ya();t.filter;var E=t.filter;E.targetId;var S=E.count||0,I=new Gu(S),T=E.targetId;n=new hs(T,I)}return n}(this.O,e),n=function(e){if(!("targetChange"in e))return Fa.min();var t=e.targetChange;return t.targetIds&&t.targetIds.length?Fa.min():t.readTime?Ss(t.readTime):Fa.min()}(e);return this.listener.To(t,n)}},{key:"Ao",value:function(e){var t={};t.database=Os(this.O),t.addTarget=function(e,t){var n,r=t.target;return(n=Po(r)?{documents:js(e,r)}:{query:Bs(e,r)}).targetId=t.targetId,t.resumeToken.approximateByteSize()>0?n.resumeToken=xs(e,t.resumeToken):t.snapshotVersion.compareTo(Fa.min())>0&&(n.readTime=bs(e,t.snapshotVersion.toTimestamp())),n}(this.O,e);var n=function(e,t){var n=function(e,t){switch(t){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return ya()}}(0,t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.O,e);n&&(t.labels=n),this.fo(t)}},{key:"Ro",value:function(e){var t={};t.database=Os(this.O),t.removeTarget=e,this.fo(t)}}]),n}(oh),sh=function(e){g(n,e);var t=E(n);function n(e,r,i,a,o,u){var s;return h(this,n),(s=t.call(this,e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",r,i,a,u)).O=o,s.Po=!1,s}return p(n,[{key:"bo",get:function(){return this.Po}},{key:"start",value:function(){this.Po=!1,this.lastStreamToken=void 0,Qe(k(n.prototype),"start",this).call(this)}},{key:"mo",value:function(){this.Po&&this.vo([])}},{key:"Eo",value:function(e,t){return this.eo.Ur("Write",e,t)}},{key:"onMessage",value:function(e){if(ma(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Po){this.ro.reset();var t=function(e,t){return e&&e.length>0?(ma(void 0!==t),e.map((function(e){return function(e,t){var n=e.updateTime?Ss(e.updateTime):Ss(t);return n.isEqual(Fa.min())&&(n=Ss(t)),new Cu(n,e.transformResults||[])}(e,t)}))):[]}(e.writeResults,e.commitTime),n=Ss(e.commitTime);return this.listener.Vo(n,t)}return ma(!e.writeResults||0===e.writeResults.length),this.Po=!0,this.listener.So()}},{key:"Do",value:function(){var e={};e.database=Os(this.O),this.fo(e)}},{key:"vo",value:function(e){var t=this,n={streamToken:this.lastStreamToken,writes:e.map((function(e){return Ms(t.O,e)}))};this.fo(n)}}]),n}(oh),ch=function(e){g(n,e);var t=E(n);function n(e,r,i,a){var o;return h(this,n),(o=t.call(this)).authCredentials=e,o.appCheckCredentials=r,o.eo=i,o.O=a,o.Co=!1,o}return p(n,[{key:"No",value:function(){if(this.Co)throw new wa(ka.FAILED_PRECONDITION,"The client has already been terminated.")}},{key:"Mr",value:function(e,t,n){var r=this;return this.No(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((function(i){var a=o(i,2),u=a[0],s=a[1];return r.eo.Mr(e,t,n,u,s)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===ka.UNAUTHENTICATED&&(r.authCredentials.invalidateToken(),r.appCheckCredentials.invalidateToken()),e):new wa(ka.UNKNOWN,e.toString())}))}},{key:"Lr",value:function(e,t,n){var r=this;return this.No(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((function(i){var a=o(i,2),u=a[0],s=a[1];return r.eo.Lr(e,t,n,u,s)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===ka.UNAUTHENTICATED&&(r.authCredentials.invalidateToken(),r.appCheckCredentials.invalidateToken()),e):new wa(ka.UNKNOWN,e.toString())}))}},{key:"terminate",value:function(){this.Co=!0}}]),n}(function(){return p((function e(){h(this,e)}))}()),lh=function(){function e(t,n){h(this,e),this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.xo=0,this.ko=null,this.Oo=!0}return p(e,[{key:"Mo",value:function(){var e=this;0===this.xo&&(this.$o("Unknown"),this.ko=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(function(){return e.ko=null,e.Fo("Backend didn't respond within 10 seconds."),e.$o("Offline"),Promise.resolve()})))}},{key:"Bo",value:function(e){"Online"===this.state?this.$o("Unknown"):(this.xo++,this.xo>=1&&(this.Lo(),this.Fo("Connection failed 1 times. Most recent error: ".concat(e.toString())),this.$o("Offline")))}},{key:"set",value:function(e){this.Lo(),this.xo=0,"Online"===e&&(this.Oo=!1),this.$o(e)}},{key:"$o",value:function(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}},{key:"Fo",value:function(e){var t="Could not reach Cloud Firestore backend. ".concat(e,"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.");this.Oo?(da(t),this.Oo=!1):ha("OnlineStateTracker",t)}},{key:"Lo",value:function(){null!==this.ko&&(this.ko.cancel(),this.ko=null)}}]),e}(),fh=p((function e(t,n,r,i,a){var o=this;h(this,e),this.localStore=t,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Uo=[],this.qo=new Map,this.Ko=new Set,this.Go=[],this.jo=a,this.jo.mr((function(e){r.enqueueAndForget(H(Y().mark((function e(){return Y().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=xh(o),!e.t0){e.next=5;break}return ha("RemoteStore","Restarting streams for network reachability change."),e.next=5,function(){var e=H(Y().mark((function e(t){var n;return Y().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=ga(t)).Ko.add(4),e.next=4,ph(n);case 4:return n.Qo.set("Unknown"),n.Ko.delete(4),e.next=8,hh(n);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(o);case 5:case"end":return e.stop()}}),e)}))))})),this.Qo=new lh(r,i)}));function hh(e){return dh.apply(this,arguments)}function dh(){return dh=H(Y().mark((function e(t){var n,r,i;return Y().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!xh(t)){e.next=18;break}n=v(t.Go),e.prev=2,n.s();case 4:if((r=n.n()).done){e.next=10;break}return i=r.value,e.next=8,i(!0);case 8:e.next=4;break;case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(2),n.e(e.t0);case 15:return e.prev=15,n.f(),e.finish(15);case 18:case"end":return e.stop()}}),e,null,[[2,12,15,18]])}))),dh.apply(this,arguments)}function ph(e){return vh.apply(this,arguments)}function vh(){return vh=H(Y().mark((function e(t){var n,r,i;return Y().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=v(t.Go),e.prev=1,n.s();case 3:if((r=n.n()).done){e.next=9;break}return i=r.value,e.next=7,i(!1);case 7:e.next=3;break;case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),n.e(e.t0);case 14:return e.prev=14,n.f(),e.finish(14);case 17:case"end":return e.stop()}}),e,null,[[1,11,14,17]])}))),vh.apply(this,arguments)}function yh(e,t){var n=ga(e);n.qo.has(t.targetId)||(n.qo.set(t.targetId,t),bh(n)?wh(n):Jh(n).co()&&gh(n,t))}function mh(e,t){var n=ga(e),r=Jh(n);n.qo.delete(t),r.co()&&kh(n,t),0===n.qo.size&&(r.co()?r.ho():xh(n)&&n.Qo.set("Unknown"))}function gh(e,t){e.Wo.Z(t.targetId),Jh(e).Ao(t)}function kh(e,t){e.Wo.Z(t),Jh(e).Ro(t)}function wh(e){e.Wo=new vs({getRemoteKeysForTarget:function(t){return e.remoteSyncer.getRemoteKeysForTarget(t)},Tt:function(t){return e.qo.get(t)||null}}),Jh(e).start(),e.Qo.Mo()}function bh(e){return xh(e)&&!Jh(e).oo()&&e.qo.size>0}function xh(e){return 0===ga(e).Ko.size}function Eh(e){e.Wo=void 0}function Sh(e){return Ih.apply(this,arguments)}function Ih(){return Ih=H(Y().mark((function e(t){return Y().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.qo.forEach((function(e,n){gh(t,e)}));case 1:case"end":return e.stop()}}),e)}))),Ih.apply(this,arguments)}function Th(e,t){return Ch.apply(this,arguments)}function Ch(){return Ch=H(Y().mark((function e(t,n){return Y().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Eh(t),bh(t)?(t.Qo.Bo(n),wh(t)):t.Qo.set("Unknown");case 1:case"end":return e.stop()}}),e)}))),Ch.apply(this,arguments)}function _h(e,t,n){return Ah.apply(this,arguments)}function Ah(){return Ah=H(Y().mark((function e(t,n,r){var i;return Y().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.Qo.set("Online"),!(n instanceof ds&&2===n.state&&n.cause)){e.next=13;break}return e.prev=1,e.next=4,function(){var e=H(Y().mark((function e(t,n){var r,i,a,o;return Y().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=n.cause,i=v(n.targetIds),e.prev=2,i.s();case 4:if((a=i.n()).done){e.next=14;break}if(o=a.value,e.t0=t.qo.has(o),!e.t0){e.next=12;break}return e.next=10,t.remoteSyncer.rejectListen(o,r);case 10:t.qo.delete(o),t.Wo.removeTarget(o);case 12:e.next=4;break;case 14:e.next=19;break;case 16:e.prev=16,e.t1=e.catch(2),i.e(e.t1);case 19:return e.prev=19,i.f(),e.finish(19);case 22:case"end":return e.stop()}}),e,null,[[2,16,19,22]])})));return function(t,n){return e.apply(this,arguments)}}()(t,n);case 4:e.next=11;break;case 6:return e.prev=6,e.t0=e.catch(1),ha("RemoteStore","Failed to remove targets %s: %s ",n.targetIds.join(","),e.t0),e.next=11,Nh(t,e.t0);case 11:case 22:e.next=29;break;case 13:if(n instanceof fs?t.Wo.ct(n):n instanceof hs?t.Wo._t(n):t.Wo.ht(n),r.isEqual(Fa.min())){e.next=29;break}return e.prev=14,e.next=17,pf(t.localStore);case 17:if(i=e.sent,e.t1=r.compareTo(i)>=0,!e.t1){e.next=22;break}return e.next=22,function(e,t){var n=e.Wo.yt(t);return n.targetChanges.forEach((function(n,r){if(n.resumeToken.approximateByteSize()>0){var i=e.qo.get(r);i&&e.qo.set(r,i.withResumeToken(n.resumeToken,t))}})),n.targetMismatches.forEach((function(t){var n=e.qo.get(t);if(n){e.qo.set(t,n.withResumeToken(Qa.EMPTY_BYTE_STRING,n.snapshotVersion)),kh(e,t);var r=new Uc(n.target,t,1,n.sequenceNumber);gh(e,r)}})),e.remoteSyncer.applyRemoteEvent(n)}(t,r);case 24:return e.prev=24,e.t2=e.catch(14),ha("RemoteStore","Failed to raise snapshot:",e.t2),e.next=29,Nh(t,e.t2);case 29:case"end":return e.stop()}}),e,null,[[1,6],[14,24]])}))),Ah.apply(this,arguments)}function Nh(e,t,n){return Oh.apply(this,arguments)}function Oh(){return Oh=H(Y().mark((function e(t,n,r){return Y().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Nc(n)){e.next=2;break}throw n;case 2:return t.Ko.add(1),e.next=5,ph(t);case 5:t.Qo.set("Offline"),r||(r=function(){return pf(t.localStore)}),t.asyncQueue.enqueueRetryable(H(Y().mark((function e(){return Y().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return ha("RemoteStore","Retrying IndexedDB access"),e.next=3,r();case 3:return t.Ko.delete(1),e.next=6,hh(t);case 6:case"end":return e.stop()}}),e)}))));case 8:case"end":return e.stop()}}),e)}))),Oh.apply(this,arguments)}function Dh(e,t){return t().catch((function(n){return Nh(e,n,t)}))}function Ph(e){return Lh.apply(this,arguments)}function Lh(){return Lh=H(Y().mark((function e(t){var n,r,i,a;return Y().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=ga(t),r=$h(n),i=n.Uo.length>0?n.Uo[n.Uo.length-1].batchId:-1;case 2:if(!Rh(n)){e.next=19;break}return e.prev=3,e.next=6,mf(n.localStore,i);case 6:if(null!==(a=e.sent)){e.next=10;break}return 0===n.Uo.length&&r.ho(),e.abrupt("break",19);case 10:i=a.batchId,Mh(n,a),e.next=17;break;case 13:return e.prev=13,e.t0=e.catch(3),e.next=17,Nh(n,e.t0);case 17:e.next=2;break;case 19:Fh(n)&&jh(n);case 20:case"end":return e.stop()}}),e,null,[[3,13]])}))),Lh.apply(this,arguments)}function Rh(e){return xh(e)&&e.Uo.length<10}function Mh(e,t){e.Uo.push(t);var n=$h(e);n.co()&&n.bo&&n.vo(t.mutations)}function Fh(e){return xh(e)&&!$h(e).oo()&&e.Uo.length>0}function jh(e){$h(e).start()}function Bh(e){return Uh.apply(this,arguments)}function Uh(){return Uh=H(Y().mark((function e(t){return Y().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:$h(t).Do();case 1:case"end":return e.stop()}}),e)}))),Uh.apply(this,arguments)}function Vh(e){return qh.apply(this,arguments)}function qh(){return qh=H(Y().mark((function e(t){var n,r,i,a;return Y().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=$h(t),r=v(t.Uo);try{for(r.s();!(i=r.n()).done;)a=i.value,n.vo(a.mutations)}catch(o){r.e(o)}finally{r.f()}case 3:case"end":return e.stop()}}),e)}))),qh.apply(this,arguments)}function zh(e,t,n){return Kh.apply(this,arguments)}function Kh(){return Kh=H(Y().mark((function e(t,n,r){var i,a;return Y().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.Uo.shift(),a=jc.from(i,n,r),e.next=3,Dh(t,(function(){return t.remoteSyncer.applySuccessfulWrite(a)}));case 3:return e.next=5,Ph(t);case 5:case"end":return e.stop()}}),e)}))),Kh.apply(this,arguments)}function Gh(e,t){return Qh.apply(this,arguments)}function Qh(){return Qh=H(Y().mark((function e(t,n){return Y().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=n&&$h(t).bo,!e.t0){e.next=4;break}return e.next=4,function(){var e=H(Y().mark((function e(t,n){var r,i;return Y().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!Qu(i=n.code)||i===ka.ABORTED){e.next=7;break}return r=t.Uo.shift(),$h(t).ao(),e.next=5,Dh(t,(function(){return t.remoteSyncer.rejectFailedWrite(r.batchId,n)}));case 5:return e.next=7,Ph(t);case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(t,n);case 4:Fh(t)&&jh(t);case 5:case"end":return e.stop()}}),e)}))),Qh.apply(this,arguments)}function Hh(e,t){return Wh.apply(this,arguments)}function Wh(){return Wh=H(Y().mark((function e(t,n){var r,i;return Y().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(r=ga(t)).asyncQueue.verifyOperationInProgress(),ha("RemoteStore","RemoteStore received new credentials"),i=xh(r),r.Ko.add(3),e.next=6,ph(r);case 6:return i&&r.Qo.set("Unknown"),e.next=9,r.remoteSyncer.handleCredentialChange(n);case 9:return r.Ko.delete(3),e.next=12,hh(r);case 12:case"end":return e.stop()}}),e)}))),Wh.apply(this,arguments)}function Yh(e,t){return Xh.apply(this,arguments)}function Xh(){return Xh=H(Y().mark((function e(t,n){var r;return Y().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=ga(t),!n){e.next=7;break}return r.Ko.delete(2),e.next=5,hh(r);case 5:e.next=13;break;case 7:if(e.t0=n,e.t0){e.next=13;break}return r.Ko.add(2),e.next=12,ph(r);case 12:r.Qo.set("Unknown");case 13:case"end":return e.stop()}}),e)}))),Xh.apply(this,arguments)}function Jh(e){return e.zo||(e.zo=function(e,t,n){var r=ga(e);return r.No(),new uh(t,r.eo,r.authCredentials,r.appCheckCredentials,r.O,n)}(e.datastore,e.asyncQueue,{Pr:Sh.bind(null,e),vr:Th.bind(null,e),To:_h.bind(null,e)}),e.Go.push(function(){var t=H(Y().mark((function t(n){return Y().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=4;break}e.zo.ao(),bh(e)?wh(e):e.Qo.set("Unknown"),t.next=7;break;case 4:return t.next=6,e.zo.stop();case 6:Eh(e);case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())),e.zo}function $h(e){return e.Ho||(e.Ho=function(e,t,n){var r=ga(e);return r.No(),new sh(t,r.eo,r.authCredentials,r.appCheckCredentials,r.O,n)}(e.datastore,e.asyncQueue,{Pr:Bh.bind(null,e),vr:Gh.bind(null,e),So:Vh.bind(null,e),Vo:zh.bind(null,e)}),e.Go.push(function(){var t=H(Y().mark((function t(n){return Y().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=6;break}return e.Ho.ao(),t.next=4,Ph(e);case 4:t.next=9;break;case 6:return t.next=8,e.Ho.stop();case 8:e.Uo.length>0&&(ha("RemoteStore","Stopping write stream with ".concat(e.Uo.length," pending writes")),e.Uo=[]);case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())),e.Ho}var Zh=function(){function e(t,n,r,i,a){h(this,e),this.asyncQueue=t,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=a,this.deferred=new ba,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((function(e){}))}return p(e,[{key:"start",value:function(e){var t=this;this.timerHandle=setTimeout((function(){return t.handleDelayElapsed()}),e)}},{key:"skipDelay",value:function(){return this.handleDelayElapsed()}},{key:"cancel",value:function(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new wa(ka.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}},{key:"handleDelayElapsed",value:function(){var e=this;this.asyncQueue.enqueueAndForget((function(){return null!==e.timerHandle?(e.clearTimeout(),e.op().then((function(t){return e.deferred.resolve(t)}))):Promise.resolve()}))}},{key:"clearTimeout",value:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}))}],[{key:"createAndSchedule",value:function(t,n,r,i,a){var o=new e(t,n,Date.now()+r,i,a);return o.start(r),o}}]),e}();function ed(e,t){if(da("AsyncQueue","".concat(t,": ").concat(e)),Nc(e))return new wa(ka.UNAVAILABLE,"".concat(t,": ").concat(e));throw e}var td=function(){function e(t){h(this,e),this.comparator=t?function(e,n){return t(e,n)||ao.comparator(e.key,n.key)}:function(e,t){return ao.comparator(e.key,t.key)},this.keyedMap=rs(),this.sortedSet=new Wu(this.comparator)}return p(e,[{key:"has",value:function(e){return null!=this.keyedMap.get(e)}},{key:"get",value:function(e){return this.keyedMap.get(e)}},{key:"first",value:function(){return this.sortedSet.minKey()}},{key:"last",value:function(){return this.sortedSet.maxKey()}},{key:"isEmpty",value:function(){return this.sortedSet.isEmpty()}},{key:"indexOf",value:function(e){var t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}},{key:"size",get:function(){return this.sortedSet.size}},{key:"forEach",value:function(e){this.sortedSet.inorderTraversal((function(t,n){return e(t),!1}))}},{key:"add",value:function(e){var t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}},{key:"delete",value:function(e){var t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}},{key:"isEqual",value:function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();n.hasNext();){var i=n.getNext().key,a=r.getNext().key;if(!i.isEqual(a))return!1}return!0}},{key:"toString",value:function(){var e=[];return this.forEach((function(t){e.push(t.toString())})),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}},{key:"copy",value:function(t,n){var r=new e;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=n,r}}],[{key:"emptySet",value:function(t){return new e(t.comparator)}}]),e}(),nd=function(){function e(){h(this,e),this.Jo=new Wu(ao.comparator)}return p(e,[{key:"track",value:function(e){var t=e.doc.key,n=this.Jo.get(t);n?0!==e.type&&3===n.type?this.Jo=this.Jo.insert(t,e):3===e.type&&1!==n.type?this.Jo=this.Jo.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.Jo=this.Jo.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.Jo=this.Jo.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.Jo=this.Jo.remove(t):1===e.type&&2===n.type?this.Jo=this.Jo.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.Jo=this.Jo.insert(t,{type:2,doc:e.doc}):ya():this.Jo=this.Jo.insert(t,e)}},{key:"Yo",value:function(){var e=[];return this.Jo.inorderTraversal((function(t,n){e.push(n)})),e}}]),e}(),rd=function(){function e(t,n,r,i,a,o,u,s){h(this,e),this.query=t,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=a,this.fromCache=o,this.syncStateChanged=u,this.excludesMetadataChanges=s}return p(e,[{key:"hasPendingWrites",get:function(){return!this.mutatedKeys.isEmpty()}},{key:"isEqual",value:function(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&au(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;var t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(var r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0}}],[{key:"fromInitialDocuments",value:function(t,n,r,i){var a=[];return n.forEach((function(e){a.push({type:0,doc:e})})),new e(t,n,td.emptySet(n),a,r,i,!0,!1)}}]),e}(),id=p((function e(){h(this,e),this.Xo=void 0,this.listeners=[]})),ad=p((function e(){h(this,e),this.queries=new Kl((function(e){return ou(e)}),au),this.onlineState="Unknown",this.Zo=new Set}));function od(e,t){return ud.apply(this,arguments)}function ud(){return ud=H(Y().mark((function e(t,n){var r,i,a,o,u;return Y().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=ga(t),i=n.query,a=!1,(o=r.queries.get(i))||(a=!0,o=new id),!a){e.next=13;break}return e.prev=3,e.next=6,r.onListen(i);case 6:o.Xo=e.sent,e.next=13;break;case 9:return e.prev=9,e.t0=e.catch(3),u=ed(e.t0,"Initialization of query '".concat(uu(n.query),"' failed")),e.abrupt("return",void n.onError(u));case 13:r.queries.set(i,o),o.listeners.push(n),n.tc(r.onlineState),o.Xo&&n.ec(o.Xo)&&hd(r);case 14:case"end":return e.stop()}}),e,null,[[3,9]])}))),ud.apply(this,arguments)}function sd(e,t){return cd.apply(this,arguments)}function cd(){return cd=H(Y().mark((function e(t,n){var r,i,a,o,u;return Y().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=ga(t),i=n.query,a=!1,(o=r.queries.get(i))&&(u=o.listeners.indexOf(n))>=0&&(o.listeners.splice(u,1),a=0===o.listeners.length),!a){e.next=6;break}return e.abrupt("return",(r.queries.delete(i),r.onUnlisten(i)));case 6:case"end":return e.stop()}}),e)}))),cd.apply(this,arguments)}function ld(e,t){var n,r=ga(e),i=!1,a=v(t);try{for(a.s();!(n=a.n()).done;){var o=n.value,u=o.query,s=r.queries.get(u);if(s){var c,l=v(s.listeners);try{for(l.s();!(c=l.n()).done;){c.value.ec(o)&&(i=!0)}}catch(f){l.e(f)}finally{l.f()}s.Xo=o}}}catch(f){a.e(f)}finally{a.f()}i&&hd(r)}function fd(e,t,n){var r=ga(e),i=r.queries.get(t);if(i){var a,o=v(i.listeners);try{for(o.s();!(a=o.n()).done;){a.value.onError(n)}}catch(u){o.e(u)}finally{o.f()}}r.queries.delete(t)}function hd(e){e.Zo.forEach((function(e){e.next()}))}var dd=function(){function e(t,n,r){h(this,e),this.query=t,this.nc=n,this.sc=!1,this.ic=null,this.onlineState="Unknown",this.options=r||{}}return p(e,[{key:"ec",value:function(e){if(!this.options.includeMetadataChanges){var t,n=[],r=v(e.docChanges);try{for(r.s();!(t=r.n()).done;){var i=t.value;3!==i.type&&n.push(i)}}catch(o){r.e(o)}finally{r.f()}e=new rd(e.query,e.docs,e.oldDocs,n,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}var a=!1;return this.sc?this.rc(e)&&(this.nc.next(e),a=!0):this.oc(e,this.onlineState)&&(this.cc(e),a=!0),this.ic=e,a}},{key:"onError",value:function(e){this.nc.error(e)}},{key:"tc",value:function(e){this.onlineState=e;var t=!1;return this.ic&&!this.sc&&this.oc(this.ic,e)&&(this.cc(this.ic),t=!0),t}},{key:"oc",value:function(e,t){if(!e.fromCache)return!0;var n="Offline"!==t;return(!this.options.uc||!n)&&(!e.docs.isEmpty()||"Offline"===t)}},{key:"rc",value:function(e){if(e.docChanges.length>0)return!0;var t=this.ic&&this.ic.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}},{key:"cc",value:function(e){e=rd.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.sc=!0,this.nc.next(e)}}]),e}(),pd=function(){function e(t,n){h(this,e),this.payload=t,this.byteLength=n}return p(e,[{key:"ac",value:function(){return"metadata"in this.payload}}]),e}(),vd=function(){function e(t){h(this,e),this.O=t}return p(e,[{key:"Gs",value:function(e){return _s(this.O,e)}},{key:"js",value:function(e){return e.metadata.exists?Ls(this.O,e.document,!1):So.newNoDocument(this.Gs(e.metadata.name),this.Qs(e.metadata.readTime))}},{key:"Qs",value:function(e){return Ss(e)}}]),e}(),yd=function(){function e(t,n,r){h(this,e),this.hc=t,this.localStore=n,this.O=r,this.queries=[],this.documents=[],this.progress=md(t)}return p(e,[{key:"lc",value:function(e){this.progress.bytesLoaded+=e.byteLength;var t=this.progress.documentsLoaded;return e.payload.namedQuery?this.queries.push(e.payload.namedQuery):e.payload.documentMetadata?(this.documents.push({metadata:e.payload.documentMetadata}),e.payload.documentMetadata.exists||++t):e.payload.document&&(this.documents[this.documents.length-1].document=e.payload.document,++t),t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}},{key:"fc",value:function(e){var t,n=new Map,r=new vd(this.O),i=v(e);try{for(i.s();!(t=i.n()).done;){var a=t.value;if(a.metadata.queries){var o,u=r.Gs(a.metadata.name),s=v(a.metadata.queries);try{for(s.s();!(o=s.n()).done;){var c=o.value,l=(n.get(c)||os()).add(u);n.set(c,l)}}catch(f){s.e(f)}finally{s.f()}}}}catch(f){i.e(f)}finally{i.f()}return n}},{key:"complete",value:function(){var e=H(Y().mark((function e(){var t,n,r,i,a;return Y().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Tf(this.localStore,new vd(this.O),this.documents,this.hc.id);case 2:t=e.sent,n=this.fc(this.documents),r=v(this.queries),e.prev=5,r.s();case 7:if((i=r.n()).done){e.next=13;break}return a=i.value,e.next=11,_f(this.localStore,a,n.get(a.name));case 11:e.next=7;break;case 13:e.next=18;break;case 15:e.prev=15,e.t0=e.catch(5),r.e(e.t0);case 18:return e.prev=18,r.f(),e.finish(18);case 21:return e.abrupt("return",(this.progress.taskState="Success",new af(Object.assign({},this.progress),t)));case 22:case"end":return e.stop()}}),e,this,[[5,15,18,21]])})));return function(){return e.apply(this,arguments)}}()}]),e}();function md(e){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}var gd=p((function e(t){h(this,e),this.key=t})),kd=p((function e(t){h(this,e),this.key=t})),wd=function(){function e(t,n){h(this,e),this.query=t,this.dc=n,this._c=null,this.current=!1,this.wc=os(),this.mutatedKeys=os(),this.mc=cu(t),this.gc=new td(this.mc)}return p(e,[{key:"yc",get:function(){return this.dc}},{key:"Ic",value:function(e,t){var n=this,r=t?t.Ec:new nd,i=t?t.gc:this.gc,a=t?t.mutatedKeys:this.mutatedKeys,o=i,u=!1,s=Jo(this.query)&&i.size===this.query.limit?i.last():null,c=$o(this.query)&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((function(e,t){var l=i.get(e),f=su(n.query,t)?t:null,h=!!l&&n.mutatedKeys.has(l.key),d=!!f&&(f.hasLocalMutations||n.mutatedKeys.has(f.key)&&f.hasCommittedMutations),p=!1;l&&f?l.data.isEqual(f.data)?h!==d&&(r.track({type:3,doc:f}),p=!0):n.Tc(l,f)||(r.track({type:2,doc:f}),p=!0,(s&&n.mc(f,s)>0||c&&n.mc(f,c)<0)&&(u=!0)):!l&&f?(r.track({type:0,doc:f}),p=!0):l&&!f&&(r.track({type:1,doc:l}),p=!0,(s||c)&&(u=!0)),p&&(f?(o=o.add(f),a=d?a.add(e):a.delete(e)):(o=o.delete(e),a=a.delete(e)))})),Jo(this.query)||$o(this.query))for(;o.size>this.query.limit;){var l=Jo(this.query)?o.last():o.first();o=o.delete(l.key),a=a.delete(l.key),r.track({type:1,doc:l})}return{gc:o,Ec:r,ks:u,mutatedKeys:a}}},{key:"Tc",value:function(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}},{key:"applyChanges",value:function(e,t,n){var r=this,i=this.gc;this.gc=e.gc,this.mutatedKeys=e.mutatedKeys;var a=e.Ec.Yo();a.sort((function(e,t){return function(e,t){var n=function(e){switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ya()}};return n(e)-n(t)}(e.type,t.type)||r.mc(e.doc,t.doc)})),this.Ac(n);var o=t?this.Rc():[],u=0===this.wc.size&&this.current?1:0,s=u!==this._c;return this._c=u,0!==a.length||s?{snapshot:new rd(this.query,e.gc,i,a,e.mutatedKeys,0===u,s,!1),Pc:o}:{Pc:o}}},{key:"tc",value:function(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({gc:this.gc,Ec:new nd,mutatedKeys:this.mutatedKeys,ks:!1},!1)):{Pc:[]}}},{key:"bc",value:function(e){return!this.dc.has(e)&&!!this.gc.has(e)&&!this.gc.get(e).hasLocalMutations}},{key:"Ac",value:function(e){var t=this;e&&(e.addedDocuments.forEach((function(e){return t.dc=t.dc.add(e)})),e.modifiedDocuments.forEach((function(e){})),e.removedDocuments.forEach((function(e){return t.dc=t.dc.delete(e)})),this.current=e.current)}},{key:"Rc",value:function(){var e=this;if(!this.current)return[];var t=this.wc;this.wc=os(),this.gc.forEach((function(t){e.bc(t.key)&&(e.wc=e.wc.add(t.key))}));var n=[];return t.forEach((function(t){e.wc.has(t)||n.push(new kd(t))})),this.wc.forEach((function(e){t.has(e)||n.push(new gd(e))})),n}},{key:"vc",value:function(e){this.dc=e.Ks,this.wc=os();var t=this.Ic(e.documents);return this.applyChanges(t,!0)}},{key:"Vc",value:function(){return rd.fromInitialDocuments(this.query,this.gc,this.mutatedKeys,0===this._c)}}]),e}(),bd=p((function e(t,n,r){h(this,e),this.query=t,this.targetId=n,this.view=r})),xd=p((function e(t){h(this,e),this.key=t,this.Sc=!1})),Ed=function(){function e(t,n,r,i,a,o){h(this,e),this.localStore=t,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=o,this.Dc={},this.Cc=new Kl((function(e){return ou(e)}),au),this.Nc=new Map,this.xc=new Set,this.kc=new Wu(ao.comparator),this.Oc=new Map,this.Mc=new Df,this.$c={},this.Fc=new Map,this.Bc=Ol.Je(),this.onlineState="Unknown",this.Lc=void 0}return p(e,[{key:"isPrimaryClient",get:function(){return!0===this.Lc}}]),e}();function Sd(e,t){return Id.apply(this,arguments)}function Id(){return Id=H(Y().mark((function e(t,n){var r,i,a,o,u,s;return Y().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=mp(t),!(o=r.Cc.get(n))){e.next=6;break}i=o.targetId,r.sharedClientState.addLocalQueryTarget(i),a=o.view.Vc(),e.next=15;break;case 6:return e.next=8,gf(r.localStore,ru(n));case 8:return u=e.sent,r.isPrimaryClient&&yh(r.remoteStore,u),s=r.sharedClientState.addLocalQueryTarget(u.targetId),i=u.targetId,e.next=14,Td(r,n,i,"current"===s);case 14:a=e.sent;case 15:return e.abrupt("return",a);case 16:case"end":return e.stop()}}),e)}))),Id.apply(this,arguments)}function Td(e,t,n,r){return Cd.apply(this,arguments)}function Cd(){return Cd=H(Y().mark((function e(t,n,r,i){var a,o,u,s,c,l;return Y().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.Uc=function(e,n,r){return function(){var e=H(Y().mark((function e(t,n,r,i){var a,o,u;return Y().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=n.view.Ic(r),e.t0=a.ks,!e.t0){e.next=6;break}return e.next=5,bf(t.localStore,n.query,!1).then((function(e){var t=e.documents;return n.view.Ic(t,a)}));case 5:a=e.sent;case 6:return o=i&&i.targetChanges.get(n.targetId),u=n.view.applyChanges(a,t.isPrimaryClient,o),e.abrupt("return",(Hd(t,n.targetId,u.Pc),u.snapshot));case 8:case"end":return e.stop()}}),e)})));return function(t,n,r,i){return e.apply(this,arguments)}}()(t,e,n,r)},e.next=3,bf(t.localStore,n,!0);case 3:return a=e.sent,o=new wd(n,a.Ks),u=o.Ic(a.documents),s=ls.createSynthesizedTargetChangeForCurrentChange(r,i&&"Offline"!==t.onlineState),c=o.applyChanges(u,t.isPrimaryClient,s),Hd(t,r,c.Pc),l=new bd(n,r,o),e.abrupt("return",(t.Cc.set(n,l),t.Nc.has(r)?t.Nc.get(r).push(n):t.Nc.set(r,[n]),c.snapshot));case 11:case"end":return e.stop()}}),e)}))),Cd.apply(this,arguments)}function _d(e,t){return Ad.apply(this,arguments)}function Ad(){return Ad=H(Y().mark((function e(t,n){var r,i,a;return Y().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=ga(t),i=r.Cc.get(n),!((a=r.Nc.get(i.targetId)).length>1)){e.next=3;break}return e.abrupt("return",(r.Nc.set(i.targetId,a.filter((function(e){return!au(e,n)}))),void r.Cc.delete(n)));case 3:if(!r.isPrimaryClient){e.next=11;break}if(r.sharedClientState.removeLocalQueryTarget(i.targetId),e.t0=r.sharedClientState.isActiveQueryTarget(i.targetId),e.t0){e.next=9;break}return e.next=9,kf(r.localStore,i.targetId,!1).then((function(){r.sharedClientState.clearQueryState(i.targetId),mh(r.remoteStore,i.targetId),Gd(r,i.targetId)})).catch(Ml);case 9:e.next=14;break;case 11:return Gd(r,i.targetId),e.next=14,kf(r.localStore,i.targetId,!0);case 14:case"end":return e.stop()}}),e)}))),Ad.apply(this,arguments)}function Nd(e,t,n){return Od.apply(this,arguments)}function Od(){return Od=H(Y().mark((function e(t,n,r){var i,a,o;return Y().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=gp(t),e.prev=1,e.next=4,function(e,t){var n,r=ga(e),i=Ma.now(),a=t.reduce((function(e,t){return e.add(t.key)}),os());return r.persistence.runTransaction("Locally write mutations","readwrite",(function(e){return r.Us.Es(e,a).next((function(a){n=a;var o,u=[],s=v(t);try{for(s.s();!(o=s.n()).done;){var c=o.value,l=Pu(c,n.get(c.key));null!=l&&u.push(new Fu(c.key,l,Eo(l.value.mapValue),_u.exists(!0)))}}catch(f){s.e(f)}finally{s.f()}return r.gs.addMutationBatch(e,i,u,t)}))})).then((function(e){return e.applyToLocalDocumentSet(n),{batchId:e.batchId,changes:n}}))}(i.localStore,n);case 4:return a=e.sent,i.sharedClientState.addPendingMutation(a.batchId),function(e,t,n){var r=e.$c[e.currentUser.toKey()];r||(r=new Wu(Pa)),r=r.insert(t,n),e.$c[e.currentUser.toKey()]=r}(i,a.batchId,r),e.next=9,Xd(i,a.changes);case 9:return e.next=11,Ph(i.remoteStore);case 11:e.next=17;break;case 13:e.prev=13,e.t0=e.catch(1),o=ed(e.t0,"Failed to persist write"),r.reject(o);case 17:case"end":return e.stop()}}),e,null,[[1,13]])}))),Od.apply(this,arguments)}function Dd(e,t){return Pd.apply(this,arguments)}function Pd(){return Pd=H(Y().mark((function e(t,n){var r,i;return Y().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=ga(t),e.prev=1,e.next=4,vf(r.localStore,n);case 4:return i=e.sent,n.targetChanges.forEach((function(e,t){var n=r.Oc.get(t);n&&(ma(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),e.addedDocuments.size>0?n.Sc=!0:e.modifiedDocuments.size>0?ma(n.Sc):e.removedDocuments.size>0&&(ma(n.Sc),n.Sc=!1))})),e.next=8,Xd(r,i,n);case 8:e.next=14;break;case 10:return e.prev=10,e.t0=e.catch(1),e.next=14,Ml(e.t0);case 14:case"end":return e.stop()}}),e,null,[[1,10]])}))),Pd.apply(this,arguments)}function Ld(e,t,n){var r=ga(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){var i=[];r.Cc.forEach((function(e,n){var r=n.view.tc(t);r.snapshot&&i.push(r.snapshot)})),function(e,t){var n=ga(e);n.onlineState=t;var r=!1;n.queries.forEach((function(e,n){var i,a=v(n.listeners);try{for(a.s();!(i=a.n()).done;){i.value.tc(t)&&(r=!0)}}catch(o){a.e(o)}finally{a.f()}})),r&&hd(n)}(r.eventManager,t),i.length&&r.Dc.To(i),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}function Rd(e,t,n){return Md.apply(this,arguments)}function Md(){return Md=H(Y().mark((function e(t,n,r){var i,a,o,u,s,c;return Y().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((i=ga(t)).sharedClientState.updateQueryState(n,"rejected",r),a=i.Oc.get(n),!(o=a&&a.key)){e.next=14;break}return u=(u=new Wu(ao.comparator)).insert(o,So.newNoDocument(o,Fa.min())),s=os().add(o),c=new cs(Fa.min(),new Map,new Ju(Pa),u,s),e.next=9,Dd(i,c);case 9:i.kc=i.kc.remove(o),i.Oc.delete(n),Yd(i),e.next=16;break;case 14:return e.next=16,kf(i.localStore,n,!1).then((function(){return Gd(i,n,r)})).catch(Ml);case 16:case"end":return e.stop()}}),e)}))),Md.apply(this,arguments)}function Fd(e,t){return jd.apply(this,arguments)}function jd(){return jd=H(Y().mark((function e(t,n){var r,i,a;return Y().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=ga(t),i=n.batch.batchId,e.prev=1,e.next=4,df(r.localStore,n);case 4:return a=e.sent,Kd(r,i,null),zd(r,i),r.sharedClientState.updateMutationState(i,"acknowledged"),e.next=10,Xd(r,a);case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(1),e.next=16,Ml(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,12]])}))),jd.apply(this,arguments)}function Bd(e,t,n){return Ud.apply(this,arguments)}function Ud(){return Ud=H(Y().mark((function e(t,n,r){var i,a;return Y().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=ga(t),e.prev=1,e.next=4,function(e,t){var n=ga(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",(function(e){var r;return n.gs.lookupMutationBatch(e,t).next((function(t){return ma(null!==t),r=t.keys(),n.gs.removeMutationBatch(e,t)})).next((function(){return n.gs.performConsistencyCheck(e)})).next((function(){return n.Us.Es(e,r)}))}))}(i.localStore,n);case 4:return a=e.sent,Kd(i,n,r),zd(i,n),i.sharedClientState.updateMutationState(n,"rejected",r),e.next=10,Xd(i,a);case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(1),e.next=16,Ml(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,12]])}))),Ud.apply(this,arguments)}function Vd(e,t){return qd.apply(this,arguments)}function qd(){return qd=H(Y().mark((function e(t,n){var r,i,a,o;return Y().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return xh((r=ga(t)).remoteStore)||ha("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),e.prev=2,e.next=5,function(e){var t=ga(e);return t.persistence.runTransaction("Get highest unacknowledged batch id","readonly",(function(e){return t.gs.getHighestUnacknowledgedBatchId(e)}))}(r.localStore);case 5:if(-1!==(i=e.sent)){e.next=8;break}return e.abrupt("return",void n.resolve());case 8:(a=r.Fc.get(i)||[]).push(n),r.Fc.set(i,a),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(2),o=ed(e.t0,"Initialization of waitForPendingWrites() operation failed"),n.reject(o);case 16:case"end":return e.stop()}}),e,null,[[2,12]])}))),qd.apply(this,arguments)}function zd(e,t){(e.Fc.get(t)||[]).forEach((function(e){e.resolve()})),e.Fc.delete(t)}function Kd(e,t,n){var r=ga(e),i=r.$c[r.currentUser.toKey()];if(i){var a=i.get(t);a&&(n?a.reject(n):a.resolve(),i=i.remove(t)),r.$c[r.currentUser.toKey()]=i}}function Gd(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e.sharedClientState.removeLocalQueryTarget(t);var r,i=v(e.Nc.get(t));try{for(i.s();!(r=i.n()).done;){var a=r.value;e.Cc.delete(a),n&&e.Dc.qc(a,n)}}catch(o){i.e(o)}finally{i.f()}e.Nc.delete(t),e.isPrimaryClient&&e.Mc.si(t).forEach((function(t){e.Mc.containsKey(t)||Qd(e,t)}))}function Qd(e,t){e.xc.delete(t.path.canonicalString());var n=e.kc.get(t);null!==n&&(mh(e.remoteStore,n),e.kc=e.kc.remove(t),e.Oc.delete(n),Yd(e))}function Hd(e,t,n){var r,i=v(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;a instanceof gd?(e.Mc.addReference(a.key,t),Wd(e,a)):a instanceof kd?(ha("SyncEngine","Document no longer in limbo: "+a.key),e.Mc.removeReference(a.key,t),e.Mc.containsKey(a.key)||Qd(e,a.key)):ya()}}catch(o){i.e(o)}finally{i.f()}}function Wd(e,t){var n=t.key,r=n.path.canonicalString();e.kc.get(n)||e.xc.has(r)||(ha("SyncEngine","New document in limbo: "+n),e.xc.add(r),Yd(e))}function Yd(e){for(;e.xc.size>0&&e.kc.size<e.maxConcurrentLimboResolutions;){var t=e.xc.values().next().value;e.xc.delete(t);var n=new ao(qa.fromString(t)),r=e.Bc.next();e.Oc.set(r,new xd(n)),e.kc=e.kc.insert(n,r),yh(e.remoteStore,new Uc(ru(Xo(n.path)),r,2,Na.A))}}function Xd(e,t,n){return Jd.apply(this,arguments)}function Jd(){return Jd=H(Y().mark((function e(t,n,r){var i,a,o,u;return Y().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=ga(t),a=[],o=[],u=[],e.t0=i.Cc.isEmpty(),e.t0){e.next=9;break}return i.Cc.forEach((function(e,t){u.push(i.Uc(t,n,r).then((function(e){if(e){i.isPrimaryClient&&i.sharedClientState.updateQueryState(t.targetId,e.fromCache?"not-current":"current"),a.push(e);var n=uf.Ss(t.targetId,e);o.push(n)}})))})),e.next=6,Promise.all(u);case 6:return i.Dc.To(a),e.next=9,function(){var e=H(Y().mark((function e(t,n){var r,i,a,o,u,s,c,l;return Y().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=ga(t),e.prev=1,e.next=4,r.persistence.runTransaction("notifyLocalViewChanges","readwrite",(function(e){return Ic.forEach(n,(function(t){return Ic.forEach(t.vs,(function(n){return r.persistence.referenceDelegate.addReference(e,t.targetId,n)})).next((function(){return Ic.forEach(t.Vs,(function(n){return r.persistence.referenceDelegate.removeReference(e,t.targetId,n)}))}))}))}));case 4:e.next=11;break;case 6:if(e.prev=6,e.t0=e.catch(1),Nc(e.t0)){e.next=10;break}throw e.t0;case 10:ha("LocalStore","Failed to update sequence numbers: "+e.t0);case 11:i=v(n);try{for(i.s();!(a=i.n()).done;)o=a.value,u=o.targetId,o.fromCache||(s=r.Ms.get(u),c=s.snapshotVersion,l=s.withLastLimboFreeSnapshotVersion(c),r.Ms=r.Ms.insert(u,l))}catch(f){i.e(f)}finally{i.f()}case 13:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t,n){return e.apply(this,arguments)}}()(i.localStore,o);case 9:case"end":return e.stop()}}),e)}))),Jd.apply(this,arguments)}function $d(e,t){return Zd.apply(this,arguments)}function Zd(){return Zd=H(Y().mark((function e(t,n){var r,i;return Y().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((r=ga(t)).currentUser.isEqual(n)){e.next=11;break}return ha("SyncEngine","User change. New user:",n.toKey()),e.next=5,ff(r.localStore,n);case 5:return i=e.sent,r.currentUser=n,function(e,t){e.Fc.forEach((function(e){e.forEach((function(e){e.reject(new wa(ka.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))}))})),e.Fc.clear()}(r),r.sharedClientState.handleUserChange(n,i.removedBatchIds,i.addedBatchIds),e.next=11,Xd(r,i.qs);case 11:case"end":return e.stop()}}),e)}))),Zd.apply(this,arguments)}function ep(e,t){var n=ga(e),r=n.Oc.get(t);if(r&&r.Sc)return os().add(r.key);var i=os(),a=n.Nc.get(t);if(!a)return i;var o,u=v(a);try{for(u.s();!(o=u.n()).done;){var s=o.value,c=n.Cc.get(s);i=i.unionWith(c.view.yc)}}catch(l){u.e(l)}finally{u.f()}return i}function tp(e,t){return np.apply(this,arguments)}function np(){return np=H(Y().mark((function e(t,n){var r,i,a;return Y().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=ga(t),e.next=3,bf(r.localStore,n.query,!0);case 3:return i=e.sent,a=n.view.vc(i),e.abrupt("return",(r.isPrimaryClient&&Hd(r,n.targetId,a.Pc),a));case 6:case"end":return e.stop()}}),e)}))),np.apply(this,arguments)}function rp(e){return ip.apply(this,arguments)}function ip(){return ip=H(Y().mark((function e(t){var n;return Y().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=ga(t),e.abrupt("return",Ef(n.localStore).then((function(e){return Xd(n,e)})));case 2:case"end":return e.stop()}}),e)}))),ip.apply(this,arguments)}function ap(e,t,n,r){return op.apply(this,arguments)}function op(){return op=H(Y().mark((function e(t,n,r,i){var a,o;return Y().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=ga(t),e.next=3,function(e,t){var n=ga(e),r=ga(n.gs);return n.persistence.runTransaction("Lookup mutation documents","readonly",(function(e){return r.Ge(e,t).next((function(t){return t?n.Us.Es(e,t):Ic.resolve(null)}))}))}(a.localStore,n);case 3:if(null===(o=e.sent)){e.next=15;break}if("pending"!==r){e.next=10;break}return e.next=8,Ph(a.remoteStore);case 8:e.next=11;break;case 10:"acknowledged"===r||"rejected"===r?(Kd(a,n,i||null),zd(a,n),function(e,t){ga(ga(e).gs).Qe(t)}(a.localStore,n)):ya();case 11:return e.next=13,Xd(a,o);case 13:e.next=16;break;case 15:ha("SyncEngine","Cannot apply mutation batch with id: "+n);case 16:case"end":return e.stop()}}),e)}))),op.apply(this,arguments)}function up(e,t){return sp.apply(this,arguments)}function sp(){return sp=H(Y().mark((function e(t,n){var r,i,a,o,u,s,c,l;return Y().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(mp(r=ga(t)),gp(r),!0!==n||!0===r.Lc){e.next=13;break}return i=r.sharedClientState.getAllActiveQueryTargets(),e.next=5,cp(r,i.toArray());case 5:return a=e.sent,r.Lc=!0,e.next=9,Yh(r.remoteStore,!0);case 9:o=v(a);try{for(o.s();!(u=o.n()).done;)s=u.value,yh(r.remoteStore,s)}catch(f){o.e(f)}finally{o.f()}e.next=25;break;case 13:if(!1!==n||!1===r.Lc){e.next=25;break}return c=[],l=Promise.resolve(),r.Nc.forEach((function(e,t){r.sharedClientState.isLocalQueryTarget(t)?c.push(t):l=l.then((function(){return Gd(r,t),kf(r.localStore,t,!0)})),mh(r.remoteStore,t)})),e.next=19,l;case 19:return e.next=21,cp(r,c);case 21:return function(e){var t=ga(e);t.Oc.forEach((function(e,n){mh(t.remoteStore,n)})),t.Mc.ii(),t.Oc=new Map,t.kc=new Wu(ao.comparator)}(r),r.Lc=!1,e.next=25,Yh(r.remoteStore,!1);case 25:case"end":return e.stop()}}),e)}))),sp.apply(this,arguments)}function cp(e,t,n){return lp.apply(this,arguments)}function lp(){return lp=H(Y().mark((function e(t,n,r){var i,a,o,u,s,c,l,f,h,d,p,y,m,g;return Y().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i=ga(t),a=[],o=[],u=v(n),e.prev=2,u.s();case 4:if((s=u.n()).done){e.next=45;break}if(c=s.value,l=void 0,!(f=i.Nc.get(c))||0===f.length){e.next=34;break}return e.next=11,gf(i.localStore,ru(f[0]));case 11:l=e.sent,h=v(f),e.prev=13,h.s();case 15:if((d=h.n()).done){e.next=24;break}return p=d.value,y=i.Cc.get(p),e.next=20,tp(i,y);case 20:(m=e.sent).snapshot&&o.push(m.snapshot);case 22:e.next=15;break;case 24:e.next=29;break;case 26:e.prev=26,e.t0=e.catch(13),h.e(e.t0);case 29:return e.prev=29,h.f(),e.finish(29);case 32:e.next=42;break;case 34:return e.next=36,xf(i.localStore,c);case 36:return g=e.sent,e.next=39,gf(i.localStore,g);case 39:return l=e.sent,e.next=42,Td(i,fp(g),c,!1);case 42:a.push(l);case 43:e.next=4;break;case 45:e.next=50;break;case 47:e.prev=47,e.t1=e.catch(2),u.e(e.t1);case 50:return e.prev=50,u.f(),e.finish(50);case 53:return e.abrupt("return",(i.Dc.To(o),a));case 54:case"end":return e.stop()}}),e,null,[[2,47,50,53],[13,26,29,32]])}))),lp.apply(this,arguments)}function fp(e){return Yo(e.path,e.collectionGroup,e.orderBy,e.filters,e.limit,"F",e.startAt,e.endAt)}function hp(e){var t=ga(e);return ga(ga(t.localStore).persistence).ds()}function dp(e,t,n,r){return pp.apply(this,arguments)}function pp(){return pp=H(Y().mark((function e(t,n,r,i){var a,o,u;return Y().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(a=ga(t)).Lc){e.next=5;break}ha("SyncEngine","Ignoring unexpected query state notification."),e.next=21;break;case 5:if(!a.Nc.has(n)){e.next=21;break}e.t0=r,e.next="current"===e.t0||"not-current"===e.t0?9:"rejected"===e.t0?16:20;break;case 9:return e.next=11,Ef(a.localStore);case 11:return o=e.sent,u=cs.createSynthesizedRemoteEventForCurrentChange(n,"current"===r),e.next=15,Xd(a,o,u);case 15:return e.abrupt("break",21);case 16:return e.next=18,kf(a.localStore,n,!0);case 18:return Gd(a,n,i),e.abrupt("break",21);case 20:ya();case 21:case"end":return e.stop()}}),e)}))),pp.apply(this,arguments)}function vp(e,t,n){return yp.apply(this,arguments)}function yp(){return yp=H(Y().mark((function e(t,n,r){var i,a,o,u,s,c,l,f,h;return Y().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(i=mp(t)).Lc){e.next=45;break}a=v(n),e.prev=3,a.s();case 5:if((o=a.n()).done){e.next=21;break}if(u=o.value,!i.Nc.has(u)){e.next=10;break}return ha("SyncEngine","Adding an already active target "+u),e.abrupt("continue",19);case 10:return e.next=12,xf(i.localStore,u);case 12:return s=e.sent,e.next=15,gf(i.localStore,s);case 15:return c=e.sent,e.next=18,Td(i,fp(s),c.targetId,!1);case 18:yh(i.remoteStore,c);case 19:e.next=5;break;case 21:e.next=26;break;case 23:e.prev=23,e.t0=e.catch(3),a.e(e.t0);case 26:return e.prev=26,a.f(),e.finish(26);case 29:l=v(r),e.prev=30,h=Y().mark((function e(){var t;return Y().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=f.value,e.t0=i.Nc.has(t),!e.t0){e.next=5;break}return e.next=5,kf(i.localStore,t,!1).then((function(){mh(i.remoteStore,t),Gd(i,t)})).catch(Ml);case 5:case"end":return e.stop()}}),e)})),l.s();case 33:if((f=l.n()).done){e.next=37;break}return e.delegateYield(h(),"t1",35);case 35:e.next=33;break;case 37:e.next=42;break;case 39:e.prev=39,e.t2=e.catch(30),l.e(e.t2);case 42:return e.prev=42,l.f(),e.finish(42);case 45:case"end":return e.stop()}}),e,null,[[3,23,26,29],[30,39,42,45]])}))),yp.apply(this,arguments)}function mp(e){var t=ga(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=Dd.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=ep.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=Rd.bind(null,t),t.Dc.To=ld.bind(null,t.eventManager),t.Dc.qc=fd.bind(null,t.eventManager),t}function gp(e){var t=ga(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=Fd.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=Bd.bind(null,t),t}function kp(e,t,n){var r=ga(e);(function(){var e=H(Y().mark((function e(t,n,r){var i,a,o,u,s;return Y().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,n.getMetadata();case 3:return i=e.sent,e.next=6,function(e,t){var n=ga(e),r=Ss(t.createTime);return n.persistence.runTransaction("hasNewerBundle","readonly",(function(e){return n.Kn.getBundleMetadata(e,t.id)})).then((function(e){return!!e&&e.createTime.compareTo(r)>=0}))}(t.localStore,i);case 6:if(!e.sent){e.next=10;break}return e.next=9,n.close();case 9:return e.abrupt("return",void r._completeWith(function(e){return{taskState:"Success",documentsLoaded:e.totalDocuments,bytesLoaded:e.totalBytes,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}(i)));case 10:return r._updateProgress(md(i)),a=new yd(i,t.localStore,n.O),e.next=14,n.Kc();case 14:o=e.sent;case 15:if(!o){e.next=25;break}return e.next=18,a.lc(o);case 18:return(u=e.sent)&&r._updateProgress(u),e.next=22,n.Kc();case 22:o=e.sent;case 23:e.next=15;break;case 25:return e.next=27,a.complete();case 27:return s=e.sent,e.next=30,Xd(t,s.ws,void 0);case 30:return e.next=32,function(e,t){var n=ga(e);return n.persistence.runTransaction("Save bundle","readwrite",(function(e){return n.Kn.saveBundleMetadata(e,t)}))}(t.localStore,i);case 32:r._completeWith(s.progress),e.next=38;break;case 35:e.prev=35,e.t0=e.catch(0),pa("SyncEngine","Loading bundle failed with ".concat(e.t0)),r._failWith(e.t0);case 38:case"end":return e.stop()}}),e,null,[[0,35]])})));return function(t,n,r){return e.apply(this,arguments)}})()(r,t,n).then((function(){r.sharedClientState.notifyBundleLoaded()}))}var wp=function(){function e(){h(this,e),this.synchronizeTabs=!1}return p(e,[{key:"initialize",value:function(){var e=H(Y().mark((function e(t){return Y().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.O=ih(t.databaseInfo.databaseId),this.sharedClientState=this.Gc(t),this.persistence=this.jc(t),e.next=5,this.persistence.start();case 5:this.gcScheduler=this.Qc(t),this.localStore=this.Wc(t);case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"Qc",value:function(e){return null}},{key:"Wc",value:function(e){return lf(this.persistence,new sf,e.initialUser,this.O)}},{key:"jc",value:function(e){return new jf(Uf.bi,this.O)}},{key:"Gc",value:function(e){return new Xf}},{key:"terminate",value:function(){var e=H(Y().mark((function e(){return Y().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.gcScheduler&&this.gcScheduler.stop(),e.next=3,this.sharedClientState.shutdown();case 3:return e.next=5,this.persistence.shutdown();case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}(),bp=function(e){g(n,e);var t=E(n);function n(e,r,i){var a;return h(this,n),(a=t.call(this)).zc=e,a.cacheSizeBytes=r,a.forceOwnership=i,a.synchronizeTabs=!1,a}return p(n,[{key:"initialize",value:function(){var e=H(Y().mark((function e(t){var r=this;return Y().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Qe(k(n.prototype),"initialize",this).call(this,t);case 2:return e.next=4,Sf(this.localStore);case 4:return e.next=6,this.zc.initialize(this,t);case 6:return e.next=8,gp(this.zc.syncEngine);case 8:return e.next=10,Ph(this.zc.remoteStore);case 10:return e.next=12,this.persistence.Hn((function(){return r.gcScheduler&&!r.gcScheduler.started&&r.gcScheduler.start(r.localStore),Promise.resolve()}));case 12:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"Wc",value:function(e){return lf(this.persistence,new sf,e.initialUser,this.O)}},{key:"Qc",value:function(e){var t=this.persistence.referenceDelegate.garbageCollector;return new Ul(t,e.asyncQueue)}},{key:"jc",value:function(e){var t=rf(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),n=void 0!==this.cacheSizeBytes?El.withCacheSize(this.cacheSizeBytes):El.DEFAULT;return new ef(this.synchronizeTabs,t,e.clientId,n,e.asyncQueue,nh(),rh(),this.O,this.sharedClientState,!!this.forceOwnership)}},{key:"Gc",value:function(e){return new Xf}}]),n}(wp),xp=function(e){g(n,e);var t=E(n);function n(e,r){var i;return h(this,n),(i=t.call(this,e,r,!1)).zc=e,i.cacheSizeBytes=r,i.synchronizeTabs=!0,i}return p(n,[{key:"initialize",value:function(){var e=H(Y().mark((function e(t){var r,i=this;return Y().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Qe(k(n.prototype),"initialize",this).call(this,t);case 2:if(r=this.zc.syncEngine,e.t0=this.sharedClientState instanceof Yf,!e.t0){e.next=8;break}return this.sharedClientState.syncEngine={hr:ap.bind(null,r),lr:dp.bind(null,r),dr:vp.bind(null,r),ds:hp.bind(null,r),ar:rp.bind(null,r)},e.next=8,this.sharedClientState.start();case 8:return e.next=10,this.persistence.Hn(function(){var e=H(Y().mark((function e(t){return Y().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,up(i.zc.syncEngine,t);case 2:i.gcScheduler&&(t&&!i.gcScheduler.started?i.gcScheduler.start(i.localStore):t||i.gcScheduler.stop());case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"Gc",value:function(e){var t=nh();if(!Yf.Vt(t))throw new wa(ka.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var n=rf(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new Yf(t,e.asyncQueue,n,e.clientId,e.initialUser)}}]),n}(bp),Ep=function(){function e(){h(this,e)}return p(e,[{key:"initialize",value:function(){var e=H(Y().mark((function e(t,n){var r=this;return Y().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.localStore,e.t0){e.next=12;break}return this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=function(e){return Ld(r.syncEngine,e,1)},this.remoteStore.remoteSyncer.handleCredentialChange=$d.bind(null,this.syncEngine),e.next=12,Yh(this.remoteStore,this.syncEngine.isPrimaryClient);case 12:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"createEventManager",value:function(e){return new ad}},{key:"createDatastore",value:function(e){var t,n=ih(e.databaseInfo.databaseId),r=(t=e.databaseInfo,new th(t));return function(e,t,n,r){return new ch(e,t,n,r)}(e.authCredentials,e.appCheckCredentials,r,n)}},{key:"createRemoteStore",value:function(e){var t,n,r,i,a,o=this;return t=this.localStore,n=this.datastore,r=e.asyncQueue,i=function(e){return Ld(o.syncEngine,e,0)},a=$f.Vt()?new $f:new Jf,new fh(t,n,r,i,a)}},{key:"createSyncEngine",value:function(e,t){return function(e,t,n,r,i,a,o){var u=new Ed(e,t,n,r,i,a);return o&&(u.Lc=!0),u}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}},{key:"terminate",value:function(){return function(){var e=H(Y().mark((function e(t){var n;return Y().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=ga(t),ha("RemoteStore","RemoteStore shutting down."),n.Ko.add(5),e.next=5,ph(n);case 5:n.jo.shutdown(),n.Qo.set("Unknown");case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(this.remoteStore)}}]),e}();function Sp(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10240,n=0;return{read:function(){return H(Y().mark((function r(){var i;return Y().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!(n<e.byteLength)){r.next=3;break}return i={value:e.slice(n,n+t),done:!1},r.abrupt("return",(n+=t,i));case 3:return r.abrupt("return",{done:!0});case 4:case"end":return r.stop()}}),r)})))()},cancel:function(){return H(Y().mark((function e(){return Y().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})))()},releaseLock:function(){},closed:Promise.reject("unimplemented")}}var Ip=function(){function e(t){h(this,e),this.observer=t,this.muted=!1}return p(e,[{key:"next",value:function(e){this.observer.next&&this.Hc(this.observer.next,e)}},{key:"error",value:function(e){this.observer.error?this.Hc(this.observer.error,e):console.error("Uncaught Error in snapshot listener:",e)}},{key:"Jc",value:function(){this.muted=!0}},{key:"Hc",value:function(e,t){var n=this;this.muted||setTimeout((function(){n.muted||e(t)}),0)}}]),e}(),Tp=function(){function e(t,n){var r=this;h(this,e),this.Yc=t,this.O=n,this.metadata=new ba,this.buffer=new Uint8Array,this.Xc=new TextDecoder("utf-8"),this.Zc().then((function(e){e&&e.ac()?r.metadata.resolve(e.payload.metadata):r.metadata.reject(new Error("The first element of the bundle is not a metadata, it is\n             ".concat(JSON.stringify(null==e?void 0:e.payload))))}),(function(e){return r.metadata.reject(e)}))}return p(e,[{key:"close",value:function(){return this.Yc.cancel()}},{key:"getMetadata",value:function(){var e=H(Y().mark((function e(){return Y().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.metadata.promise);case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Kc",value:function(){var e=H(Y().mark((function e(){return Y().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getMetadata();case 2:return e.abrupt("return",this.Zc());case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Zc",value:function(){var e=H(Y().mark((function e(){var t,n,r,i;return Y().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.tu();case 2:if(null!==(t=e.sent)){e.next=5;break}return e.abrupt("return",null);case 5:return n=this.Xc.decode(t),r=Number(n),isNaN(r)&&this.eu("length string (".concat(n,") is not valid number")),e.next=9,this.nu(r);case 9:return i=e.sent,e.abrupt("return",new pd(JSON.parse(i),t.length+r));case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"su",value:function(){return this.buffer.findIndex((function(e){return e==="{".charCodeAt(0)}))}},{key:"tu",value:function(){var e=H(Y().mark((function e(){var t,n;return Y().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(this.su()<0)){e.next=7;break}return e.next=3,this.iu();case 3:if(!e.sent){e.next=5;break}return e.abrupt("break",7);case 5:e.next=0;break;case 7:if(0!==this.buffer.length){e.next=9;break}return e.abrupt("return",null);case 9:return(t=this.su())<0&&this.eu("Reached the end of bundle when a length string is expected."),n=this.buffer.slice(0,t),e.abrupt("return",(this.buffer=this.buffer.slice(t),n));case 13:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"nu",value:function(){var e=H(Y().mark((function e(t){var n;return Y().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(this.buffer.length<t)){e.next=8;break}return e.next=3,this.iu();case 3:if(e.t0=e.sent,!e.t0){e.next=6;break}this.eu("Reached the end of bundle when more is expected.");case 6:e.next=0;break;case 8:return n=this.Xc.decode(this.buffer.slice(0,t)),e.abrupt("return",(this.buffer=this.buffer.slice(t),n));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"eu",value:function(e){throw this.Yc.cancel(),new Error("Invalid bundle format: ".concat(e))}},{key:"iu",value:function(){var e=H(Y().mark((function e(){var t,n;return Y().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.Yc.read();case 2:return(t=e.sent).done||((n=new Uint8Array(this.buffer.length+t.value.length)).set(this.buffer),n.set(t.value,this.buffer.length),this.buffer=n),e.abrupt("return",t.done);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}(),Cp=function(){function e(t){h(this,e),this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}return p(e,[{key:"lookup",value:function(){var e=H(Y().mark((function e(t){var n,r=this;return Y().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.ensureCommitNotCalled(),!(this.mutations.length>0)){e.next=2;break}throw new wa(ka.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");case 2:return e.next=4,function(){var e=H(Y().mark((function e(t,n){var r,i,a,o,u,s;return Y().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=ga(t),i=Os(r.O)+"/documents",a={documents:n.map((function(e){return Cs(r.O,e)}))},e.next=5,r.Lr("BatchGetDocuments",i,a);case 5:return o=e.sent,u=new Map,o.forEach((function(e){var t=Rs(r.O,e);u.set(t.key.toString(),t)})),s=[],e.abrupt("return",(n.forEach((function(e){var t=u.get(e.toString());ma(!!t),s.push(t)})),s));case 10:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(this.datastore,t);case 4:return n=e.sent,e.abrupt("return",(n.forEach((function(e){return r.recordVersion(e)})),n));case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"set",value:function(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}},{key:"update",value:function(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(e){this.lastWriteError=e}this.writtenDocs.add(e.toString())}},{key:"delete",value:function(e){this.write(new zu(e,this.precondition(e))),this.writtenDocs.add(e.toString())}},{key:"commit",value:function(){var e=H(Y().mark((function e(){var t,n=this;return Y().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.ensureCommitNotCalled(),!this.lastWriteError){e.next=2;break}throw this.lastWriteError;case 2:return t=this.readVersions,this.mutations.forEach((function(e){t.delete(e.key.toString())})),t.forEach((function(e,t){var r=ao.fromPath(t);n.mutations.push(new Ku(r,n.precondition(r)))})),e.next=7,function(){var e=H(Y().mark((function e(t,n){var r,i,a;return Y().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=ga(t),i=Os(r.O)+"/documents",a={writes:n.map((function(e){return Ms(r.O,e)}))},e.next=3,r.Mr("Commit",i,a);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(this.datastore,this.mutations);case 7:this.committed=!0;case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"recordVersion",value:function(e){var t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw ya();t=Fa.min()}var n=this.readVersions.get(e.key.toString());if(n){if(!t.isEqual(n))throw new wa(ka.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}},{key:"precondition",value:function(e){var t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?_u.updateTime(t):_u.none()}},{key:"preconditionForUpdate",value:function(e){var t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(Fa.min()))throw new wa(ka.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return _u.updateTime(t)}return _u.exists(!0)}},{key:"write",value:function(e){this.ensureCommitNotCalled(),this.mutations.push(e)}},{key:"ensureCommitNotCalled",value:function(){}}]),e}(),_p=function(){function e(t,n,r,i){h(this,e),this.asyncQueue=t,this.datastore=n,this.updateFunction=r,this.deferred=i,this.ru=5,this.ro=new ah(this.asyncQueue,"transaction_retry")}return p(e,[{key:"run",value:function(){this.ru-=1,this.ou()}},{key:"ou",value:function(){var e=this;this.ro.Hr(H(Y().mark((function t(){var n,r;return Y().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=new Cp(e.datastore),(r=e.cu(n))&&r.then((function(t){e.asyncQueue.enqueueAndForget((function(){return n.commit().then((function(){e.deferred.resolve(t)})).catch((function(t){e.uu(t)}))}))})).catch((function(t){e.uu(t)}));case 2:case"end":return t.stop()}}),t)}))))}},{key:"cu",value:function(e){try{var t=this.updateFunction(e);return!no(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(e){return this.deferred.reject(e),null}}},{key:"uu",value:function(e){var t=this;this.ru>0&&this.au(e)?(this.ru-=1,this.asyncQueue.enqueueAndForget((function(){return t.ou(),Promise.resolve()}))):this.deferred.reject(e)}},{key:"au",value:function(e){if("FirebaseError"===e.name){var t=e.code;return"aborted"===t||"failed-precondition"===t||!Qu(t)}return!1}}]),e}(),Ap=function(){function e(t,n,r,i){var a=this;h(this,e),this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=sa.UNAUTHENTICATED,this.clientId=Da.R(),this.authCredentialListener=function(){return Promise.resolve()},this.appCheckCredentialListener=function(){return Promise.resolve()},this.authCredentials.start(r,function(){var e=H(Y().mark((function e(t){return Y().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return ha("FirestoreClient","Received user=",t.uid),e.next=3,a.authCredentialListener(t);case 3:a.user=t;case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),this.appCheckCredentials.start(r,(function(e){return ha("FirestoreClient","Received new app check token=",e),a.appCheckCredentialListener(e,a.user)}))}return p(e,[{key:"getConfiguration",value:function(){var e=H(Y().mark((function e(){return Y().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100});case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setCredentialChangeListener",value:function(e){this.authCredentialListener=e}},{key:"setAppCheckTokenChangeListener",value:function(e){this.appCheckCredentialListener=e}},{key:"verifyNotTerminated",value:function(){if(this.asyncQueue.isShuttingDown)throw new wa(ka.FAILED_PRECONDITION,"The client has already been terminated.")}},{key:"terminate",value:function(){var e=this;this.asyncQueue.enterRestrictedMode();var t=new ba;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(H(Y().mark((function n(){var r;return Y().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(n.prev=0,n.t0=e.onlineComponents,!n.t0){n.next=5;break}return n.next=5,e.onlineComponents.terminate();case 5:if(n.t1=e.offlineComponents,!n.t1){n.next=9;break}return n.next=9,e.offlineComponents.terminate();case 9:e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve(),n.next=18;break;case 14:n.prev=14,n.t2=n.catch(0),r=ed(n.t2,"Failed to shutdown persistence"),t.reject(r);case 18:case"end":return n.stop()}}),n,null,[[0,14]])})))),t.promise}}]),e}();function Np(e,t){return Op.apply(this,arguments)}function Op(){return Op=H(Y().mark((function e(t,n){var r,i;return Y().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.asyncQueue.verifyOperationInProgress(),ha("FirestoreClient","Initializing OfflineComponentProvider"),e.next=3,t.getConfiguration();case 3:return r=e.sent,e.next=6,n.initialize(r);case 6:i=r.initialUser,t.setCredentialChangeListener(function(){var e=H(Y().mark((function e(t){return Y().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=i.isEqual(t),e.t0){e.next=5;break}return e.next=4,ff(n.localStore,t);case 4:i=t;case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),n.persistence.setDatabaseDeletedListener((function(){return t.terminate()})),t.offlineComponents=n;case 8:case"end":return e.stop()}}),e)}))),Op.apply(this,arguments)}function Dp(e,t){return Pp.apply(this,arguments)}function Pp(){return Pp=H(Y().mark((function e(t,n){var r,i;return Y().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.asyncQueue.verifyOperationInProgress(),e.next=3,Lp(t);case 3:return r=e.sent,ha("FirestoreClient","Initializing OnlineComponentProvider"),e.next=7,t.getConfiguration();case 7:return i=e.sent,e.next=10,n.initialize(r,i);case 10:t.setCredentialChangeListener((function(e){return Hh(n.remoteStore,e)})),t.setAppCheckTokenChangeListener((function(e,t){return Hh(n.remoteStore,t)})),t.onlineComponents=n;case 13:case"end":return e.stop()}}),e)}))),Pp.apply(this,arguments)}function Lp(e){return Rp.apply(this,arguments)}function Rp(){return Rp=H(Y().mark((function e(t){return Y().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.offlineComponents,e.t0){e.next=5;break}return ha("FirestoreClient","Using default OfflineComponentProvider"),e.next=5,Np(t,new wp);case 5:return e.abrupt("return",t.offlineComponents);case 6:case"end":return e.stop()}}),e)}))),Rp.apply(this,arguments)}function Mp(e){return Fp.apply(this,arguments)}function Fp(){return Fp=H(Y().mark((function e(t){return Y().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.onlineComponents,e.t0){e.next=5;break}return ha("FirestoreClient","Using default OnlineComponentProvider"),e.next=5,Dp(t,new Ep);case 5:return e.abrupt("return",t.onlineComponents);case 6:case"end":return e.stop()}}),e)}))),Fp.apply(this,arguments)}function jp(e){return Lp(e).then((function(e){return e.persistence}))}function Bp(e){return Lp(e).then((function(e){return e.localStore}))}function Up(e){return Mp(e).then((function(e){return e.remoteStore}))}function Vp(e){return Mp(e).then((function(e){return e.syncEngine}))}function qp(e){return zp.apply(this,arguments)}function zp(){return zp=H(Y().mark((function e(t){var n,r;return Y().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Mp(t);case 2:return n=e.sent,r=n.eventManager,e.abrupt("return",(r.onListen=Sd.bind(null,n.syncEngine),r.onUnlisten=_d.bind(null,n.syncEngine),r));case 5:case"end":return e.stop()}}),e)}))),zp.apply(this,arguments)}function Kp(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=new ba;return e.asyncQueue.enqueueAndForget(H(Y().mark((function i(){return Y().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.t0=function(e,t,n,r,i){var a=new Ip({next:function(a){t.enqueueAndForget((function(){return sd(e,o)}));var u=a.docs.has(n);!u&&a.fromCache?i.reject(new wa(ka.UNAVAILABLE,"Failed to get document because the client is offline.")):u&&a.fromCache&&r&&"server"===r.source?i.reject(new wa(ka.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(a)},error:function(e){return i.reject(e)}}),o=new dd(Xo(n.path),a,{includeMetadataChanges:!0,uc:!0});return od(e,o)},i.next=3,qp(e);case 3:return i.t1=i.sent,i.t2=e.asyncQueue,i.t3=t,i.t4=n,i.t5=r,i.abrupt("return",(0,i.t0)(i.t1,i.t2,i.t3,i.t4,i.t5));case 9:case"end":return i.stop()}}),i)})))),r.promise}function Gp(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=new ba;return e.asyncQueue.enqueueAndForget(H(Y().mark((function i(){return Y().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.t0=function(e,t,n,r,i){var a=new Ip({next:function(n){t.enqueueAndForget((function(){return sd(e,o)})),n.fromCache&&"server"===r.source?i.reject(new wa(ka.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:function(e){return i.reject(e)}}),o=new dd(n,a,{includeMetadataChanges:!0,uc:!0});return od(e,o)},i.next=3,qp(e);case 3:return i.t1=i.sent,i.t2=e.asyncQueue,i.t3=t,i.t4=n,i.t5=r,i.abrupt("return",(0,i.t0)(i.t1,i.t2,i.t3,i.t4,i.t5));case 9:case"end":return i.stop()}}),i)})))),r.promise}var Qp=new Map;function Hp(e,t,n){if(!n)throw new wa(ka.INVALID_ARGUMENT,"Function ".concat(e,"() cannot be called with an empty ").concat(t,"."))}function Wp(e,t,n,r){if(!0===t&&!0===r)throw new wa(ka.INVALID_ARGUMENT,"".concat(e," and ").concat(n," cannot be used together."))}function Yp(e){if(!ao.isDocumentKey(e))throw new wa(ka.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but ".concat(e," has ").concat(e.length,"."))}function Xp(e){if(ao.isDocumentKey(e))throw new wa(ka.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but ".concat(e," has ").concat(e.length,"."))}function Jp(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e="".concat(e.substring(0,20),"...")),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";var t=function(e){return e.constructor?e.constructor.name:null}(e);return t?"a custom ".concat(t," object"):"an object"}return"function"==typeof e?"a function":ya()}function $p(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new wa(ka.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=Jp(e);throw new wa(ka.INVALID_ARGUMENT,"Expected type '".concat(t.name,"', but it was: ").concat(n))}return e}function Zp(e,t){if(t<=0)throw new wa(ka.INVALID_ARGUMENT,"Function ".concat(e,"() requires a positive number, but it was: ").concat(t,"."))}var ev=function(){function e(t){var n;if(h(this,e),void 0===t.host){if(void 0!==t.ssl)throw new wa(ka.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(n=t.ssl)||void 0===n||n;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new wa(ka.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.useFetchStreams=!!t.useFetchStreams,Wp("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}return p(e,[{key:"isEqual",value:function(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}]),e}(),tv=function(){function e(t,n,r){h(this,e),this._authCredentials=n,this._appCheckCredentials=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new ev({}),this._settingsFrozen=!1,t instanceof to?this._databaseId=t:(this._app=t,this._databaseId=function(e){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new wa(ka.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new to(e.options.projectId)}(t))}return p(e,[{key:"app",get:function(){if(!this._app)throw new wa(ka.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}},{key:"_initialized",get:function(){return this._settingsFrozen}},{key:"_terminated",get:function(){return void 0!==this._terminateTask}},{key:"_setSettings",value:function(e){if(this._settingsFrozen)throw new wa(ka.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new ev(e),void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new Ea;switch(e.type){case"gapi":var t=e.client;return ma(!("object"!=typeof t||null===t||!t.auth||!t.auth.getAuthHeaderValueForFirstParty)),new Ca(t,e.sessionIndex||"0",e.iamToken||null);case"provider":return e.client;default:throw new wa(ka.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}},{key:"_getSettings",value:function(){return this._settings}},{key:"_freezeSettings",value:function(){return this._settingsFrozen=!0,this._settings}},{key:"_delete",value:function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}},{key:"toJSON",value:function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}},{key:"_terminate",value:function(){return function(e){var t=Qp.get(e);t&&(ha("ComponentProvider","Removing Datastore"),Qp.delete(e),t.terminate())}(this),Promise.resolve()}}]),e}();function nv(e,t,n){var r,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},a=(e=$p(e,tv))._getSettings();if("firestore.googleapis.com"!==a.host&&a.host!==t&&pa("Host has been set in both settings() and useEmulator(), emulator host will be used"),e._setSettings(Object.assign(Object.assign({},a),{host:"".concat(t,":").concat(n),ssl:!1})),i.mockUserToken){var o,u;if("string"==typeof i.mockUserToken)o=i.mockUserToken,u=sa.MOCK_USER;else{o=O(i.mockUserToken,null===(r=e._app)||void 0===r?void 0:r.options.projectId);var s=i.mockUserToken.sub||i.mockUserToken.user_id;if(!s)throw new wa(ka.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new sa(s)}e._authCredentials=new Sa(new xa(o,u))}}var rv=function(){function e(t,n,r){h(this,e),this.converter=n,this._key=r,this.type="document",this.firestore=t}return p(e,[{key:"_path",get:function(){return this._key.path}},{key:"id",get:function(){return this._key.path.lastSegment()}},{key:"path",get:function(){return this._key.path.canonicalString()}},{key:"parent",get:function(){return new av(this.firestore,this.converter,this._key.path.popLast())}},{key:"withConverter",value:function(t){return new e(this.firestore,t,this._key)}}]),e}(),iv=function(){function e(t,n,r){h(this,e),this.converter=n,this._query=r,this.type="query",this.firestore=t}return p(e,[{key:"withConverter",value:function(t){return new e(this.firestore,t,this._query)}}]),e}(),av=function(e){g(n,e);var t=E(n);function n(e,r,i){var a;return h(this,n),(a=t.call(this,e,r,Xo(i)))._path=i,a.type="collection",a}return p(n,[{key:"id",get:function(){return this._query.path.lastSegment()}},{key:"path",get:function(){return this._query.path.canonicalString()}},{key:"parent",get:function(){var e=this._path.popLast();return e.isEmpty()?null:new rv(this.firestore,null,new ao(e))}},{key:"withConverter",value:function(e){return new n(this.firestore,e,this._path)}}]),n}(iv);function ov(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=K(e),Hp("collection","path",t),e instanceof tv){var a=qa.fromString.apply(qa,[t].concat(r));return Xp(a),new av(e,null,a)}if(!(e instanceof rv||e instanceof av))throw new wa(ka.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var o=e._path.child(qa.fromString.apply(qa,[t].concat(r)));return Xp(o),new av(e.firestore,null,o)}function uv(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=K(e),1===arguments.length&&(t=Da.R()),Hp("doc","path",t),e instanceof tv){var a=qa.fromString.apply(qa,[t].concat(r));return Yp(a),new rv(e,null,new ao(a))}if(!(e instanceof rv||e instanceof av))throw new wa(ka.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var o=e._path.child(qa.fromString.apply(qa,[t].concat(r)));return Yp(o),new rv(e.firestore,e instanceof av?e.converter:null,new ao(o))}function sv(e,t){return e=K(e),t=K(t),(e instanceof rv||e instanceof av)&&(t instanceof rv||t instanceof av)&&e.firestore===t.firestore&&e.path===t.path&&e.converter===t.converter}function cv(e,t){return e=K(e),t=K(t),e instanceof iv&&t instanceof iv&&e.firestore===t.firestore&&au(e._query,t._query)&&e.converter===t.converter}var lv=function(){function e(){var t=this;h(this,e),this.hu=Promise.resolve(),this.lu=[],this.fu=!1,this.du=[],this._u=null,this.wu=!1,this.mu=!1,this.gu=[],this.ro=new ah(this,"async_queue_retry"),this.yu=function(){var e=rh();e&&ha("AsyncQueue","Visibility state changed to "+e.visibilityState),t.ro.Yr()};var n=rh();n&&"function"==typeof n.addEventListener&&n.addEventListener("visibilitychange",this.yu)}return p(e,[{key:"isShuttingDown",get:function(){return this.fu}},{key:"enqueueAndForget",value:function(e){this.enqueue(e)}},{key:"enqueueAndForgetEvenWhileRestricted",value:function(e){this.pu(),this.Iu(e)}},{key:"enterRestrictedMode",value:function(e){if(!this.fu){this.fu=!0,this.mu=e||!1;var t=rh();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.yu)}}},{key:"enqueue",value:function(e){var t=this;if(this.pu(),this.fu)return new Promise((function(){}));var n=new ba;return this.Iu((function(){return t.fu&&t.mu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)})).then((function(){return n.promise}))}},{key:"enqueueRetryable",value:function(e){var t=this;this.enqueueAndForget((function(){return t.lu.push(e),t.Eu()}))}},{key:"Eu",value:function(){var e=H(Y().mark((function e(){var t=this;return Y().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0===this.lu.length){e.next=14;break}return e.prev=1,e.next=4,this.lu[0]();case 4:this.lu.shift(),this.ro.reset(),e.next=13;break;case 8:if(e.prev=8,e.t0=e.catch(1),Nc(e.t0)){e.next=12;break}throw e.t0;case 12:ha("AsyncQueue","Operation failed with retryable error: "+e.t0);case 13:this.lu.length>0&&this.ro.Hr((function(){return t.Eu()}));case 14:case"end":return e.stop()}}),e,this,[[1,8]])})));return function(){return e.apply(this,arguments)}}()},{key:"Iu",value:function(e){var t=this,n=this.hu.then((function(){return t.wu=!0,e().catch((function(e){t._u=e,t.wu=!1;var n=function(e){var t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}(e);throw da("INTERNAL UNHANDLED ERROR: ",n),e})).then((function(e){return t.wu=!1,e}))}));return this.hu=n,n}},{key:"enqueueAfterDelay",value:function(e,t,n){var r=this;this.pu(),this.gu.indexOf(e)>-1&&(t=0);var i=Zh.createAndSchedule(this,e,t,n,(function(e){return r.Tu(e)}));return this.du.push(i),i}},{key:"pu",value:function(){this._u&&ya()}},{key:"verifyOperationInProgress",value:function(){}},{key:"Au",value:function(){var e=H(Y().mark((function e(){var t;return Y().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.hu,e.next=3,t;case 3:if(t!==this.hu){e.next=0;break}case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Ru",value:function(e){var t,n=v(this.du);try{for(n.s();!(t=n.n()).done;){if(t.value.timerId===e)return!0}}catch(r){n.e(r)}finally{n.f()}return!1}},{key:"Pu",value:function(e){var t=this;return this.Au().then((function(){t.du.sort((function(e,t){return e.targetTimeMs-t.targetTimeMs}));var n,r=v(t.du);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i.skipDelay(),"all"!==e&&i.timerId===e)break}}catch(a){r.e(a)}finally{r.f()}return t.Au()}))}},{key:"bu",value:function(e){this.gu.push(e)}},{key:"Tu",value:function(e){var t=this.du.indexOf(e);this.du.splice(t,1)}}]),e}();function fv(e){return function(e,t){if("object"!=typeof e||null===e)return!1;var n,r=e,i=v(["next","error","complete"]);try{for(i.s();!(n=i.n()).done;){var a=n.value;if(a in r&&"function"==typeof r[a])return!0}}catch(o){i.e(o)}finally{i.f()}return!1}(e)}var hv=function(){function e(){h(this,e),this._progressObserver={},this._taskCompletionResolver=new ba,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}return p(e,[{key:"onProgress",value:function(e,t,n){this._progressObserver={next:e,error:t,complete:n}}},{key:"catch",value:function(e){return this._taskCompletionResolver.promise.catch(e)}},{key:"then",value:function(e,t){return this._taskCompletionResolver.promise.then(e,t)}},{key:"_completeWith",value:function(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}},{key:"_failWith",value:function(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}},{key:"_updateProgress",value:function(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}]),e}(),dv=function(e){g(n,e);var t=E(n);function n(e,r,i){var a;return h(this,n),(a=t.call(this,e,r,i)).type="firestore",a._queue=new lv,a._persistenceKey="name"in e?e.name:"[DEFAULT]",a}return p(n,[{key:"_terminate",value:function(){return this._firestoreClient||vv(this),this._firestoreClient.terminate()}}]),n}(tv);function pv(e){return e._firestoreClient||vv(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function vv(e){var t,n=e._freezeSettings(),r=function(e,t,n,r){return new eo(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,r.useFetchStreams)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,n);e._firestoreClient=new Ap(e._authCredentials,e._appCheckCredentials,e._queue,r)}function yv(e,t,n){var r=new ba;return e.asyncQueue.enqueue(H(Y().mark((function i(){return Y().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.prev=0,i.next=3,Np(e,n);case 3:return i.next=5,Dp(e,t);case 5:r.resolve(),i.next=13;break;case 8:if(i.prev=8,i.t0=i.catch(0),function(e){return"FirebaseError"===e.name?e.code===ka.FAILED_PRECONDITION||e.code===ka.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||(22===e.code||20===e.code||11===e.code)}(i.t0)){i.next=12;break}throw i.t0;case 12:console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+i.t0),r.reject(i.t0);case 13:case"end":return i.stop()}}),i,null,[[0,8]])})))).then((function(){return r.promise}))}function mv(e){return function(e){return e.asyncQueue.enqueue(H(Y().mark((function t(){var n,r;return Y().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,jp(e);case 2:return n=t.sent,t.next=5,Up(e);case 5:return r=t.sent,t.abrupt("return",(n.setNetworkEnabled(!0),function(e){var t=ga(e);return t.Ko.delete(0),hh(t)}(r)));case 7:case"end":return t.stop()}}),t)}))))}(pv(e=$p(e,dv)))}function gv(e){return function(e){return e.asyncQueue.enqueue(H(Y().mark((function t(){var n,r;return Y().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,jp(e);case 2:return n=t.sent,t.next=5,Up(e);case 5:return r=t.sent,t.abrupt("return",(n.setNetworkEnabled(!1),function(){var e=H(Y().mark((function e(t){var n;return Y().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=ga(t)).Ko.add(0),e.next=4,ph(n);case 4:n.Qo.set("Offline");case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(r)));case 7:case"end":return t.stop()}}),t)}))))}(pv(e=$p(e,dv)))}function kv(e,t){var n=pv(e=$p(e,dv)),r=new hv;return function(e,t,n,r){var i=function(e,t){return function(e,t){return new Tp(e,t)}(function(e,t){if(e instanceof Uint8Array)return Sp(e,t);if(e instanceof ArrayBuffer)return Sp(new Uint8Array(e),t);if(e instanceof ReadableStream)return e.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}("string"==typeof e?(new TextEncoder).encode(e):e),t)}(n,ih(t));e.asyncQueue.enqueueAndForget(H(Y().mark((function t(){return Y().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=kp,t.next=3,Vp(e);case 3:t.t1=t.sent,t.t2=i,t.t3=r,(0,t.t0)(t.t1,t.t2,t.t3);case 7:case"end":return t.stop()}}),t)}))))}(n,e._databaseId,t,r),r}function wv(e,t){return function(e,t){return e.asyncQueue.enqueue(H(Y().mark((function n(){return Y().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.t0=function(e,t){var n=ga(e);return n.persistence.runTransaction("Get named query","readonly",(function(e){return n.Kn.getNamedQuery(e,t)}))},n.next=3,Bp(e);case 3:return n.t1=n.sent,n.t2=t,n.abrupt("return",(0,n.t0)(n.t1,n.t2));case 6:case"end":return n.stop()}}),n)}))))}(pv(e=$p(e,dv)),t).then((function(t){return t?new iv(e,null,t.query):null}))}function bv(e){if(e._initialized||e._terminated)throw new wa(ka.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}var xv=function(){function e(){h(this,e);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0;i<n.length;++i)if(0===n[i].length)throw new wa(ka.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ka(n)}return p(e,[{key:"isEqual",value:function(e){return this._internalPath.isEqual(e._internalPath)}}]),e}();var Ev=function(){function e(t){h(this,e),this._byteString=t}return p(e,[{key:"toBase64",value:function(){return this._byteString.toBase64()}},{key:"toUint8Array",value:function(){return this._byteString.toUint8Array()}},{key:"toString",value:function(){return"Bytes(base64: "+this.toBase64()+")"}},{key:"isEqual",value:function(e){return this._byteString.isEqual(e._byteString)}}],[{key:"fromBase64String",value:function(t){try{return new e(Qa.fromBase64String(t))}catch(t){throw new wa(ka.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}},{key:"fromUint8Array",value:function(t){return new e(Qa.fromUint8Array(t))}}]),e}(),Sv=p((function e(t){h(this,e),this._methodName=t})),Iv=function(){function e(t,n){if(h(this,e),!isFinite(t)||t<-90||t>90)throw new wa(ka.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new wa(ka.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}return p(e,[{key:"latitude",get:function(){return this._lat}},{key:"longitude",get:function(){return this._long}},{key:"isEqual",value:function(e){return this._lat===e._lat&&this._long===e._long}},{key:"toJSON",value:function(){return{latitude:this._lat,longitude:this._long}}},{key:"_compareTo",value:function(e){return Pa(this._lat,e._lat)||Pa(this._long,e._long)}}]),e}(),Tv=/^__.*__$/,Cv=function(){function e(t,n,r){h(this,e),this.data=t,this.fieldMask=n,this.fieldTransforms=r}return p(e,[{key:"toMutation",value:function(e,t){return null!==this.fieldMask?new Fu(e,this.data,this.fieldMask,t,this.fieldTransforms):new Mu(e,this.data,t,this.fieldTransforms)}}]),e}(),_v=function(){function e(t,n,r){h(this,e),this.data=t,this.fieldMask=n,this.fieldTransforms=r}return p(e,[{key:"toMutation",value:function(e,t){return new Fu(e,this.data,this.fieldMask,t,this.fieldTransforms)}}]),e}();function Av(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ya()}}var Nv=function(){function e(t,n,r,i,a,o){h(this,e),this.settings=t,this.databaseId=n,this.O=r,this.ignoreUndefinedProperties=i,void 0===a&&this.vu(),this.fieldTransforms=a||[],this.fieldMask=o||[]}return p(e,[{key:"path",get:function(){return this.settings.path}},{key:"Vu",get:function(){return this.settings.Vu}},{key:"Su",value:function(t){return new e(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.O,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}},{key:"Du",value:function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Su({path:n,Cu:!1});return r.Nu(e),r}},{key:"xu",value:function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Su({path:n,Cu:!1});return r.vu(),r}},{key:"ku",value:function(e){return this.Su({path:void 0,Cu:!0})}},{key:"Ou",value:function(e){return Xv(e,this.settings.methodName,this.settings.Mu||!1,this.path,this.settings.$u)}},{key:"contains",value:function(e){return void 0!==this.fieldMask.find((function(t){return e.isPrefixOf(t)}))||void 0!==this.fieldTransforms.find((function(t){return e.isPrefixOf(t.field)}))}},{key:"vu",value:function(){if(this.path)for(var e=0;e<this.path.length;e++)this.Nu(this.path.get(e))}},{key:"Nu",value:function(e){if(0===e.length)throw this.Ou("Document fields must not be empty");if(Av(this.Vu)&&Tv.test(e))throw this.Ou('Document fields cannot begin and end with "__"')}}]),e}(),Ov=function(){function e(t,n,r){h(this,e),this.databaseId=t,this.ignoreUndefinedProperties=n,this.O=r||ih(t)}return p(e,[{key:"Fu",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new Nv({Vu:e,methodName:t,$u:n,path:Ka.emptyPath(),Cu:!1,Mu:r},this.databaseId,this.O,this.ignoreUndefinedProperties)}}]),e}();function Dv(e){var t=e._freezeSettings(),n=ih(e._databaseId);return new Ov(e._databaseId,!!t.ignoreUndefinedProperties,n)}function Pv(e,t,n,r,i){var a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},o=e.Fu(a.merge||a.mergeFields?2:0,t,n,i);Qv("Data must be an object, but it was:",o,r);var u,s,c=Kv(r,o);if(a.merge)u=new Ga(o.fieldMask),s=o.fieldTransforms;else if(a.mergeFields){var l,f=[],h=v(a.mergeFields);try{for(h.s();!(l=h.n()).done;){var d=l.value,p=Hv(t,d,n);if(!o.contains(p))throw new wa(ka.INVALID_ARGUMENT,"Field '".concat(p,"' is specified in your field mask but missing from your input data."));Jv(f,p)||f.push(p)}}catch(y){h.e(y)}finally{h.f()}u=new Ga(f),s=o.fieldTransforms.filter((function(e){return u.covers(e.field)}))}else u=null,s=o.fieldTransforms;return new Cv(new xo(c),u,s)}var Lv=function(e){g(n,e);var t=E(n);function n(){return h(this,n),t.apply(this,arguments)}return p(n,[{key:"_toFieldTransform",value:function(e){if(2!==e.Vu)throw 1===e.Vu?e.Ou("".concat(this._methodName,"() can only appear at the top level of your update data")):e.Ou("".concat(this._methodName,"() cannot be used with set() unless you pass {merge:true}"));return e.fieldMask.push(e.path),null}},{key:"isEqual",value:function(e){return e instanceof n}}]),n}(Sv);function Rv(e,t,n){return new Nv({Vu:3,$u:t.settings.$u,methodName:e._methodName,Cu:n},t.databaseId,t.O,t.ignoreUndefinedProperties)}var Mv=function(e){g(n,e);var t=E(n);function n(){return h(this,n),t.apply(this,arguments)}return p(n,[{key:"_toFieldTransform",value:function(e){return new Tu(e.path,new gu)}},{key:"isEqual",value:function(e){return e instanceof n}}]),n}(Sv),Fv=function(e){g(n,e);var t=E(n);function n(e,r){var i;return h(this,n),(i=t.call(this,e)).Bu=r,i}return p(n,[{key:"_toFieldTransform",value:function(e){var t=Rv(this,e,!0),n=this.Bu.map((function(e){return zv(e,t)})),r=new ku(n);return new Tu(e.path,r)}},{key:"isEqual",value:function(e){return this===e}}]),n}(Sv),jv=function(e){g(n,e);var t=E(n);function n(e,r){var i;return h(this,n),(i=t.call(this,e)).Bu=r,i}return p(n,[{key:"_toFieldTransform",value:function(e){var t=Rv(this,e,!0),n=this.Bu.map((function(e){return zv(e,t)})),r=new bu(n);return new Tu(e.path,r)}},{key:"isEqual",value:function(e){return this===e}}]),n}(Sv),Bv=function(e){g(n,e);var t=E(n);function n(e,r){var i;return h(this,n),(i=t.call(this,e)).Lu=r,i}return p(n,[{key:"_toFieldTransform",value:function(e){var t=new Eu(e.O,du(e.O,this.Lu));return new Tu(e.path,t)}},{key:"isEqual",value:function(e){return this===e}}]),n}(Sv);function Uv(e,t,n,r){var i=e.Fu(1,t,n);Qv("Data must be an object, but it was:",i,r);var a=[],o=xo.empty();Ba(r,(function(e,r){var u=Yv(t,e,n);r=K(r);var s=i.xu(u);if(r instanceof Lv)a.push(u);else{var c=zv(r,s);null!=c&&(a.push(u),o.set(u,c))}}));var u=new Ga(a);return new _v(o,u,i.fieldTransforms)}function Vv(e,t,n,r,i,a){var o=e.Fu(1,t,n),u=[Hv(t,r,n)],s=[i];if(a.length%2!=0)throw new wa(ka.INVALID_ARGUMENT,"Function ".concat(t,"() needs to be called with an even number of arguments that alternate between field names and values."));for(var c=0;c<a.length;c+=2)u.push(Hv(t,a[c])),s.push(a[c+1]);for(var l=[],f=xo.empty(),h=u.length-1;h>=0;--h)if(!Jv(l,u[h])){var d=u[h],p=s[h];p=K(p);var v=o.xu(d);if(p instanceof Lv)l.push(d);else{var y=zv(p,v);null!=y&&(l.push(d),f.set(d,y))}}var m=new Ga(l);return new _v(f,m,o.fieldTransforms)}function qv(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return zv(n,e.Fu(r?4:3,t))}function zv(e,t){if(Gv(e=K(e)))return Qv("Unsupported field value:",t,e),Kv(e,t);if(e instanceof Sv)return function(e,t){if(!Av(t.Vu))throw t.Ou("".concat(e._methodName,"() can only be used with update() and set()"));if(!t.path)throw t.Ou("".concat(e._methodName,"() is not currently supported inside arrays"));var n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.Cu&&4!==t.Vu)throw t.Ou("Nested arrays are not supported");return function(e,t){var n,r=[],i=0,a=v(e);try{for(a.s();!(n=a.n()).done;){var o=zv(n.value,t.ku(i));null==o&&(o={nullValue:"NULL_VALUE"}),r.push(o),i++}}catch(u){a.e(u)}finally{a.f()}return{arrayValue:{values:r}}}(e,t)}return function(e,t){if(null===(e=K(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return du(t.O,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){var n=Ma.fromDate(e);return{timestampValue:bs(t.O,n)}}if(e instanceof Ma){var r=new Ma(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:bs(t.O,r)}}if(e instanceof Iv)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof Ev)return{bytesValue:xs(t.O,e._byteString)};if(e instanceof rv){var i=t.databaseId,a=e.firestore._databaseId;if(!a.isEqual(i))throw t.Ou("Document reference is for database ".concat(a.projectId,"/").concat(a.database," but should be for database ").concat(i.projectId,"/").concat(i.database));return{referenceValue:Is(e.firestore._databaseId||t.databaseId,e._key.path)}}throw t.Ou("Unsupported field value: ".concat(Jp(e)))}(e,t)}function Kv(e,t){var n={};return Ua(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Ba(e,(function(e,r){var i=zv(r,t.Du(e));null!=i&&(n[e]=i)})),{mapValue:{fields:n}}}function Gv(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof Ma||e instanceof Iv||e instanceof Ev||e instanceof rv||e instanceof Sv)}function Qv(e,t,n){if(!Gv(n)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){var r=Jp(n);throw"an object"===r?t.Ou(e+" a custom object"):t.Ou(e+" "+r)}}function Hv(e,t,n){if((t=K(t))instanceof xv)return t._internalPath;if("string"==typeof t)return Yv(e,t);throw Xv("Field path arguments must be of type string or ",e,!1,void 0,n)}var Wv=new RegExp("[~\\*/\\[\\]]");function Yv(e,t,n){if(t.search(Wv)>=0)throw Xv("Invalid field path (".concat(t,"). Paths must not contain '~', '*', '/', '[', or ']'"),e,!1,void 0,n);try{return S(xv,G(t.split(".")))._internalPath}catch(r){throw Xv("Invalid field path (".concat(t,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"),e,!1,void 0,n)}}function Xv(e,t,n,r,i){var a=r&&!r.isEmpty(),o=void 0!==i,u="Function ".concat(t,"() called with invalid data");n&&(u+=" (via `toFirestore()`)"),u+=". ";var s="";return(a||o)&&(s+=" (found",a&&(s+=" in field ".concat(r)),o&&(s+=" in document ".concat(i)),s+=")"),new wa(ka.INVALID_ARGUMENT,u+e+s)}function Jv(e,t){return e.some((function(e){return e.isEqual(t)}))}var $v=function(){function e(t,n,r,i,a){h(this,e),this._firestore=t,this._userDataWriter=n,this._key=r,this._document=i,this._converter=a}return p(e,[{key:"id",get:function(){return this._key.path.lastSegment()}},{key:"ref",get:function(){return new rv(this._firestore,this._converter,this._key)}},{key:"exists",value:function(){return null!==this._document}},{key:"data",value:function(){if(this._document){if(this._converter){var e=new Zv(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}},{key:"get",value:function(e){if(this._document){var t=this._document.data.field(ey("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}]),e}(),Zv=function(e){g(n,e);var t=E(n);function n(){return h(this,n),t.apply(this,arguments)}return p(n,[{key:"data",value:function(){return Qe(k(n.prototype),"data",this).call(this)}}]),n}($v);function ey(e,t){return"string"==typeof t?Yv(e,t):t instanceof xv?t._internalPath:t._delegate._internalPath}var ty=function(){function e(t,n){h(this,e),this.hasPendingWrites=t,this.fromCache=n}return p(e,[{key:"isEqual",value:function(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}]),e}(),ny=function(e){g(n,e);var t=E(n);function n(e,r,i,a,o,u){var s;return h(this,n),(s=t.call(this,e,r,i,a,u))._firestore=e,s._firestoreImpl=e,s.metadata=o,s}return p(n,[{key:"exists",value:function(){return Qe(k(n.prototype),"exists",this).call(this)}},{key:"data",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._document){if(this._converter){var t=new ry(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}},{key:"get",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._document){var n=this._document.data.field(ey("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}]),n}($v),ry=function(e){g(n,e);var t=E(n);function n(){return h(this,n),t.apply(this,arguments)}return p(n,[{key:"data",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Qe(k(n.prototype),"data",this).call(this,e)}}]),n}(ny),iy=function(){function e(t,n,r,i){h(this,e),this._firestore=t,this._userDataWriter=n,this._snapshot=i,this.metadata=new ty(i.hasPendingWrites,i.fromCache),this.query=r}return p(e,[{key:"docs",get:function(){var e=[];return this.forEach((function(t){return e.push(t)})),e}},{key:"size",get:function(){return this._snapshot.docs.size}},{key:"empty",get:function(){return 0===this.size}},{key:"forEach",value:function(e,t){var n=this;this._snapshot.docs.forEach((function(r){e.call(t,new ry(n._firestore,n._userDataWriter,r.key,r,new ty(n._snapshot.mutatedKeys.has(r.key),n._snapshot.fromCache),n.query.converter))}))}},{key:"docChanges",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new wa(ka.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){var n=0;return e._snapshot.docChanges.map((function(t){return{type:"added",doc:new ry(e._firestore,e._userDataWriter,t.doc.key,t.doc,new ty(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter),oldIndex:-1,newIndex:n++}}))}var r=e._snapshot.oldDocs;return e._snapshot.docChanges.filter((function(e){return t||3!==e.type})).map((function(t){var n=new ry(e._firestore,e._userDataWriter,t.doc.key,t.doc,new ty(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter),i=-1,a=-1;return 0!==t.type&&(i=r.indexOf(t.doc.key),r=r.delete(t.doc.key)),1!==t.type&&(a=(r=r.add(t.doc)).indexOf(t.doc.key)),{type:ay(t.type),doc:n,oldIndex:i,newIndex:a}}))}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}]),e}();function ay(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ya()}}function oy(e,t){return e instanceof ny&&t instanceof ny?e._firestore===t._firestore&&e._key.isEqual(t._key)&&(null===e._document?null===t._document:e._document.isEqual(t._document))&&e._converter===t._converter:e instanceof iy&&t instanceof iy&&e._firestore===t._firestore&&cv(e.query,t.query)&&e.metadata.isEqual(t.metadata)&&e._snapshot.isEqual(t._snapshot)}function uy(e){if($o(e)&&0===e.explicitOrderBy.length)throw new wa(ka.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var sy=p((function e(){h(this,e)}));function cy(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e=o._apply(e)}return e}var ly=function(e){g(n,e);var t=E(n);function n(e,r,i){var a;return h(this,n),(a=t.call(this)).Uu=e,a.qu=r,a.Ku=i,a.type="where",a}return p(n,[{key:"_apply",value:function(e){var t=Dv(e.firestore),n=function(e,t,n,r,i,a,o){var u;if(i.isKeyField()){if("array-contains"===a||"array-contains-any"===a)throw new wa(ka.INVALID_ARGUMENT,"Invalid Query. You can't perform '".concat(a,"' queries on documentId()."));if("in"===a||"not-in"===a){by(o,a);var s,c=[],l=v(o);try{for(l.s();!(s=l.n()).done;){var f=s.value;c.push(wy(r,e,f))}}catch(d){l.e(d)}finally{l.f()}u={arrayValue:{values:c}}}else u=wy(r,e,o)}else"in"!==a&&"not-in"!==a&&"array-contains-any"!==a||by(o,a),u=qv(n,"where",o,"in"===a||"not-in"===a);var h=Lo.create(i,a,u);return function(e,t){if(t.S()){var n=eu(e);if(null!==n&&!n.isEqual(t.field))throw new wa(ka.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '".concat(n.toString(),"' and '").concat(t.field.toString(),"'"));var r=Zo(e);null!==r&&xy(e,t.field,r)}var i=function(e,t){var n,r=v(e.filters);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(t.indexOf(i.op)>=0)return i.op}}catch(d){r.e(d)}finally{r.f()}return null}(e,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==i)throw i===t.op?new wa(ka.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '".concat(t.op.toString(),"' filter.")):new wa(ka.INVALID_ARGUMENT,"Invalid query. You cannot use '".concat(t.op.toString(),"' filters with '").concat(i.toString(),"' filters."))}(e,h),h}(e._query,0,t,e.firestore._databaseId,this.Uu,this.qu,this.Ku);return new iv(e.firestore,e.converter,function(e,t){var n=e.filters.concat([t]);return new Wo(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}(e._query,n))}}]),n}(sy);var fy=function(e){g(n,e);var t=E(n);function n(e,r){var i;return h(this,n),(i=t.call(this)).Uu=e,i.Gu=r,i.type="orderBy",i}return p(n,[{key:"_apply",value:function(e){var t=function(e,t,n){if(null!==e.startAt)throw new wa(ka.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==e.endAt)throw new wa(ka.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var r=new Ko(t,n);return function(e,t){if(null===Zo(e)){var n=eu(e);null!==n&&xy(e,n,t.field)}}(e,r),r}(e._query,this.Uu,this.Gu);return new iv(e.firestore,e.converter,function(e,t){var n=e.explicitOrderBy.concat([t]);return new Wo(e.path,e.collectionGroup,n,e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(e._query,t))}}]),n}(sy);var hy=function(e){g(n,e);var t=E(n);function n(e,r,i){var a;return h(this,n),(a=t.call(this)).type=e,a.ju=r,a.Qu=i,a}return p(n,[{key:"_apply",value:function(e){return new iv(e.firestore,e.converter,iu(e._query,this.ju,this.Qu))}}]),n}(sy);var dy=function(e){g(n,e);var t=E(n);function n(e,r,i){var a;return h(this,n),(a=t.call(this)).type=e,a.Wu=r,a.zu=i,a}return p(n,[{key:"_apply",value:function(e){var t=ky(e,this.type,this.Wu,this.zu);return new iv(e.firestore,e.converter,function(e,t){return new Wo(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,t,e.endAt)}(e._query,t))}}]),n}(sy);function py(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new dy("startAt",t,!0)}function vy(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new dy("startAfter",t,!1)}var yy=function(e){g(n,e);var t=E(n);function n(e,r,i){var a;return h(this,n),(a=t.call(this)).type=e,a.Wu=r,a.zu=i,a}return p(n,[{key:"_apply",value:function(e){var t=ky(e,this.type,this.Wu,this.zu);return new iv(e.firestore,e.converter,function(e,t){return new Wo(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,t)}(e._query,t))}}]),n}(sy);function my(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new yy("endBefore",t,!1)}function gy(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new yy("endAt",t,!0)}function ky(e,t,n,r){if(n[0]=K(n[0]),n[0]instanceof $v)return function(e,t,n,r,i){if(!r)throw new wa(ka.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for ".concat(n,"()."));var a,o=[],u=v(nu(e));try{for(u.s();!(a=u.n()).done;){var s=a.value;if(s.field.isKeyField())o.push(vo(t,r.key));else{var c=r.data.field(s.field);if(Ja(c))throw new wa(ka.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+s.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===c){var l=s.field.canonicalString();throw new wa(ka.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '".concat(l,"' (used as the orderBy) does not exist."))}o.push(c)}}}catch(f){u.e(f)}finally{u.f()}return new zo(o,i)}(e._query,e.firestore._databaseId,t,n[0]._document,r);var i=Dv(e.firestore);return function(e,t,n,r,i,a){var o=e.explicitOrderBy;if(i.length>o.length)throw new wa(ka.INVALID_ARGUMENT,"Too many arguments provided to ".concat(r,"(). The number of arguments must be less than or equal to the number of orderBy() clauses"));for(var u=[],s=0;s<i.length;s++){var c=i[s];if(o[s].field.isKeyField()){if("string"!=typeof c)throw new wa(ka.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in ".concat(r,"(), but got a ").concat(typeof c));if(!tu(e)&&-1!==c.indexOf("/"))throw new wa(ka.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by documentId(), the value passed to ".concat(r,"() must be a plain document ID, but '").concat(c,"' contains a slash."));var l=e.path.child(qa.fromString(c));if(!ao.isDocumentKey(l))throw new wa(ka.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by documentId(), the value passed to ".concat(r,"() must result in a valid document path, but '").concat(l,"' is not because it contains an odd number of segments."));var f=new ao(l);u.push(vo(t,f))}else{var h=qv(n,r,c);u.push(h)}}return new zo(u,a)}(e._query,e.firestore._databaseId,i,t,n,r)}function wy(e,t,n){if("string"==typeof(n=K(n))){if(""===n)throw new wa(ka.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!tu(t)&&-1!==n.indexOf("/"))throw new wa(ka.INVALID_ARGUMENT,"Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '".concat(n,"' contains a '/' character."));var r=t.path.child(qa.fromString(n));if(!ao.isDocumentKey(r))throw new wa(ka.INVALID_ARGUMENT,"Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '".concat(r,"' is not because it has an odd number of segments (").concat(r.length,")."));return vo(e,new ao(r))}if(n instanceof rv)return vo(e,n._key);throw new wa(ka.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ".concat(Jp(n),"."))}function by(e,t){if(!Array.isArray(e)||0===e.length)throw new wa(ka.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '".concat(t.toString(),"' filters."));if(e.length>10)throw new wa(ka.INVALID_ARGUMENT,"Invalid Query. '".concat(t.toString(),"' filters support a maximum of 10 elements in the value array."))}function xy(e,t,n){if(!n.isEqual(t))throw new wa(ka.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '".concat(t.toString(),"' and so you must also use '").concat(t.toString(),"' as your first argument to orderBy(), but your first orderBy() is on field '").concat(n.toString(),"' instead."))}var Ey=function(){function e(){h(this,e)}return p(e,[{key:"convertValue",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";switch(uo(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ya(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Xa(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw ya()}}},{key:"convertObject",value:function(e,t){var n=this,r={};return Ba(e.fields,(function(e,i){r[e]=n.convertValue(i,t)})),r}},{key:"convertGeoPoint",value:function(e){return new Iv(Ya(e.latitude),Ya(e.longitude))}},{key:"convertArray",value:function(e,t){var n=this;return(e.values||[]).map((function(e){return n.convertValue(e,t)}))}},{key:"convertServerTimestamp",value:function(e,t){switch(t){case"previous":var n=$a(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(Za(e));default:return null}}},{key:"convertTimestamp",value:function(e){var t=Wa(e);return new Ma(t.seconds,t.nanos)}},{key:"convertDocumentKey",value:function(e,t){var n=qa.fromString(e);ma(Ys(n));var r=new to(n.get(1),n.get(3)),i=new ao(n.popFirst(5));return r.isEqual(t)||da("Document ".concat(i," contains a document reference within a different database (").concat(r.projectId,"/").concat(r.database,") which is not supported. It will be treated as a reference in the current database (").concat(t.projectId,"/").concat(t.database,") instead.")),i}}]),e}();function Sy(e,t,n){return e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t}var Iy=function(e){g(n,e);var t=E(n);function n(e){var r;return h(this,n),(r=t.call(this)).firestore=e,r}return p(n,[{key:"convertBytes",value:function(e){return new Ev(e)}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new rv(this.firestore,null,t)}}]),n}(Ey),Ty=function(){function e(t,n){h(this,e),this._firestore=t,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=Dv(t)}return p(e,[{key:"set",value:function(e,t,n){this._verifyNotCommitted();var r=Cy(e,this._firestore),i=Sy(r.converter,t,n),a=Pv(this._dataReader,"WriteBatch.set",r._key,i,null!==r.converter,n);return this._mutations.push(a.toMutation(r._key,_u.none())),this}},{key:"update",value:function(e,t,n){this._verifyNotCommitted();for(var r,i=Cy(e,this._firestore),a=arguments.length,o=new Array(a>3?a-3:0),u=3;u<a;u++)o[u-3]=arguments[u];return r="string"==typeof(t=K(t))||t instanceof xv?Vv(this._dataReader,"WriteBatch.update",i._key,t,n,o):Uv(this._dataReader,"WriteBatch.update",i._key,t),this._mutations.push(r.toMutation(i._key,_u.exists(!0))),this}},{key:"delete",value:function(e){this._verifyNotCommitted();var t=Cy(e,this._firestore);return this._mutations=this._mutations.concat(new zu(t._key,_u.none())),this}},{key:"commit",value:function(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}},{key:"_verifyNotCommitted",value:function(){if(this._committed)throw new wa(ka.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}]),e}();function Cy(e,t){if((e=K(e)).firestore!==t)throw new wa(ka.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}var _y=function(e){g(n,e);var t=E(n);function n(e){var r;return h(this,n),(r=t.call(this)).firestore=e,r}return p(n,[{key:"convertBytes",value:function(e){return new Ev(e)}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new rv(this.firestore,null,t)}}]),n}(Ey);function Ay(e){e=$p(e,rv);var t=$p(e.firestore,dv),n=pv(t),r=new _y(t);return function(e,t){var n=new ba;return e.asyncQueue.enqueueAndForget(H(Y().mark((function r(){return Y().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=function(){var e=H(Y().mark((function e(t,n,r){var i,a;return Y().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,function(e,t){var n=ga(e);return n.persistence.runTransaction("read document","readonly",(function(e){return n.Us.ys(e,t)}))}(t,n);case 3:(i=e.sent).isFoundDocument()?r.resolve(i):i.isNoDocument()?r.resolve(null):r.reject(new wa(ka.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),a=ed(e.t0,"Failed to get document '".concat(n," from cache")),r.reject(a);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,n,r){return e.apply(this,arguments)}}(),r.next=3,Bp(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(n,e._key).then((function(n){return new ny(t,r,e._key,n,new ty(null!==n&&n.hasLocalMutations,!0),e.converter)}))}function Ny(e){e=$p(e,iv);var t=$p(e.firestore,dv),n=pv(t),r=new _y(t);return function(e,t){var n=new ba;return e.asyncQueue.enqueueAndForget(H(Y().mark((function r(){return Y().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=function(){var e=H(Y().mark((function e(t,n,r){var i,a,o,u,s;return Y().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,bf(t,n,!0);case 3:i=e.sent,a=new wd(n,i.Ks),o=a.Ic(i.documents),u=a.applyChanges(o,!1),r.resolve(u.snapshot),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),s=ed(e.t0,"Failed to execute query '".concat(n," against cache")),r.reject(s);case 14:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t,n,r){return e.apply(this,arguments)}}(),r.next=3,Bp(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(n,e._query).then((function(n){return new iy(t,r,e,n)}))}function Oy(e,t,n){e=$p(e,rv);var r=$p(e.firestore,dv),i=Sy(e.converter,t,n);return Ry(r,[Pv(Dv(r),"setDoc",e._key,i,null!==e.converter,n).toMutation(e._key,_u.none())])}function Dy(e,t,n){e=$p(e,rv);for(var r=$p(e.firestore,dv),i=Dv(r),a=arguments.length,o=new Array(a>3?a-3:0),u=3;u<a;u++)o[u-3]=arguments[u];return Ry(r,[("string"==typeof(t=K(t))||t instanceof xv?Vv(i,"updateDoc",e._key,t,n,o):Uv(i,"updateDoc",e._key,t)).toMutation(e._key,_u.exists(!0))])}function Py(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i,a,o;e=K(e);var u={includeMetadataChanges:!1},s=0;"object"!=typeof n[s]||fv(n[s])||(u=n[s],s++);var c,l,f,h={includeMetadataChanges:u.includeMetadataChanges};if(fv(n[s])){var d=n[s];n[s]=null===(i=d.next)||void 0===i?void 0:i.bind(d),n[s+1]=null===(a=d.error)||void 0===a?void 0:a.bind(d),n[s+2]=null===(o=d.complete)||void 0===o?void 0:o.bind(d)}if(e instanceof rv)l=$p(e.firestore,dv),f=Xo(e._key.path),c={next:function(t){n[s]&&n[s](My(l,e,t))},error:n[s+1],complete:n[s+2]};else{var p=$p(e,iv);l=$p(p.firestore,dv),f=p._query;var v=new _y(l);c={next:function(e){n[s]&&n[s](new iy(l,v,p,e))},error:n[s+1],complete:n[s+2]},uy(e._query)}return function(e,t,n,r){var i=new Ip(r),a=new dd(t,i,n);return e.asyncQueue.enqueueAndForget(H(Y().mark((function t(){return Y().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=od,t.next=3,qp(e);case 3:return t.t1=t.sent,t.t2=a,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)})))),function(){i.Jc(),e.asyncQueue.enqueueAndForget(H(Y().mark((function t(){return Y().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=sd,t.next=3,qp(e);case 3:return t.t1=t.sent,t.t2=a,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)}))))}}(pv(l),f,h,c)}function Ly(e,t){return function(e,t){var n=new Ip(t);return e.asyncQueue.enqueueAndForget(H(Y().mark((function t(){return Y().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=function(e,t){ga(e).Zo.add(t),t.next()},t.next=3,qp(e);case 3:return t.t1=t.sent,t.t2=n,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)})))),function(){n.Jc(),e.asyncQueue.enqueueAndForget(H(Y().mark((function t(){return Y().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=function(e,t){ga(e).Zo.delete(t)},t.next=3,qp(e);case 3:return t.t1=t.sent,t.t2=n,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)}))))}}(pv(e=$p(e,dv)),fv(t)?t:{next:t})}function Ry(e,t){return function(e,t){var n=new ba;return e.asyncQueue.enqueueAndForget(H(Y().mark((function r(){return Y().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=Nd,r.next=3,Vp(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(pv(e),t)}function My(e,t,n){var r=n.docs.get(t._key),i=new _y(e);return new ny(e,i,t._key,r,new ty(n.hasPendingWrites,n.fromCache),t.converter)}var Fy=function(e){g(n,e);var t=E(n);function n(e,r){var i;return h(this,n),(i=t.call(this,e,r))._firestore=e,i}return p(n,[{key:"get",value:function(e){var t=this,r=Cy(e,this._firestore),i=new _y(this._firestore);return Qe(k(n.prototype),"get",this).call(this,e).then((function(e){return new ny(t._firestore,i,r._key,e._document,new ty(!1,!1),r.converter)}))}}]),n}(function(){function e(t,n){h(this,e),this._firestore=t,this._transaction=n,this._dataReader=Dv(t)}return p(e,[{key:"get",value:function(e){var t=this,n=Cy(e,this._firestore),r=new Iy(this._firestore);return this._transaction.lookup([n._key]).then((function(e){if(!e||1!==e.length)return ya();var i=e[0];if(i.isFoundDocument())return new $v(t._firestore,r,i.key,i,n.converter);if(i.isNoDocument())return new $v(t._firestore,r,n._key,null,n.converter);throw ya()}))}},{key:"set",value:function(e,t,n){var r=Cy(e,this._firestore),i=Sy(r.converter,t,n),a=Pv(this._dataReader,"Transaction.set",r._key,i,null!==r.converter,n);return this._transaction.set(r._key,a),this}},{key:"update",value:function(e,t,n){for(var r,i=Cy(e,this._firestore),a=arguments.length,o=new Array(a>3?a-3:0),u=3;u<a;u++)o[u-3]=arguments[u];return r="string"==typeof(t=K(t))||t instanceof xv?Vv(this._dataReader,"Transaction.update",i._key,t,n,o):Uv(this._dataReader,"Transaction.update",i._key,t),this._transaction.update(i._key,r),this}},{key:"delete",value:function(e){var t=Cy(e,this._firestore);return this._transaction.delete(t._key),this}}]),e}());function jy(e,t){return function(e,t){var n=new ba;return e.asyncQueue.enqueueAndForget(H(Y().mark((function r(){var i;return Y().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,function(e){return Mp(e).then((function(e){return e.datastore}))}(e);case 2:i=r.sent,new _p(e.asyncQueue,i,t,n).run();case 4:case"end":return r.stop()}}),r)})))),n.promise}(pv(e=$p(e,dv)),(function(n){return t(new Fy(e,n))}))}function By(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new Fv("arrayUnion",t)}function Uy(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new jv("arrayRemove",t)}!function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];!function(e){ca=e}(Ae),we(new X("firestore",(function(e,n){var r=n.options,i=e.getProvider("app").getImmediate(),a=new dv(i,new Ia(e.getProvider("auth-internal")),new Aa(e.getProvider("app-check-internal")));return r=Object.assign({useFetchStreams:t},r),a._setSettings(r),a}),"PUBLIC")),Re(ua,"3.4.5",e),Re(ua,"3.4.5","esm2017")}();function Vy(e,t){if(void 0===t)return{merge:!1};if(void 0!==t.mergeFields&&void 0!==t.merge)throw new wa("invalid-argument","Invalid options passed to function ".concat(e,"(): You cannot ")+'specify both "merge" and "mergeFields".');return t}function qy(){if("undefined"===typeof Uint8Array)throw new wa("unimplemented","Uint8Arrays are not available in this environment.")}function zy(){if("undefined"==typeof atob)throw new wa("unimplemented","Blobs are unavailable in Firestore in this environment.")}var Ky=function(){function e(t){h(this,e),this._delegate=t}return p(e,[{key:"toBase64",value:function(){return zy(),this._delegate.toBase64()}},{key:"toUint8Array",value:function(){return qy(),this._delegate.toUint8Array()}},{key:"isEqual",value:function(e){return this._delegate.isEqual(e._delegate)}},{key:"toString",value:function(){return"Blob(base64: "+this.toBase64()+")"}}],[{key:"fromBase64String",value:function(t){return zy(),new e(Ev.fromBase64String(t))}},{key:"fromUint8Array",value:function(t){return qy(),new e(Ev.fromUint8Array(t))}}]),e}();function Gy(e){return function(e,t){if("object"!==typeof e||null===e)return!1;var n,r=e,i=v(t);try{for(i.s();!(n=i.n()).done;){var a=n.value;if(a in r&&"function"===typeof r[a])return!0}}catch(o){i.e(o)}finally{i.f()}return!1}(e,["next","error","complete"])}var Qy=function(){function e(){h(this,e)}return p(e,[{key:"enableIndexedDbPersistence",value:function(e,t){return function(e,t){bv(e=$p(e,dv));var n=pv(e),r=e._freezeSettings(),i=new Ep;return yv(n,i,new bp(i,r.cacheSizeBytes,null==t?void 0:t.forceOwnership))}(e._delegate,{forceOwnership:t})}},{key:"enableMultiTabIndexedDbPersistence",value:function(e){return function(e){bv(e=$p(e,dv));var t=pv(e),n=e._freezeSettings(),r=new Ep;return yv(t,r,new xp(r,n.cacheSizeBytes))}(e._delegate)}},{key:"clearIndexedDbPersistence",value:function(e){return function(e){if(e._initialized&&!e._terminated)throw new wa(ka.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var t=new ba;return e._queue.enqueueAndForgetEvenWhileRestricted(H(Y().mark((function n(){return Y().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,function(){var e=H(Y().mark((function e(t){var n;return Y().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Cc.Vt()){e.next=2;break}return e.abrupt("return",Promise.resolve());case 2:return n=t+"main",e.next=5,Cc.delete(n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(rf(e._databaseId,e._persistenceKey));case 3:t.resolve(),n.next=9;break;case 6:n.prev=6,n.t0=n.catch(0),t.reject(n.t0);case 9:case"end":return n.stop()}}),n,null,[[0,6]])})))),t.promise}(e._delegate)}}]),e}(),Hy=function(){function e(t,n,r){var i=this;h(this,e),this._delegate=n,this._persistenceProvider=r,this.INTERNAL={delete:function(){return i.terminate()}},t instanceof to||(this._appCompat=t)}return p(e,[{key:"_databaseId",get:function(){return this._delegate._databaseId}},{key:"settings",value:function(e){var t=this._delegate._getSettings();e.merge||t.host===e.host||pa("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}},{key:"useEmulator",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};nv(this._delegate,e,t,n)}},{key:"enableNetwork",value:function(){return mv(this._delegate)}},{key:"disableNetwork",value:function(){return gv(this._delegate)}},{key:"enablePersistence",value:function(e){var t=!1,n=!1;return e&&Wp("synchronizeTabs",t=!!e.synchronizeTabs,"experimentalForceOwningTab",n=!!e.experimentalForceOwningTab),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,n)}},{key:"clearPersistence",value:function(){return this._persistenceProvider.clearIndexedDbPersistence(this)}},{key:"terminate",value:function(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}},{key:"waitForPendingWrites",value:function(){return function(e){return function(e){var t=new ba;return e.asyncQueue.enqueueAndForget(H(Y().mark((function n(){return Y().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.t0=Vd,n.next=3,Vp(e);case 3:return n.t1=n.sent,n.t2=t,n.abrupt("return",(0,n.t0)(n.t1,n.t2));case 6:case"end":return n.stop()}}),n)})))),t.promise}(pv(e=$p(e,dv)))}(this._delegate)}},{key:"onSnapshotsInSync",value:function(e){return Ly(this._delegate,e)}},{key:"app",get:function(){if(!this._appCompat)throw new wa("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}},{key:"collection",value:function(e){try{return new um(this,ov(this._delegate,e))}catch(t){throw Zy(t,"collection()","Firestore.collection()")}}},{key:"doc",value:function(e){try{return new $y(this,uv(this._delegate,e))}catch(t){throw Zy(t,"doc()","Firestore.doc()")}}},{key:"collectionGroup",value:function(e){try{return new im(this,function(e,t){if(e=$p(e,tv),Hp("collectionGroup","collection id",t),t.indexOf("/")>=0)throw new wa(ka.INVALID_ARGUMENT,"Invalid collection ID '".concat(t,"' passed to function collectionGroup(). Collection IDs must not contain '/'."));return new iv(e,null,function(e){return new Wo(qa.emptyPath(),e)}(t))}(this._delegate,e))}catch(t){throw Zy(t,"collectionGroup()","Firestore.collectionGroup()")}}},{key:"runTransaction",value:function(e){var t=this;return jy(this._delegate,(function(n){return e(new Yy(t,n))}))}},{key:"batch",value:function(){var e=this;return pv(this._delegate),new Xy(new Ty(this._delegate,(function(t){return Ry(e._delegate,t)})))}},{key:"loadBundle",value:function(e){return kv(this._delegate,e)}},{key:"namedQuery",value:function(e){var t=this;return wv(this._delegate,e).then((function(e){return e?new im(t,e):null}))}}]),e}(),Wy=function(e){g(n,e);var t=E(n);function n(e){var r;return h(this,n),(r=t.call(this)).firestore=e,r}return p(n,[{key:"convertBytes",value:function(e){return new Ky(new Ev(e))}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return $y.forKey(t,this.firestore,null)}}]),n}(Ey);var Yy=function(){function e(t,n){h(this,e),this._firestore=t,this._delegate=n,this._userDataWriter=new Wy(t)}return p(e,[{key:"get",value:function(e){var t=this,n=sm(e);return this._delegate.get(n).then((function(e){return new nm(t._firestore,new ny(t._firestore._delegate,t._userDataWriter,e._key,e._document,e.metadata,n.converter))}))}},{key:"set",value:function(e,t,n){var r=sm(e);return n?(Vy("Transaction.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}},{key:"update",value:function(e,t,n){for(var r=arguments.length,i=new Array(r>3?r-3:0),a=3;a<r;a++)i[a-3]=arguments[a];var o,u=sm(e);2===arguments.length?this._delegate.update(u,t):(o=this._delegate).update.apply(o,[u,t,n].concat(i));return this}},{key:"delete",value:function(e){var t=sm(e);return this._delegate.delete(t),this}}]),e}(),Xy=function(){function e(t){h(this,e),this._delegate=t}return p(e,[{key:"set",value:function(e,t,n){var r=sm(e);return n?(Vy("WriteBatch.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}},{key:"update",value:function(e,t,n){for(var r=arguments.length,i=new Array(r>3?r-3:0),a=3;a<r;a++)i[a-3]=arguments[a];var o,u=sm(e);2===arguments.length?this._delegate.update(u,t):(o=this._delegate).update.apply(o,[u,t,n].concat(i));return this}},{key:"delete",value:function(e){var t=sm(e);return this._delegate.delete(t),this}},{key:"commit",value:function(){return this._delegate.commit()}}]),e}(),Jy=function(){function e(t,n,r){h(this,e),this._firestore=t,this._userDataWriter=n,this._delegate=r}return p(e,[{key:"fromFirestore",value:function(e,t){var n=new ry(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new rm(this._firestore,n),null!==t&&void 0!==t?t:{})}},{key:"toFirestore",value:function(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}}],[{key:"getInstance",value:function(t,n){var r=e.INSTANCES,i=r.get(t);i||(i=new WeakMap,r.set(t,i));var a=i.get(n);return a||(a=new e(t,new Wy(t),n),i.set(n,a)),a}}]),e}();Jy.INSTANCES=new WeakMap;var $y=function(){function e(t,n){h(this,e),this.firestore=t,this._delegate=n,this._userDataWriter=new Wy(t)}return p(e,[{key:"id",get:function(){return this._delegate.id}},{key:"parent",get:function(){return new um(this.firestore,this._delegate.parent)}},{key:"path",get:function(){return this._delegate.path}},{key:"collection",value:function(e){try{return new um(this.firestore,ov(this._delegate,e))}catch(t){throw Zy(t,"collection()","DocumentReference.collection()")}}},{key:"isEqual",value:function(e){return(e=K(e))instanceof rv&&sv(this._delegate,e)}},{key:"set",value:function(e,t){t=Vy("DocumentReference.set",t);try{return t?Oy(this._delegate,e,t):Oy(this._delegate,e)}catch(n){throw Zy(n,"setDoc()","DocumentReference.set()")}}},{key:"update",value:function(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];try{return 1===arguments.length?Dy(this._delegate,e):Dy.apply(void 0,[this._delegate,e,t].concat(r))}catch(a){throw Zy(a,"updateDoc()","DocumentReference.update()")}}},{key:"delete",value:function(){return function(e){return Ry($p(e.firestore,dv),[new zu(e._key,_u.none())])}(this._delegate)}},{key:"onSnapshot",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=em(n),a=tm(n,(function(t){return new nm(e.firestore,new ny(e.firestore._delegate,e._userDataWriter,t._key,t._document,t.metadata,e._delegate.converter))}));return Py(this._delegate,i,a)}},{key:"get",value:function(e){var t,n=this;return t="cache"===(null===e||void 0===e?void 0:e.source)?Ay(this._delegate):"server"===(null===e||void 0===e?void 0:e.source)?function(e){e=$p(e,rv);var t=$p(e.firestore,dv);return Kp(pv(t),e._key,{source:"server"}).then((function(n){return My(t,e,n)}))}(this._delegate):function(e){e=$p(e,rv);var t=$p(e.firestore,dv);return Kp(pv(t),e._key).then((function(n){return My(t,e,n)}))}(this._delegate),t.then((function(e){return new nm(n.firestore,new ny(n.firestore._delegate,n._userDataWriter,e._key,e._document,e.metadata,n._delegate.converter))}))}},{key:"withConverter",value:function(t){return new e(this.firestore,t?this._delegate.withConverter(Jy.getInstance(this.firestore,t)):this._delegate.withConverter(null))}}],[{key:"forPath",value:function(t,n,r){if(t.length%2!==0)throw new wa("invalid-argument","Invalid document reference. Document references must have an even number of segments, but "+"".concat(t.canonicalString()," has ").concat(t.length));return new e(n,new rv(n._delegate,r,new ao(t)))}},{key:"forKey",value:function(t,n,r){return new e(n,new rv(n._delegate,r,t))}}]),e}();function Zy(e,t,n){return e.message=e.message.replace(t,n),e}function em(e){var t,n=v(e);try{for(n.s();!(t=n.n()).done;){var r=t.value;if("object"===typeof r&&!Gy(r))return r}}catch(i){n.e(i)}finally{n.f()}return{}}function tm(e,t){var n,r,i;return{next:function(e){i.next&&i.next(t(e))},error:null===(n=(i=Gy(e[0])?e[0]:Gy(e[1])?e[1]:"function"===typeof e[0]?{next:e[0],error:e[1],complete:e[2]}:{next:e[1],error:e[2],complete:e[3]}).error)||void 0===n?void 0:n.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}var nm=function(){function e(t,n){h(this,e),this._firestore=t,this._delegate=n}return p(e,[{key:"ref",get:function(){return new $y(this._firestore,this._delegate.ref)}},{key:"id",get:function(){return this._delegate.id}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"exists",get:function(){return this._delegate.exists()}},{key:"data",value:function(e){return this._delegate.data(e)}},{key:"get",value:function(e,t){return this._delegate.get(e,t)}},{key:"isEqual",value:function(e){return oy(this._delegate,e._delegate)}}]),e}(),rm=function(e){g(n,e);var t=E(n);function n(){return h(this,n),t.apply(this,arguments)}return p(n,[{key:"data",value:function(e){var t=this._delegate.data(e);return function(e,t){e||ya()}(void 0!==t),t}}]),n}(nm),im=function(){function e(t,n){h(this,e),this.firestore=t,this._delegate=n,this._userDataWriter=new Wy(t)}return p(e,[{key:"where",value:function(t,n,r){try{return new e(this.firestore,cy(this._delegate,function(e,t,n){var r=t,i=ey("where",e);return new ly(i,r,n)}(t,n,r)))}catch(i){throw Zy(i,/(orderBy|where)\(\)/,"Query.$1()")}}},{key:"orderBy",value:function(t,n){try{return new e(this.firestore,cy(this._delegate,function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc",n=ey("orderBy",e);return new fy(n,t)}(t,n)))}catch(r){throw Zy(r,/(orderBy|where)\(\)/,"Query.$1()")}}},{key:"limit",value:function(t){try{return new e(this.firestore,cy(this._delegate,function(e){return Zp("limit",e),new hy("limit",e,"F")}(t)))}catch(n){throw Zy(n,"limit()","Query.limit()")}}},{key:"limitToLast",value:function(t){try{return new e(this.firestore,cy(this._delegate,function(e){return Zp("limitToLast",e),new hy("limitToLast",e,"L")}(t)))}catch(n){throw Zy(n,"limitToLast()","Query.limitToLast()")}}},{key:"startAt",value:function(){try{return new e(this.firestore,cy(this._delegate,py.apply(void 0,arguments)))}catch(t){throw Zy(t,"startAt()","Query.startAt()")}}},{key:"startAfter",value:function(){try{return new e(this.firestore,cy(this._delegate,vy.apply(void 0,arguments)))}catch(t){throw Zy(t,"startAfter()","Query.startAfter()")}}},{key:"endBefore",value:function(){try{return new e(this.firestore,cy(this._delegate,my.apply(void 0,arguments)))}catch(t){throw Zy(t,"endBefore()","Query.endBefore()")}}},{key:"endAt",value:function(){try{return new e(this.firestore,cy(this._delegate,gy.apply(void 0,arguments)))}catch(t){throw Zy(t,"endAt()","Query.endAt()")}}},{key:"isEqual",value:function(e){return cv(this._delegate,e._delegate)}},{key:"get",value:function(e){var t,n=this;return t="cache"===(null===e||void 0===e?void 0:e.source)?Ny(this._delegate):"server"===(null===e||void 0===e?void 0:e.source)?function(e){e=$p(e,iv);var t=$p(e.firestore,dv),n=pv(t),r=new _y(t);return Gp(n,e._query,{source:"server"}).then((function(n){return new iy(t,r,e,n)}))}(this._delegate):function(e){e=$p(e,iv);var t=$p(e.firestore,dv),n=pv(t),r=new _y(t);return uy(e._query),Gp(n,e._query).then((function(n){return new iy(t,r,e,n)}))}(this._delegate),t.then((function(e){return new om(n.firestore,new iy(n.firestore._delegate,n._userDataWriter,n._delegate,e._snapshot))}))}},{key:"onSnapshot",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=em(n),a=tm(n,(function(t){return new om(e.firestore,new iy(e.firestore._delegate,e._userDataWriter,e._delegate,t._snapshot))}));return Py(this._delegate,i,a)}},{key:"withConverter",value:function(t){return new e(this.firestore,t?this._delegate.withConverter(Jy.getInstance(this.firestore,t)):this._delegate.withConverter(null))}}]),e}(),am=function(){function e(t,n){h(this,e),this._firestore=t,this._delegate=n}return p(e,[{key:"type",get:function(){return this._delegate.type}},{key:"doc",get:function(){return new rm(this._firestore,this._delegate.doc)}},{key:"oldIndex",get:function(){return this._delegate.oldIndex}},{key:"newIndex",get:function(){return this._delegate.newIndex}}]),e}(),om=function(){function e(t,n){h(this,e),this._firestore=t,this._delegate=n}return p(e,[{key:"query",get:function(){return new im(this._firestore,this._delegate.query)}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"size",get:function(){return this._delegate.size}},{key:"empty",get:function(){return this._delegate.empty}},{key:"docs",get:function(){var e=this;return this._delegate.docs.map((function(t){return new rm(e._firestore,t)}))}},{key:"docChanges",value:function(e){var t=this;return this._delegate.docChanges(e).map((function(e){return new am(t._firestore,e)}))}},{key:"forEach",value:function(e,t){var n=this;this._delegate.forEach((function(r){e.call(t,new rm(n._firestore,r))}))}},{key:"isEqual",value:function(e){return oy(this._delegate,e._delegate)}}]),e}(),um=function(e){g(n,e);var t=E(n);function n(e,r){var i;return h(this,n),(i=t.call(this,e,r)).firestore=e,i._delegate=r,i}return p(n,[{key:"id",get:function(){return this._delegate.id}},{key:"path",get:function(){return this._delegate.path}},{key:"parent",get:function(){var e=this._delegate.parent;return e?new $y(this.firestore,e):null}},{key:"doc",value:function(e){try{return new $y(this.firestore,void 0===e?uv(this._delegate):uv(this._delegate,e))}catch(t){throw Zy(t,"doc()","CollectionReference.doc()")}}},{key:"add",value:function(e){var t=this;return function(e,t){var n=$p(e.firestore,dv),r=uv(e),i=Sy(e.converter,t);return Ry(n,[Pv(Dv(e.firestore),"addDoc",r._key,i,null!==e.converter,{}).toMutation(r._key,_u.exists(!1))]).then((function(){return r}))}(this._delegate,e).then((function(e){return new $y(t.firestore,e)}))}},{key:"isEqual",value:function(e){return sv(this._delegate,e._delegate)}},{key:"withConverter",value:function(e){return new n(this.firestore,e?this._delegate.withConverter(Jy.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}]),n}(im);function sm(e){return $p(e,rv)}var cm,lm=function(){function e(){h(this,e);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];this._delegate=S(xv,n)}return p(e,[{key:"isEqual",value:function(e){return(e=K(e))instanceof xv&&this._delegate._internalPath.isEqual(e._internalPath)}}],[{key:"documentId",value:function(){return new e(Ka.keyField().canonicalString())}}]),e}(),fm=function(){function e(t){h(this,e),this._delegate=t}return p(e,[{key:"isEqual",value:function(e){return this._delegate.isEqual(e._delegate)}}],[{key:"serverTimestamp",value:function(){var t=new Mv("serverTimestamp");return t._methodName="FieldValue.serverTimestamp",new e(t)}},{key:"delete",value:function(){var t=new Lv("deleteField");return t._methodName="FieldValue.delete",new e(t)}},{key:"arrayUnion",value:function(){var t=By.apply(void 0,arguments);return t._methodName="FieldValue.arrayUnion",new e(t)}},{key:"arrayRemove",value:function(){var t=Uy.apply(void 0,arguments);return t._methodName="FieldValue.arrayRemove",new e(t)}},{key:"increment",value:function(t){var n=function(e){return new Bv("increment",e)}(t);return n._methodName="FieldValue.increment",new e(n)}}]),e}(),hm={Firestore:Hy,GeoPoint:Iv,Timestamp:Ma,Blob:Ky,Transaction:Yy,WriteBatch:Xy,DocumentReference:$y,DocumentSnapshot:nm,Query:im,QueryDocumentSnapshot:rm,QuerySnapshot:om,CollectionReference:um,FieldPath:lm,FieldValue:fm,setLogLevel:function(e){!function(e){la.setLogLevel(e)}(e)},CACHE_SIZE_UNLIMITED:-1};(function(e,t){e.INTERNAL.registerComponent(new X("firestore-compat",(function(e){var n=e.getProvider("app-compat").getImmediate(),r=e.getProvider("firestore").getImmediate();return t(n,r)}),"PUBLIC").setServiceProps(Object.assign({},hm)))})(cm=Ke,(function(e,t){return new Hy(e,t,new Qy)})),cm.registerVersion("@firebase/firestore-compat","0.1.14");var dm=Ke.initializeApp({apiKey:"AIzaSyDUJF8-OT573VwhGhEKeJwwBilRVaPjDsY",authDomain:"discord-chat-11e09.firebaseapp.com",projectId:"discord-chat-11e09",storageBucket:"discord-chat-11e09.appspot.com",messagingSenderId:"912167279581",appId:"1:912167279581:web:f0497f799e479e13377434",measurementId:"G-TX5DFKJDEG"}),pm=dm.firestore(),vm=n(184);var ym=function(){var e=(0,t.useRef)(null),n=(0,t.useRef)(null);return(0,t.useEffect)((function(){return n.current=new(l())(e.current,{strings:["\u0e02\u0e2d\u0e43\u0e2b\u0e49 Dek65 \u0e17\u0e38\u0e01\u0e04\u0e19\u0e15\u0e34\u0e14\u0e15\u0e32\u0e21\u0e04\u0e13\u0e30\u0e17\u0e35\u0e48\u0e2b\u0e27\u0e31\u0e07\u0e19\u0e48\u0e30\u0e07\u0e31\u0e1a \ud83e\udec2","\u0e40\u0e1b\u0e47\u0e19\u0e01\u0e33\u0e25\u0e31\u0e07\u0e43\u0e08\u0e43\u0e2b\u0e49\u0e19\u0e30 :) ","\u0e2a\u0e39\u0e49\u0e40\u0e02\u0e32 \u0e40\u0e23\u0e32\u0e17\u0e33\u0e44\u0e14\u0e49 /^_^/ ","\u0e02\u0e2d\u0e43\u0e2b\u0e49\u0e42\u0e25\u0e01\u0e43\u0e08\u0e14\u0e35\u0e01\u0e31\u0e1a\u0e40\u0e18\u0e2d\u0e19\u0e30 <3 ","\u0e40\u0e21\u0e37\u0e48\u0e2d\u0e04\u0e34\u0e14\u0e08\u0e30\u0e40\u0e14\u0e34\u0e19\u0e44\u0e1b\u0e02\u0e49\u0e32\u0e07\u0e2b\u0e19\u0e49\u0e32 \u0e42\u0e1b\u0e23\u0e14\u0e2d\u0e22\u0e48\u0e32\u0e2b\u0e31\u0e19\u0e21\u0e2d\u0e07\u0e01\u0e25\u0e31\u0e1a\u0e2b\u0e25\u0e31\u0e07\u0e2d\u0e22\u0e48\u0e32\u0e07\u0e40\u0e2a\u0e35\u0e22\u0e14\u0e32\u0e22 \ud83d\udc4a","\u0e2b\u0e25\u0e31\u0e07\u0e1e\u0e32\u0e22\u0e38\u0e1c\u0e48\u0e32\u0e19\u0e44\u0e1b \u0e1f\u0e49\u0e32\u0e22\u0e48\u0e2d\u0e21\u0e2a\u0e14\u0e43\u0e2a\u0e40\u0e2a\u0e21\u0e2d \ud83c\udf27"],typeSpeed:50,backSpeed:50,loop:!0}),function(){n.current.destroy()}}),[]),(0,vm.jsx)("div",{className:"body",children:(0,vm.jsxs)("div",{className:"index-container",children:[(0,vm.jsxs)("div",{className:"index-header",children:["\u0e01\u0e2d\u0e14\u0e01\u0e31\u0e19",(0,vm.jsx)("span",{children:".com"})]}),(0,vm.jsx)("div",{className:"index-information",children:(0,vm.jsx)("span",{ref:e})}),(0,vm.jsx)("div",{className:"index-imgRandom",children:(0,vm.jsx)("img",{src:s[parseInt(13*Math.random())]})}),(0,vm.jsx)("div",{className:"index-btn",onClick:function(){var e=parseInt(1e6*Math.random()+1e6);pm.collection("motivation").where("id",">",e).orderBy("id").limit(1).get().then((function(e){e.forEach((function(e){window.location.href="?p=random&id=".concat(e.data().id)}))})).catch((function(e){alert("\u0e1a\u0e32\u0e07\u0e2d\u0e22\u0e48\u0e32\u0e07\u0e1c\u0e34\u0e14\u0e1e\u0e25\u0e32\u0e14 \u0e01\u0e23\u0e38\u0e13\u0e32\u0e25\u0e2d\u0e07\u0e43\u0e2b\u0e21\u0e48\u0e2d\u0e35\u0e01\u0e04\u0e23\u0e31\u0e49\u0e07 :(")}))},children:"\u0e23\u0e31\u0e1a\u0e01\u0e33\u0e25\u0e31\u0e07\u0e43\u0e08\u0e02\u0e2d\u0e07\u0e04\u0e38\u0e13"}),(0,vm.jsx)("div",{className:"index-create",onClick:function(){return window.location.href="/god-gun-app?p=create"},children:"\u0e2a\u0e23\u0e49\u0e32\u0e07\u0e01\u0e33\u0e25\u0e31\u0e07\u0e43\u0e08"}),(0,vm.jsxs)("div",{className:"index-credit",children:["Created by ",(0,vm.jsx)("span",{className:"index-create",onClick:function(){return window.open("https://twitter.com/lilpark96","_blank")},children:"Rest"})," \ud83d\udc35",(0,vm.jsx)("br",{}),"Created by ",(0,vm.jsx)("span",{className:"index-create",onClick:function(){return window.open("https://www.instagram.com/algnott/","_blank")},children:"algnott"}),"\ud83d\udc36",(0,vm.jsx)("br",{})]})]})})},mm=n(4569),gm=n.n(mm);function km(e){var n=e.setLoading,r=(0,t.useRef)(null),i=(0,t.useRef)(null),a=o((0,t.useState)(""),2),u=a[0],s=a[1],c=o((0,t.useState)([]),2),f=c[0],h=c[1],d=o((0,t.useState)(""),2),p=d[0],v=d[1],y=o((0,t.useState)(""),2),m=y[0],g=y[1],k=o((0,t.useState)(!1),2),w=k[0],b=k[1];(0,t.useEffect)((function(){return i.current=new(l())(r.current,{strings:["\u0e02\u0e2d\u0e01\u0e33\u0e25\u0e31\u0e07\u0e43\u0e08\u0e2b\u0e19\u0e48\u0e2d\u0e22 :(&nbsp;"],typeSpeed:50,backSpeed:50}),function(){i.current.destroy()}}),[]);return(0,vm.jsxs)("div",{className:"create-container",children:[(0,vm.jsx)("div",{className:"create-header",children:(0,vm.jsx)("span",{ref:r})}),(0,vm.jsx)("div",{className:"create-header-form",style:{margin:"0"},children:(0,vm.jsx)("span",{style:{cursor:"pointer",textDecoration:"underline"},onClick:function(){return window.location.href="/god-gun-app?p=home"},children:"\u0e01\u0e25\u0e31\u0e1a\u0e2b\u0e19\u0e49\u0e32\u0e2b\u0e25\u0e31\u0e01"})}),(0,vm.jsxs)("div",{className:"create-header-form",children:["\u0e0a\u0e37\u0e48\u0e2d\u0e02\u0e2d\u0e07\u0e44\u0e2d\u0e15\u0e49\u0e32\u0e27* ",(0,vm.jsxs)("span",{children:["(",p.length,"/20)"]})," "]}),(0,vm.jsx)("input",{name:"name",type:"text",placeholder:"\u0e0a\u0e37\u0e48\u0e2d ..",value:p,onChange:function(e){return v(e.target.value.length<21?e.target.value:p)}}),(0,vm.jsxs)("div",{className:"create-header-form",children:["\u0e01\u0e33\u0e25\u0e31\u0e07\u0e43\u0e08\u0e02\u0e2d\u0e07\u0e44\u0e2d\u0e15\u0e49\u0e32\u0e27* ",(0,vm.jsxs)("span",{children:["(",m.length,"/100)"]})," "]}),(0,vm.jsx)("textarea",{name:"content",placeholder:"\u0e01\u0e33\u0e25\u0e31\u0e07\u0e43\u0e08 ..",rows:4,value:m,onChange:function(e){return g(e.target.value.length<101?e.target.value:m)}}),(0,vm.jsxs)("div",{className:"create-header-form",children:["\u0e40\u0e1e\u0e25\u0e07\u0e1b\u0e25\u0e2d\u0e1a\u0e43\u0e08\u0e02\u0e2d\u0e07\u0e44\u0e2d\u0e15\u0e49\u0e32\u0e27",w&&(0,vm.jsxs)("span",{children:[" ",(0,vm.jsx)("u",{style:{cursor:"pointer",textDecoration:"underline"},onClick:function(){b(!1),h([])},children:"\u0e25\u0e1a\u0e40\u0e1e\u0e25\u0e07"})]})]}),!w&&(0,vm.jsxs)(vm.Fragment,{children:[(0,vm.jsx)("input",{name:"name",xtype:"text",placeholder:"\u0e04\u0e49\u0e19\u0e2b\u0e32 ..",value:u,onChange:function(e){return s(e.target.value)}}),(0,vm.jsx)("div",{className:"index-btn",style:{marginTop:20},onClick:function(){var e;(e=u)?gm()("https://www.googleapis.com/youtube/v3/search?part=snippet&key=".concat("AIzaSyDo1WghEn5ngT7iRz3iht9229COoUL7MvQ","&q=").concat(e)).then((function(e){var t=e.data,n=[];t.items.map((function(e,t){e.snippet.id=e.id,n=[].concat(G(n),[e.snippet])})),b(n[0]),h(n)})):alert("\u0e01\u0e23\u0e38\u0e13\u0e32\u0e43\u0e2a\u0e48\u0e0a\u0e37\u0e48\u0e2d\u0e40\u0e1e\u0e25\u0e07\u0e17\u0e35\u0e48\u0e15\u0e49\u0e2d\u0e07\u0e01\u0e32\u0e23\u0e04\u0e49\u0e19\u0e2b\u0e32")},children:"\u0e04\u0e49\u0e19\u0e2b\u0e32\u0e40\u0e1e\u0e25\u0e07"})]}),f.map((function(e,t){if(0==t)return(0,vm.jsxs)("div",{className:"create-y-search",children:[(0,vm.jsx)("div",{className:"create-y-search-img",style:{backgroundImage:"url(".concat(e.thumbnails.medium.url,")")}}),(0,vm.jsxs)("div",{className:"create-y-search-name",children:[e.title.substring(0,15)," .."]})]},t)})),(0,vm.jsx)("div",{className:"index-btn",style:{marginTop:20},onClick:function(){if(p)if(m){n(!0);var e=parseInt(1e6*Math.random()+1e6);pm.collection("motivation").doc(e.toString()).set({id:e,created:(new Date).valueOf(),name:p,content:m,music:w,report:0}).then((function(t){window.location.href="?p=created&id=".concat(e)}))}else alert("\u0e01\u0e23\u0e38\u0e13\u0e32\u0e23\u0e30\u0e1a\u0e38\u0e01\u0e33\u0e25\u0e31\u0e07\u0e43\u0e08\u0e02\u0e2d\u0e07\u0e44\u0e2d\u0e15\u0e49\u0e32\u0e27 :(");else alert("\u0e01\u0e23\u0e38\u0e13\u0e32\u0e23\u0e30\u0e1a\u0e38\u0e0a\u0e37\u0e48\u0e2d\u0e02\u0e2d\u0e07\u0e44\u0e2d\u0e15\u0e49\u0e32\u0e27 :(")},children:"\u0e2a\u0e23\u0e49\u0e32\u0e07\u0e01\u0e33\u0e25\u0e31\u0e07\u0e43\u0e08 :)"}),(0,vm.jsxs)("div",{className:"index-credit",children:["Created by ",(0,vm.jsx)("span",{className:"index-create",onClick:function(){return window.open("https://twitter.com/lilpark96","_blank")},children:"Rest"})," \ud83d\udc35",(0,vm.jsx)("br",{}),"Created by ",(0,vm.jsx)("span",{className:"index-create",onClick:function(){return window.open("https://www.instagram.com/algnott/","_blank")},children:"algnott"})," \ud83d\udc36"]})]})}var wm=n(8401);function bm(e){var n=e.setLoading,r=u.parse(window.location.search),i=(0,t.useRef)(null),a=(0,t.useRef)(null),c=o((0,t.useState)({id:0,created:0,report:0,content:"null",music:{title:"null",channelTitle:"null",thumbnails:{medium:{width:320,url:"null",height:180},high:{height:360,width:480,url:"null"},default:{height:90,url:"null",width:120}},description:"null",channelId:"null",publishTime:"null",liveBroadcastContent:"null",id:{videoId:"null",kind:"null"},publishedAt:"null"},name:"null"}),2),f=c[0],h=c[1];return(0,t.useEffect)((function(){return n(!0),r.id||(window.location.href="/"),pm.collection("motivation").doc(r.id).get().then((function(e){if(e.exists){n(!1),h(e.data());var t={strings:[e.data().content],typeSpeed:50,backSpeed:50};a.current=new(l())(i.current,t)}else window.location.href="/"})),console.log(window.location),function(){a.current.destroy()}}),[]),(0,vm.jsx)("div",{className:"body",children:(0,vm.jsxs)("div",{className:"index-container",children:[(0,vm.jsx)("div",{className:"index-header",children:(0,vm.jsx)("span",{style:{fontSize:25},children:"\u0e01\u0e33\u0e25\u0e31\u0e07\u0e43\u0e08\u0e02\u0e2d\u0e07\u0e04\u0e38\u0e13\u0e16\u0e39\u0e01\u0e2a\u0e48\u0e07\u0e44\u0e1b\u0e41\u0e25\u0e49\u0e27 :)"})}),(0,vm.jsx)("div",{className:"index-information",children:(0,vm.jsx)("span",{ref:i})}),f.music?(0,vm.jsx)("iframe",{className:"created-frame",width:"300",height:"190",style:{marginTop:30},src:"https://www.youtube.com/embed/".concat(f.music.id.videoId,"?controls=0"),title:f.music.title,frameborder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture"}):(0,vm.jsx)("div",{className:"index-imgRandom",children:(0,vm.jsx)("img",{src:s[parseInt(13*Math.random())]})}),(0,vm.jsxs)("div",{className:"index-create",style:{display:"flex",alignItems:"center",justifyContent:"center",gap:5,color:"rgb(65,105,225)"},onClick:function(){return window.open("https://twitter.com/intent/tweet?url=".concat(window.location.origin,"/god-gun-app%3Fp%3Drandom%26id%3D").concat(f.id,"&text=\u0e01\u0e33\u0e25\u0e31\u0e07\u0e43\u0e08\u0e02\u0e2d\u0e07 ").concat(f.name," \ud83d\ude0d&via=\u0e01\u0e2d\u0e14\u0e01\u0e31\u0e19"),"_blank")},children:[(0,vm.jsx)("img",{src:wm})," \u0e41\u0e0a\u0e23\u0e4c\u0e44\u0e1b\u0e22\u0e31\u0e07 twitter"]}),(0,vm.jsx)("div",{className:"index-create",onClick:function(){return window.location.href="/god-gun-app"},children:"\u0e01\u0e25\u0e31\u0e1a\u0e2b\u0e19\u0e49\u0e32\u0e2b\u0e25\u0e31\u0e01"}),(0,vm.jsxs)("div",{className:"index-credit",children:["Created by ",(0,vm.jsx)("span",{className:"index-create",onClick:function(){return window.open("https://twitter.com/lilpark96","_blank")},children:"Rest"})," \ud83d\udc35",(0,vm.jsx)("br",{}),"Created by ",(0,vm.jsx)("span",{className:"index-create",onClick:function(){return window.open("https://www.instagram.com/algnott/","_blank")},children:"algnott"}),"\ud83d\udc36",(0,vm.jsx)("br",{})]})]})})}var xm=n(5096);function Em(){var e=(0,t.useRef)(null),n=(0,t.useRef)(null);return(0,t.useEffect)((function(){return n.current=new(l())(e.current,{strings:["\u0e01\u0e33\u0e25\u0e31\u0e07\u0e1a\u0e23\u0e23\u0e08\u0e38\u0e01\u0e33\u0e25\u0e31\u0e07\u0e43\u0e08 .. &nbsp;","\u0e01\u0e33\u0e25\u0e31\u0e07\u0e2a\u0e48\u0e07\u0e01\u0e33\u0e25\u0e31\u0e07\u0e43\u0e08 .. &nbsp;","\u0e01\u0e33\u0e25\u0e31\u0e07\u0e43\u0e08\u0e16\u0e36\u0e07\u0e2a\u0e32\u0e02\u0e32\u0e15\u0e49\u0e19\u0e17\u0e32\u0e07\u0e41\u0e25\u0e49\u0e27 .. &nbsp;","\u0e01\u0e33\u0e25\u0e31\u0e07\u0e41\u0e01\u0e30\u0e2b\u0e48\u0e2d\u0e01\u0e33\u0e25\u0e31\u0e07\u0e43\u0e08 .. &nbsp;","\u0e01\u0e33\u0e25\u0e31\u0e07\u0e43\u0e08\u0e16\u0e36\u0e07\u0e2a\u0e32\u0e02\u0e32\u0e1b\u0e25\u0e32\u0e22\u0e17\u0e32\u0e07\u0e40\u0e40\u0e25\u0e49\u0e27 .. &nbsp;"],typeSpeed:50,backSpeed:50,loop:!0}),function(){n.current.destroy()}}),[]),(0,vm.jsxs)("div",{className:"loading-container",children:[(0,vm.jsx)("img",{src:xm}),(0,vm.jsx)("div",{children:(0,vm.jsx)("span",{ref:e})})]})}function Sm(e){var n=e.setLoading,r=u.parse(window.location.search),i=o((0,t.useState)({id:0,created:0,report:0,content:"null",music:{title:"null",channelTitle:"null",thumbnails:{medium:{width:320,url:"null",height:180},high:{height:360,width:480,url:"null"},default:{height:90,url:"null",width:120}},description:"null",channelId:"null",publishTime:"null",liveBroadcastContent:"null",id:{videoId:"null",kind:"null"},publishedAt:"null"},name:"null"}),2),a=i[0],s=i[1];return(0,t.useEffect)((function(){n(!0),pm.collection("motivation").doc(r.id).get().then((function(e){s(e.data()),n(!1)})).catch((function(e){alert("\u0e1a\u0e32\u0e07\u0e2d\u0e22\u0e48\u0e32\u0e07\u0e1c\u0e34\u0e14\u0e1e\u0e25\u0e32\u0e14 \u0e01\u0e23\u0e38\u0e13\u0e32\u0e25\u0e2d\u0e07\u0e43\u0e2b\u0e21\u0e48\u0e2d\u0e35\u0e01\u0e04\u0e23\u0e31\u0e49\u0e07 :(")}))}),[]),(0,vm.jsxs)("div",{children:[(0,vm.jsx)("h1",{children:"!!!This section is not done!!!"}),(0,vm.jsx)("h2",{children:"Sample JSON Data"}),JSON.stringify(a)]})}var Im=function(){var e=u.parse(window.location.search),n=o((0,t.useState)(""),2),r=n[0],i=n[1],a=o((0,t.useState)(!1),2),s=a[0],c=a[1];return(0,t.useEffect)((function(){i(e.p?e.p:"home")}),[]),(0,vm.jsxs)("div",{className:"body",children:[s&&(0,vm.jsx)(Em,{}),"home"==r?(0,vm.jsx)(ym,{}):"create"==r?(0,vm.jsx)(km,{setLoading:c}):"created"==r?(0,vm.jsx)(bm,{setLoading:c}):"random"==r?(0,vm.jsx)(Sm,{setLoading:c}):(0,vm.jsx)(ym,{})]})};r.render((0,vm.jsx)(t.StrictMode,{children:(0,vm.jsx)(Im,{})}),document.getElementById("root"))}()}();
//# sourceMappingURL=main.97d5c911.js.map